/*! For license information please see 3.ordering-ui.78891ada8fe23ee5aae1.js.LICENSE.txt */
(window.webpackJsonpOrderingUI=window.webpackJsonpOrderingUI||[]).push([[3],[,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ConfigContext",{enumerable:!0,get:function(){return n.ConfigContext}}),Object.defineProperty(t,"ConfigProvider",{enumerable:!0,get:function(){return n.ConfigProvider}}),Object.defineProperty(t,"useConfig",{enumerable:!0,get:function(){return n.useConfig}}),Object.defineProperty(t,"LanguageContext",{enumerable:!0,get:function(){return o.LanguageContext}}),Object.defineProperty(t,"LanguageProvider",{enumerable:!0,get:function(){return o.LanguageProvider}}),Object.defineProperty(t,"useLanguage",{enumerable:!0,get:function(){return o.useLanguage}}),Object.defineProperty(t,"OrderContext",{enumerable:!0,get:function(){return u.OrderContext}}),Object.defineProperty(t,"OrderProvider",{enumerable:!0,get:function(){return u.OrderProvider}}),Object.defineProperty(t,"useOrder",{enumerable:!0,get:function(){return u.useOrder}}),Object.defineProperty(t,"BusinessContext",{enumerable:!0,get:function(){return i.BusinessContext}}),Object.defineProperty(t,"BusinessProvider",{enumerable:!0,get:function(){return i.BusinessProvider}}),Object.defineProperty(t,"useBusiness",{enumerable:!0,get:function(){return i.useBusiness}}),Object.defineProperty(t,"SessionContext",{enumerable:!0,get:function(){return a.SessionContext}}),Object.defineProperty(t,"SessionProvider",{enumerable:!0,get:function(){return a.SessionProvider}}),Object.defineProperty(t,"useSession",{enumerable:!0,get:function(){return a.useSession}}),Object.defineProperty(t,"WebsocketContext",{enumerable:!0,get:function(){return s.WebsocketContext}}),Object.defineProperty(t,"WebsocketProvider",{enumerable:!0,get:function(){return s.WebsocketProvider}}),Object.defineProperty(t,"useWebsocket",{enumerable:!0,get:function(){return s.useWebsocket}}),Object.defineProperty(t,"ApiContext",{enumerable:!0,get:function(){return c.ApiContext}}),Object.defineProperty(t,"ApiProvider",{enumerable:!0,get:function(){return c.ApiProvider}}),Object.defineProperty(t,"useApi",{enumerable:!0,get:function(){return c.useApi}}),Object.defineProperty(t,"EventContext",{enumerable:!0,get:function(){return l.EventContext}}),Object.defineProperty(t,"EventProvider",{enumerable:!0,get:function(){return l.EventProvider}}),Object.defineProperty(t,"useEvent",{enumerable:!0,get:function(){return l.useEvent}}),Object.defineProperty(t,"UtilsContext",{enumerable:!0,get:function(){return f.UtilsContext}}),Object.defineProperty(t,"UtilsProviders",{enumerable:!0,get:function(){return f.UtilsProviders}}),Object.defineProperty(t,"useUtils",{enumerable:!0,get:function(){return f.useUtils}}),Object.defineProperty(t,"OrderingContext",{enumerable:!0,get:function(){return d.OrderingContext}}),Object.defineProperty(t,"OrderingProvider",{enumerable:!0,get:function(){return d.OrderingProvider}}),Object.defineProperty(t,"CustomerContext",{enumerable:!0,get:function(){return p.CustomerContext}}),Object.defineProperty(t,"CustomerProvider",{enumerable:!0,get:function(){return p.CustomerProvider}}),Object.defineProperty(t,"useCustomer",{enumerable:!0,get:function(){return p.useCustomer}}),Object.defineProperty(t,"ValidationFieldsContext",{enumerable:!0,get:function(){return y.ValidationFieldsContext}}),Object.defineProperty(t,"ValidationFieldsProvider",{enumerable:!0,get:function(){return y.ValidationFieldsProvider}}),Object.defineProperty(t,"useValidationFields",{enumerable:!0,get:function(){return y.useValidationFields}});var n=r(33),o=r(26),u=r(17),i=r(151),a=r(16),s=r(57),c=r(11),l=r(42),f=r(58),d=r(448),p=r(60),y=r(59)},,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AddressDetails",{enumerable:!0,get:function(){return n.AddressDetails}}),Object.defineProperty(t,"AddressForm",{enumerable:!0,get:function(){return o.AddressForm}}),Object.defineProperty(t,"AddressList",{enumerable:!0,get:function(){return u.AddressList}}),Object.defineProperty(t,"BaseComponent",{enumerable:!0,get:function(){return i.BaseComponent}}),Object.defineProperty(t,"BusinessAndProductList",{enumerable:!0,get:function(){return a.BusinessAndProductList}}),Object.defineProperty(t,"BusinessBasicInformation",{enumerable:!0,get:function(){return s.BusinessBasicInformation}}),Object.defineProperty(t,"BusinessController",{enumerable:!0,get:function(){return c.BusinessController}}),Object.defineProperty(t,"BusinessList",{enumerable:!0,get:function(){return l.BusinessList}}),Object.defineProperty(t,"BusinessInformation",{enumerable:!0,get:function(){return f.BusinessInformation}}),Object.defineProperty(t,"BusinessProductsCategories",{enumerable:!0,get:function(){return d.BusinessProductsCategories}}),Object.defineProperty(t,"BusinessProductsSearch",{enumerable:!0,get:function(){return p.BusinessProductsSearch}}),Object.defineProperty(t,"BusinessReviews",{enumerable:!0,get:function(){return y.BusinessReviews}}),Object.defineProperty(t,"BusinessSortControl",{enumerable:!0,get:function(){return v.BusinessSortControl}}),Object.defineProperty(t,"BusinessTypeFilter",{enumerable:!0,get:function(){return b.BusinessTypeFilter}}),Object.defineProperty(t,"Cart",{enumerable:!0,get:function(){return m.Cart}}),Object.defineProperty(t,"Checkout",{enumerable:!0,get:function(){return h.Checkout}}),Object.defineProperty(t,"CouponControl",{enumerable:!0,get:function(){return g.CouponControl}}),Object.defineProperty(t,"DragAndDrop",{enumerable:!0,get:function(){return O.DragAndDrop}}),Object.defineProperty(t,"DriverTips",{enumerable:!0,get:function(){return w.DriverTips}}),Object.defineProperty(t,"ExamineClick",{enumerable:!0,get:function(){return j.ExamineClick}}),Object.defineProperty(t,"FacebookLoginButton",{enumerable:!0,get:function(){return P.FacebookLoginButton}}),Object.defineProperty(t,"ForgotPasswordForm",{enumerable:!0,get:function(){return S.ForgotPasswordForm}}),Object.defineProperty(t,"GoogleAutocompleteInput",{enumerable:!0,get:function(){return _.GoogleAutocompleteInput}}),Object.defineProperty(t,"GoogleMaps",{enumerable:!0,get:function(){return I.GoogleMaps}}),Object.defineProperty(t,"GoogleMapsMap",{enumerable:!0,get:function(){return I.GoogleMapsMap}}),Object.defineProperty(t,"GpsButton",{enumerable:!0,get:function(){return E.GpsButton}}),Object.defineProperty(t,"GoogleGpsButton",{enumerable:!0,get:function(){return E.GoogleGpsButton}}),Object.defineProperty(t,"LanguageSelector",{enumerable:!0,get:function(){return k.LanguageSelector}}),Object.defineProperty(t,"LoginForm",{enumerable:!0,get:function(){return C.LoginForm}}),Object.defineProperty(t,"LogoutAction",{enumerable:!0,get:function(){return A.LogoutAction}}),Object.defineProperty(t,"MainSearch",{enumerable:!0,get:function(){return x.MainSearch}}),Object.defineProperty(t,"MenuControl",{enumerable:!0,get:function(){return T.MenuControl}}),Object.defineProperty(t,"MomentOption",{enumerable:!0,get:function(){return M.MomentOption}}),Object.defineProperty(t,"MyOrders",{enumerable:!0,get:function(){return D.MyOrders}}),Object.defineProperty(t,"MyOrdersList",{enumerable:!0,get:function(){return R.MyOrdersList}}),Object.defineProperty(t,"OrderList",{enumerable:!0,get:function(){return U.OrderList}}),Object.defineProperty(t,"OrderTypeControl",{enumerable:!0,get:function(){return L.OrderTypeControl}}),Object.defineProperty(t,"PaymentOptions",{enumerable:!0,get:function(){return B.PaymentOptions}}),Object.defineProperty(t,"Popup",{enumerable:!0,get:function(){return F.Popup}}),Object.defineProperty(t,"ProductComponent",{enumerable:!0,get:function(){return Y.ProductComponent}}),Object.defineProperty(t,"ProductForm",{enumerable:!0,get:function(){return q.ProductForm}}),Object.defineProperty(t,"ProductShare",{enumerable:!0,get:function(){return N.ProductShare}}),Object.defineProperty(t,"ProductImages",{enumerable:!0,get:function(){return W.ProductImages}}),Object.defineProperty(t,"ProductIngredient",{enumerable:!0,get:function(){return H.ProductIngredient}}),Object.defineProperty(t,"ProductOption",{enumerable:!0,get:function(){return G.ProductOption}}),Object.defineProperty(t,"ProductOptionSuboption",{enumerable:!0,get:function(){return z.ProductOptionSuboption}}),Object.defineProperty(t,"ProductsList",{enumerable:!0,get:function(){return $.ProductsList}}),Object.defineProperty(t,"ProductsListing",{enumerable:!0,get:function(){return V.ProductsListing}}),Object.defineProperty(t,"Messages",{enumerable:!0,get:function(){return J.Messages}}),Object.defineProperty(t,"SearchOptions",{enumerable:!0,get:function(){return K.SearchOptions}}),Object.defineProperty(t,"SignupForm",{enumerable:!0,get:function(){return X.SignupForm}}),Object.defineProperty(t,"SingleBusinessCard",{enumerable:!0,get:function(){return Z.SingleBusinessCard}}),Object.defineProperty(t,"SingleOrderCard",{enumerable:!0,get:function(){return Q.SingleOrderCard}}),Object.defineProperty(t,"SingleProductCard",{enumerable:!0,get:function(){return ee.SingleProductCard}}),Object.defineProperty(t,"UserFormDetails",{enumerable:!0,get:function(){return te.UserFormDetails}}),Object.defineProperty(t,"UpsellingPage",{enumerable:!0,get:function(){return re.UpsellingPage}}),Object.defineProperty(t,"WrapperGoogleMaps",{enumerable:!0,get:function(){return ne.WrapperGoogleMaps}}),Object.defineProperty(t,"OrderDetails",{enumerable:!0,get:function(){return oe.OrderDetails}}),Object.defineProperty(t,"OrderReview",{enumerable:!0,get:function(){return ue.OrderReview}}),Object.defineProperty(t,"CmsContent",{enumerable:!0,get:function(){return ie.CmsContent}}),Object.defineProperty(t,"PhoneAutocomplete",{enumerable:!0,get:function(){return ae.PhoneAutocomplete}}),Object.defineProperty(t,"BusinessesMap",{enumerable:!0,get:function(){return se.BusinessesMap}}),Object.defineProperty(t,"PaymentOptionCash",{enumerable:!0,get:function(){return ce.PaymentOptionCash}}),Object.defineProperty(t,"PaymentOptionPaypal",{enumerable:!0,get:function(){return le.PaymentOptionPaypal}}),Object.defineProperty(t,"PaymentOptionStripe",{enumerable:!0,get:function(){return fe.PaymentOptionStripe}}),Object.defineProperty(t,"PaymentOptionStripeDirect",{enumerable:!0,get:function(){return de.PaymentOptionStripeDirect}}),Object.defineProperty(t,"PaymentOptionStripeRedirect",{enumerable:!0,get:function(){return pe.PaymentOptionStripeRedirect}}),Object.defineProperty(t,"StripeElementsForm",{enumerable:!0,get:function(){return ye.StripeElementsForm}}),Object.defineProperty(t,"CardForm",{enumerable:!0,get:function(){return ve.CardForm}}),Object.defineProperty(t,"StripeRedirectForm",{enumerable:!0,get:function(){return be.StripeRedirectForm}}),Object.defineProperty(t,"FloatingButton",{enumerable:!0,get:function(){return me.FloatingButton}}),Object.defineProperty(t,"ResetPassword",{enumerable:!0,get:function(){return he.ResetPassword}}),Object.defineProperty(t,"Analytics",{enumerable:!0,get:function(){return ge.Analytics}}),Object.defineProperty(t,"AppleLogin",{enumerable:!0,get:function(){return Oe.AppleLogin}});var n=r(348),o=r(379),u=r(380),i=r(381),a=r(382),s=r(383),c=r(384),l=r(385),f=r(386),d=r(387),p=r(388),y=r(389),v=r(390),b=r(391),m=r(392),h=r(393),g=r(394),O=r(395),w=r(396),j=r(397),P=r(398),S=r(399),_=r(400),I=r(401),E=r(402),k=r(403),C=r(404),A=r(405),x=r(406),T=r(407),M=r(408),D=r(410),R=r(411),U=r(412),L=r(413),B=r(414),F=r(415),Y=r(416),q=r(418),N=r(419),W=r(420),H=r(421),G=r(149),z=r(422),$=r(150),V=r(423),J=r(424),K=r(425),X=r(426),Z=r(427),Q=r(428),ee=r(429),te=r(430),re=r(431),ne=r(72),oe=r(432),ue=r(433),ie=r(434),ae=r(435),se=r(436),ce=r(437),le=r(147),fe=r(438),de=r(439),pe=r(440),ye=r(441),ve=r(442),be=r(443),me=r(444),he=r(445),ge=r(446),Oe=r(447)},,,,,function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.useApi=t.ApiProvider=t.ApiContext=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var a=o?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(r,u,a):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(288);function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=(0,o.createContext)();t.ApiContext=d;t.ApiProvider=function(e){var t=e.settings,r=e.children,n=l((0,o.useState)(new u.Ordering(t)),2),i=n[0],a=n[1],c=l((0,o.useState)(t.language),2),f=c[0],p=c[1];(0,o.useEffect)((function(){if(i.language!==f){var e=new u.Ordering(s(s({},t),{},{language:f}));a(e)}}),[f]);var y={setLanguage:function(e){e!==f&&p(e)}};return o.default.createElement(d.Provider,{value:[i,y]},r)};t.useApi=function(){return(0,o.useContext)(d)||[{}]}},,,,,function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.useSession=t.SessionProvider=t.SessionContext=void 0;var o,u=(o=r(8))&&o.__esModule?o:{default:o},i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){f(u,n,o,i,a,"next",e)}function a(e){f(u,n,o,i,a,"throw",e)}i(void 0)}))}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=(0,i.createContext)();t.SessionContext=v;t.SessionProvider=function(e){var t=e.children,r=e.strategy,n=p((0,i.useState)({auth:null,token:null,user:null,loading:!0}),2),o=n[0],a=n[1],s=function(){var e=d(u.default.mark((function e(){var t,r,n,i;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:t=e.sent,r=t.auth,n=t.token,i=t.user,a(c(c({},o),{},{auth:r,token:n,user:i,loading:!1}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=d(u.default.mark((function e(){var t,n,o;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getItem("token");case 2:return t=e.sent,e.next=5,r.getItem("token");case 5:return n=e.sent,e.next=8,r.getItem("user",!0);case 8:return o=e.sent,e.abrupt("return",{auth:t,token:n,user:o});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=d(u.default.mark((function e(t){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setItem("token",t.token);case 2:return e.next=4,r.setItem("user",t.user,!0);case 4:a(c(c({},o),{},{auth:!0,user:t.user,token:t.token,loading:!1}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=d(u.default.mark((function e(){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.removeItem("token");case 2:return e.next=4,r.removeItem("user");case 4:a(c(c({},o),{},{auth:!1,user:null,token:null,loading:!1}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=d(u.default.mark((function e(t){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setItem("user",t,!0);case 2:a(c(c({},o),{},{user:t,loading:!1}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=d(u.default.mark((function e(){var t,r,n;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:t=e.sent,r=t.token,n=t.user,r&&!o.token&&f({user:n,token:r}),!r&&o.token&&y();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){var e=setInterval((function(){m()}),1e3);return function(){return clearInterval(e)}}),[o]),(0,i.useEffect)((function(){s()}),[]);var h={login:f,logout:y,changeUser:b};return i.default.createElement(v.Provider,{value:[o,h]},t)};t.useSession=function(){return(0,i.useContext)(v)||[{},function(){}]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useOrder=t.OrderProvider=t.OrderContext=void 0;var n=y(r(8)),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==v(e)&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(16),i=r(11),a=r(57),s=r(26),c=r(42),l=r(33),f=y(r(43)),d=y(r(47));function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function y(e){return e&&e.__esModule?e:{default:e}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function w(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){O(u,n,o,i,a,"next",e)}function a(e){O(u,n,o,i,a,"throw",e)}i(void 0)}))}}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}f.default.extend(d.default);var S=(0,o.createContext)();t.OrderContext=S;t.OrderProvider=function(e){var t,r,d=e.Alert,p=e.children,y=e.strategy,m=j((0,o.useState)({show:!1}),2),O=m[0],P=m[1],_=j((0,o.useState)({show:!1}),2),I=_[0],E=_[1],k=j((0,i.useApi)(),1)[0],C=j((0,s.useLanguage)(),2),A=C[0],x=C[1],T=(0,a.useWebsocket)(),M=j((0,c.useEvent)(),1)[0],D=j((0,l.useConfig)(),1)[0],R=j((0,u.useSession)(),1)[0],U={delivery:1,pickup:2,eatin:3,curbside:4,drivethru:5},L=j((0,o.useState)({loading:!0,options:{type:U[null==D||null===(t=D.configs)||void 0===t||null===(r=t.default_order_type)||void 0===r?void 0:r.value],moment:null},carts:{},confirmAlert:O,alert:I}),2),B=L[0],F=L[1],Y=function(){var e=w(n.default.mark((function e(){var t,r,o,u,i,a,s,c,l,d,p,v,m,g,O,w,j,P,S,_,I,C;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,B.loading||F(h(h({},B),{},{loading:!0})),e.next=4,y.getItem("user-customer",!0);case 4:return t=e.sent,r=null==t?void 0:t.id,o={},r&&(o.query={user_id:r}),e.next=10,k.setAccessToken(R.token).orderOptions().get(o);case 10:return u=e.sent,i=u.content,a=i.error,s=i.result,a||(c=s.carts,l=b(s,["carts"]),B.carts={},c.forEach((function(e){B.carts["businessId:".concat(e.business_id)]=e})),B.options=h(h({},B.options),l)),a&&E({show:!0,content:s}),e.next=18,y.getItem("options",!0);case 18:if(!(d=e.sent)){e.next=50;break}if(p={},!(Object.keys(d.address).length>0)){e.next=42;break}return m=[{attribute:"address",value:null==d||null===(v=d.address)||void 0===v?void 0:v.address}],g=r||R.user.id,e.next=26,k.setAccessToken(R.token).users(g).addresses().where(m).get();case 26:if(O=e.sent,w=O.content.result.find((function(e){var t,r,n;return d.address.internal_number=(null===(t=d.address)||void 0===t?void 0:t.internal_number)||null,d.address.zipcode=(null===(r=d.address)||void 0===r?void 0:r.zipcode)||null,d.address.address_notes=(null===(n=d.address)||void 0===n?void 0:n.address_notes)||null,e.location.lat===d.address.location.lat&&e.location.lng===d.address.location.lng&&e.internal_number===d.address.internal_number&&e.zipcode===d.address.zipcode&&e.address_notes===d.address.address_notes}))){e.next=39;break}return Object.keys(d.address).forEach((function(e){return null===d.address[e]&&delete d.address[e]})),e.next=32,k.setAccessToken(R.token).users(g).addresses().save(d.address);case 32:j=e.sent,P=j.content,S=P.error,_=P.result,S||(w=_),e.next=41;break;case 39:return e.next=41,k.setAccessToken(R.token).users(g).addresses(w.id).save({default:!0});case 41:w&&(p.address_id=w.id);case 42:return d.type&&(p.type=d.type),d.moment&&(p.moment=f.default.utc(d.moment,"YYYY-MM-DD HH:mm:ss").unix()),(null==d?void 0:d.address_id)&&(p.address_id=null==d?void 0:d.address_id),p&&Object.keys(p).length>0?G(p):F(h(h({},B),{},{loading:!1})),e.next=48,y.removeItem("options");case 48:e.next=51;break;case 50:F(h(h({},B),{},{loading:!1}));case 51:e.next=58;break;case 53:e.prev=53,e.t0=e.catch(0),C=(null===e.t0||void 0===e.t0||null===(I=e.t0.message)||void 0===I?void 0:I.includes("Internal error"))?"INTERNAL_ERROR":e.t0.message,E({show:!0,content:[C]}),F(h(h({},B),{},{loading:!1}));case 58:case"end":return e.stop()}}),e,null,[[0,53]])})));return function(){return e.apply(this,arguments)}}(),q=function(e){var t=[];return["address","address_notes","zipcode","location","internal_number"].forEach((function(r){var n,o,u,i,a;(null===(n=B.options)||void 0===n?void 0:n.address)&&(null===(o=B.options)||void 0===o?void 0:o.address[r])?"location"===r?t.push(e[r].lat===(null===(u=B.options)||void 0===u?void 0:u.address[r].lat)&&e[r].lng===(null===(i=B.options)||void 0===i?void 0:i.address[r].lng)):t.push(e[r]===(null===(a=B.options)||void 0===a?void 0:a.address[r])):t.push(!e[r])})),t.every((function(e){return e}))},N=function(){var e=w(n.default.mark((function e(t,r){var o,u,i,a,s;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"!==v(t)){e.next=10;break}return e.next=3,y.getItem("options",!0);case 3:return o=e.sent,u=h(h(h({},B.options),o),{},{address:h(h({},null==o?void 0:o.address),t)}),R.auth||(u.type=U[null==D||null===(i=D.configs)||void 0===i||null===(a=i.default_order_type)||void 0===a?void 0:a.value]),e.next=8,y.setItem("options",u,!0);case 8:return F(h(h({},B),{},{options:u})),e.abrupt("return");case 10:if(!r||!(null==r?void 0:r.address)||q(null==r?void 0:r.address)){e.next=13;break}return G({address_id:null==r||null===(s=r.address)||void 0===s?void 0:s.id}),e.abrupt("return");case 13:if(!r||!(null==r?void 0:r.isEdit)){e.next=18;break}if(t===B.options.address_id){e.next=16;break}return e.abrupt("return");case 16:return G({address_id:t}),e.abrupt("return");case 18:G({address_id:t});case 19:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),W=function(){var e=w(n.default.mark((function e(t){var r;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=h(h({},B.options),{},{type:t}),B.options.type!==t){e.next=3;break}return e.abrupt("return");case 3:if(R.auth){e.next=7;break}return e.next=6,y.setItem("options",r,!0);case 6:F(h(h({},B),{},{options:r}));case 7:G({type:t});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=w(n.default.mark((function e(t){var r,o,u;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t?t.getTime()/1e3:null,o=r?f.default.unix(r).utc().format("YYYY-MM-DD HH:mm:ss"):null,u=h(h({},B.options),{},{moment:o}),B.options.moment!==o){e.next=5;break}return e.abrupt("return");case 5:if(R.auth){e.next=9;break}return e.next=8,y.setItem("options",u,!0);case 8:F(h(h({},B),{},{options:u}));case 9:G({moment:r});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=w(n.default.mark((function e(t){var r,o,u,i,a,s,c,l,f,d,p;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R.auth){e.next=25;break}return e.next=3,y.getItem("user-customer",!0);case 3:return r=e.sent,o=null==r?void 0:r.id,u=h(h({},t),{},{user_id:o||R.user.id}),e.prev=6,F(h(h({},B),{},{loading:!0})),e.next=10,k.setAccessToken(R.token).orderOptions().save(u,{headers:{"X-Socket-Id-X":null==T?void 0:T.getId()}});case 10:return i=e.sent,a=i.content,s=a.error,c=a.result,s?E({show:!0,content:c}):(l=c.carts,f=b(c,["carts"]),B.carts={},l.forEach((function(e){B.carts["businessId:".concat(e.business_id)]=e})),B.options=h(h({},B.options),f)),F(h(h({},B),{},{loading:!1})),e.abrupt("return",!s);case 19:return e.prev=19,e.t0=e.catch(6),p=(null===e.t0||void 0===e.t0||null===(d=e.t0.message)||void 0===d?void 0:d.includes("Internal error"))?"INTERNAL_ERROR":e.t0.message,E({show:!0,content:[p]}),F(h(h({},B),{},{loading:!1})),e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=w(n.default.mark((function e(t,r){var o,u,i,a,s,c,l;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F(h(h({},B),{},{loading:!0})),e.next=4,y.getItem("user-customer",!0);case 4:return o=e.sent,u=null==o?void 0:o.id,i={product:t,business_id:r.business_id,user_id:u||R.user.id},e.next=9,k.setAccessToken(R.token).carts().addProduct(i,{headers:{"X-Socket-Id-X":null==T?void 0:T.getId()}});case 9:return a=e.sent,s=a.content,c=s.error,l=s.result,c?E({show:!0,content:l}):(B.carts["businessId:".concat(l.business_id)]=l,M.emit("cart_product_added",t,l),M.emit("cart_updated",l),M.emit("product_added",t)),F(h(h({},B),{},{loading:!1})),e.abrupt("return",!c);case 18:return e.prev=18,e.t0=e.catch(0),F(h(h({},B),{},{loading:!1})),e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,r){return e.apply(this,arguments)}}(),$=function(){var e=w(n.default.mark((function e(t,r){var o,u,i,a,s,c,l;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F(h(h({},B),{},{loading:!0})),e.next=4,y.getItem("user-customer",!0);case 4:return o=e.sent,u=null==o?void 0:o.id,i={product:{id:t.id,code:t.code,business_id:t.business_id},business_id:r.business_id,user_id:u||R.user.id},e.next=9,k.setAccessToken(R.token).carts().removeProduct(i,{headers:{"X-Socket-Id-X":null==T?void 0:T.getId()}});case 9:return a=e.sent,s=a.content,c=s.error,l=s.result,c?E({show:!0,content:l}):(B.carts["businessId:".concat(l.business_id)]=l,M.emit("cart_product_removed",t,l),M.emit("cart_updated",l)),F(h(h({},B),{},{loading:!1})),e.abrupt("return",!c);case 18:return e.prev=18,e.t0=e.catch(0),F(h(h({},B),{},{loading:!1})),e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,r){return e.apply(this,arguments)}}(),V=function(){var e=w(n.default.mark((function e(t){var r,o,u,i,a,s,c;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F(h(h({},B),{},{loading:!0})),e.next=4,y.getItem("user-customer",!0);case 4:return r=e.sent,o=null==r?void 0:r.id,u=JSON.stringify({uuid:t,user_id:o||R.user.id}),e.next=9,fetch("".concat(k.root,"/carts/clear"),{method:"POST",headers:{"Content-Type":"application/json","X-Socket-Id-X":null==T?void 0:T.getId(),Authorization:"Bearer ".concat(R.token)},body:u});case 9:return i=e.sent,e.next=12,i.json();case 12:return a=e.sent,s=a.error,c=a.result,s?E({show:!0,content:c}):B.carts["businessId:".concat(c.business_id)]=c,F(h(h({},B),{},{loading:!1})),e.abrupt("return",!s);case 20:return e.prev=20,e.t0=e.catch(0),F(h(h({},B),{},{loading:!1})),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=w(n.default.mark((function e(t,r){var o,u,i,a,s,c,l;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F(h(h({},B),{},{loading:!0})),e.next=4,y.getItem("user-customer",!0);case 4:return o=e.sent,u=null==o?void 0:o.id,i={product:t,business_id:r.business_id,user_id:u||R.user.id},e.next=9,k.setAccessToken(R.token).carts().updateProduct(i,{headers:{"X-Socket-Id-X":null==T?void 0:T.getId()}});case 9:return a=e.sent,s=a.content,c=s.error,l=s.result,c?E({show:!0,content:l}):(B.carts["businessId:".concat(l.business_id)]=l,M.emit("cart_product_updated",t,l),M.emit("cart_updated",l)),F(h(h({},B),{},{loading:!1})),e.abrupt("return",!c);case 18:return e.prev=18,e.t0=e.catch(0),F(h(h({},B),{},{loading:!1})),e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,r){return e.apply(this,arguments)}}(),K=function(){var e=w(n.default.mark((function e(t){var r,o,u,i,a,s,c,l;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.business_id){e.next=2;break}throw new Error("`business_id` is required.");case 2:if(void 0!==t.coupon){e.next=4;break}throw new Error("`coupon` is required.");case 4:if((null===(r=B.carts["businessId:".concat(t.business_id)])||void 0===r?void 0:r.coupon)!==t.coupon){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,F(h(h({},B),{},{loading:!0})),e.next=10,y.getItem("user-customer",!0);case 10:return o=e.sent,u=null==o?void 0:o.id,i={business_id:t.business_id,coupon:t.coupon,user_id:u||R.user.id},e.next=15,k.setAccessToken(R.token).carts().applyCoupon(i,{headers:{"X-Socket-Id-X":null==T?void 0:T.getId()}});case 15:return a=e.sent,s=a.content,c=s.error,l=s.result,c?E({show:!0,content:l}):(B.carts["businessId:".concat(l.business_id)]=l,M.emit("cart_updated",l)),F(h(h({},B),{},{loading:!1})),e.abrupt("return",!c);case 24:return e.prev=24,e.t0=e.catch(6),F(h(h({},B),{},{loading:!1})),e.abrupt("return",!1);case 28:case"end":return e.stop()}}),e,null,[[6,24]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=w(n.default.mark((function e(t,r,o){var u,i,a,s,c,l,f,d,p;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("`businessId` is required.");case 2:if(r||0===r){e.next=4;break}throw new Error("`driverTipRate` is required.");case 4:if(B.carts["businessId:".concat(t)]&&(null===(u=B.carts["businessId:".concat(t)])||void 0===u?void 0:u.driver_tip_rate)!==r){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,F(h(h({},B),{},{loading:!0})),e.next=10,y.getItem("user-customer",!0);case 10:return a=e.sent,s=null==a?void 0:a.id,g(i={business_id:t},o?"driver_tip":"driver_tip_rate",r),g(i,"user_id",s||R.user.id),c=i,e.next=15,k.setAccessToken(R.token).carts().changeDriverTip(c,{headers:{"X-Socket-Id-X":null==T?void 0:T.getId()}});case 15:return l=e.sent,f=l.content,d=f.error,p=f.result,d?E({show:!0,content:p}):(B.carts["businessId:".concat(p.business_id)]=p,M.emit("cart_updated",p)),F(h(h({},B),{},{loading:!1})),e.abrupt("return",!d);case 24:return e.prev=24,e.t0=e.catch(6),F(h(h({},B),{},{loading:!1})),e.abrupt("return",!1);case 28:case"end":return e.stop()}}),e,null,[[6,24]])})));return function(t,r,n){return e.apply(this,arguments)}}(),Z=function(){var e=w(n.default.mark((function e(t,r){var o,u,i,a,s,c,l,f;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F(h(h({},B),{},{loading:!0})),e.next=4,y.getItem("user-customer",!0);case 4:return o=e.sent,u=null==o?void 0:o.id,i=h(h({},r),{},{user_id:u||R.user.id}),e.next=9,k.setAccessToken(R.token).carts(t).place(i,{headers:{"X-Socket-Id-X":null==T?void 0:T.getId()}});case 9:if(a=e.sent,s=a.content,c=s.error,l=s.result,c){e.next=17;break}1!==l.status?(B.carts["businessId:".concat(l.business_id)]=l,M.emit("cart_updated",l)):(delete B.carts["businessId:".concat(l.business_id)],f={id:l.order.uuid,business:{name:l.business.name},total:l.total,tax_total:l.tax,delivery_zone_price:l.delivery_price},M.emit("order_placed",f)),e.next=20;break;case 17:return E({show:!0,content:l}),F(h(h({},B),{},{loading:!1})),e.abrupt("return");case 20:return F(h(h({},B),{},{loading:!1})),e.abrupt("return",{error:c,result:l});case 24:return e.prev=24,e.t0=e.catch(0),F(h(h({},B),{},{loading:!1})),e.abrupt("return",{error:!0,result:[e.t0.message]});case 28:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t,r){return e.apply(this,arguments)}}(),Q=function(){var e=w(n.default.mark((function e(t,r){var o,u,i,a,s,c,l,f;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F(h(h({},B),{},{loading:!0})),e.next=4,y.getItem("user-customer",!0);case 4:return o=e.sent,u=null==o?void 0:o.id,i=h(h({},r),{},{user_id:u||R.user.id}),e.next=9,k.setAccessToken(R.token).carts(t).confirm(i,{headers:{"X-Socket-Id-X":null==T?void 0:T.getId()}});case 9:return a=e.sent,s=a.content,c=s.error,l=s.result,f=s.cart,c?f&&(B.carts["businessId:".concat(f.business_id)]=f,M.emit("cart_updated",f)):1!==l.status?(B.carts["businessId:".concat(l.business_id)]=l,M.emit("cart_updated",l)):delete B.carts["businessId:".concat(l.business_id)],F(h(h({},B),{},{loading:!1})),e.abrupt("return",{error:c,result:l});case 19:return e.prev=19,e.t0=e.catch(0),F(h(h({},B),{},{loading:!1})),e.abrupt("return",{error:!0,result:[e.t0.message]});case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,r){return e.apply(this,arguments)}}(),ee=function(){var e=w(n.default.mark((function e(t){var r,o,u,i,a,s,c,l;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F(h(h({},B),{},{loading:!0})),e.next=4,y.getItem("user-customer",!0);case 4:return r=e.sent,o=null==r?void 0:r.id,u=o?{user_id:o}:null,i={headers:{"X-Socket-Id-X":null==T?void 0:T.getId()}},u&&(i.query=u),e.next=11,k.setAccessToken(R.token).orders(t).reorder(i);case 11:return a=e.sent,s=a.content,c=s.error,l=s.result,c?E({show:!0,content:l}):(B.carts["businessId:".concat(l.business_id)]=l,M.emit("cart_added",l)),F(h(h({},B),{},{loading:!1})),e.abrupt("return",{error:c,result:l});case 20:return e.prev=20,e.t0=e.catch(0),F(h(h({},B),{},{loading:!1})),e.abrupt("return",{error:!0,result:[e.t0.message]});case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),te=j((0,o.useState)(null),2),re=te[0],ne=te[1],oe=function(){var e=w(n.default.mark((function e(){var t;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getItem("options",!0);case 2:t=e.sent,ne(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){R.loading||A.loading||R.auth&&Y()}),[R.auth,R.loading,A.loading]),(0,o.useEffect)((function(){var e,t;R.loading||D.loading||(R.auth||(oe(),F(h(h({},B),{},{loading:!1,options:{type:(null==re?void 0:re.type)||U[null==D||null===(e=D.configs)||void 0===e||null===(t=e.default_order_type)||void 0===t?void 0:t.value],moment:(null==re?void 0:re.moment)||null,address:(null==re?void 0:re.address)||{}}}))))}),[R.auth,R.loading,D]),(0,o.useEffect)((function(){var e=function(e){1===e.status?B.carts["businessId:".concat(e.business_id)]&&delete B.carts["businessId:".concat(e.business_id)]:B.carts["businessId:".concat(e.business_id)]=h(h({},B.carts["businessId:".concat(e.business_id)]),e),F(h({},B))},t=function(e){var t=e.carts,r=b(e,["carts"]),n={};t.forEach((function(e){n["businessId:".concat(e.business_id)]=e}));var o=h(h({},B),{},{options:h(h({},B.options),r),carts:h(h({},B.carts),n)});F(h({},o))};return T.on("carts_update",e),T.on("order_options_update",t),function(){T.off("carts_update",e),T.off("order_options_update",t)}}),[B,T]),(0,o.useEffect)((function(){var e,t;if(R.auth&&!R.loading)return T.join("carts_".concat(null==R||null===(e=R.user)||void 0===e?void 0:e.id)),T.join("orderoptions_".concat(null==R||null===(t=R.user)||void 0===t?void 0:t.id)),function(){var e,t;T.leave("carts_".concat(null==R||null===(e=R.user)||void 0===e?void 0:e.id)),T.leave("orderoptions_".concat(null==R||null===(t=R.user)||void 0===t?void 0:t.id))}}),[T,R]);var ue={refreshOrderOptions:Y,changeAddress:N,changeType:W,changeMoment:H,addProduct:z,removeProduct:$,updateProduct:J,clearCart:V,applyCoupon:K,changeDriverTip:X,placeCart:Z,confirmCart:Q,reorder:ee,setAlert:E,setConfirm:P},ie=JSON.parse(JSON.stringify(B));return o.default.createElement(o.default.Fragment,null,o.default.createElement(S.Provider,{value:[ie,ue]},d&&o.default.createElement(d,{open:I.show,title:x("ERROR","Error"),onAccept:function(){return E({show:!1})},onClose:function(){return E({show:!1})},content:I.content}),p))};t.useOrder=function(){var e=function(){console.warn("Must use OrderProvider to wrappe the app.")};return(0,o.useContext)(S)||[{},{refreshOrderOptions:e,changeAddress:e,changeType:e,changeMoment:e,addProduct:e,removeProduct:e,updateProduct:e,clearCart:e,applyCoupon:e,placeCart:e,confirmCart:e,setAlert:e,setConfirm:e,changeDriverTip:e,reorder:e}]}},,,,,,,,,function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.useLanguage=t.LanguageProvider=t.LanguageContext=void 0;var o,u=(o=r(8))&&o.__esModule?o:{default:o},i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),a=r(11);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){d(u,n,o,i,a,"next",e)}function a(e){d(u,n,o,i,a,"throw",e)}i(void 0)}))}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b=(0,i.createContext)();t.LanguageContext=b;t.LanguageProvider=function(e){var t,r=e.children,n=e.strategy,o=y((0,i.useState)({loading:!0,dictionary:{}}),2),s=o[0],c=o[1],f=function(){var e=p(u.default.mark((function e(){var t;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getItem("language",!0);case 2:(t=e.sent)?(c(l(l({},s),{},{language:t})),m.setLanguage(null==t?void 0:t.code)):g();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=y((0,a.useApi)(),2),v=d[0],m=d[1],h=function(){var e=p(u.default.mark((function e(){var t,r,n,o;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,!s.loading&&c(l(l({},s),{},{loading:!0})),e.next=4,v.translations().asDictionary().get();case 4:t=e.sent,r=t.content,n=r.error,o=r.result,c(l(l({},s),{},{loading:!1,dictionary:n?{}:o})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),c(l(l({},s),{},{loading:!1}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=p(u.default.mark((function e(){var t,r,o,i,a;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.languages().where([{attribute:"default",value:!0}]).get();case 3:if(t=e.sent,r=t.content,o=r.error,i=r.result,o){e.next=12;break}return a={id:i[0].id,code:i[0].code,rtl:i[0].rtl},e.next=11,n.setItem("language",a,!0);case 11:c(l(l({},s),{},{language:a}));case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=p(u.default.mark((function e(t){var r,o;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.id!==(null===(r=s.language)||void 0===r?void 0:r.id)){e.next=2;break}return e.abrupt("return");case 2:return o={id:t.id,code:t.code,rtl:t.rtl},e.next=5,n.setItem("language",o,!0);case 5:c(l(l({},s),{},{loading:!0,language:o}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){var e,t;(null===(e=s.language)||void 0===e?void 0:e.code)&&(null===(t=s.language)||void 0===t?void 0:t.code)===v.language&&h()}),[null===(t=s.language)||void 0===t?void 0:t.code,v]),(0,i.useEffect)((function(){f()}),[]),(0,i.useEffect)((function(){var e;m.setLanguage(null==s||null===(e=s.language)||void 0===e?void 0:e.code)}),[s.language]);return i.default.createElement(b.Provider,{value:[s,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(null==s?void 0:s.dictionary)&&Object.keys(null==s?void 0:s.dictionary).length>0&&s.dictionary[e]||t||e},O,h]},r)};t.useLanguage=function(){return(0,i.useContext)(b)||[{},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t||e},p(u.default.mark((function e(){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),p(u.default.mark((function e(){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))]}},,,,,,,function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.useConfig=t.ConfigProvider=t.ConfigContext=void 0;var o=f(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=r(11),a=r(26),s=f(r(43)),c=f(r(47));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){v(u,n,o,i,a,"next",e)}function a(e){v(u,n,o,i,a,"throw",e)}i(void 0)}))}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}s.default.extend(c.default);var g=(0,u.createContext)();t.ConfigContext=g;t.ConfigProvider=function(e){var t=e.children,r=m((0,u.useState)({loading:!0,configs:{}}),2),n=r[0],s=r[1],c=m((0,a.useLanguage)(),1)[0],l=m((0,i.useApi)(),1)[0],f={max_days_preorder:{key:"max_days_preorder",value:6},meters_to_change_address:{key:"meters_to_change_address",value:500},default_order_type:{key:"default_order_type",value:"delivery"},order_types_allowed:{key:"order_types_allowed",value:"1|2|3|4|5"},google_autocomplete_selection_required:{key:"google_autocomplete_selection_required",value:"true"},google_maps_api_key:{key:"google_maps_api_key",value:"AIzaSyDX5giPfK-mtbLR72qxzevCYSUrbi832Sk"},country_autocomplete:{key:"country_autocomplete",value:"*"},track_id_google_analytics:{key:"track_id_google_analytics",value:"UA-51635411-4"},guest_uuid_max_days:{key:"guest_uuid_max_days",value:3},guest_uuid_access:{key:"guest_uuid_access",value:1},location_default_latitude:{key:"location_default_latitude",value:40.7751052},location_default_longitude:{key:"location_default_longitude",value:-73.9651148},driver_tip_type:{key:"driver_tip_type",value:2},driver_tip_options:{key:"driver_tip_options",value:[0,10,15,20,25]},driver_tip_use_custom:{key:"driver_tip_use_custom",value:0}},d=function(){var e=b(o.default.mark((function e(){var t,r,u,i,a,c,d,y,v,b,m,h,g,O;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,!n.loading&&s(p(p({},n),{},{loading:!0})),e.next=4,l.configs().asDictionary().get();case 4:return d=e.sent,y=d.content,v=y.error,b=y.result,m=null,e.prev=9,e.next=12,fetch("https://ipapi.co/json/");case 12:return h=e.sent,e.next=15,h.json();case 15:m=e.sent,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(9),m=null;case 21:g={dates_moment_format:{key:"dates_moment_format",value:(null==b||null===(t=b.dates_moment_format)||void 0===t?void 0:t.value)||("24"===(null==b||null===(r=b.format_time)||void 0===r?void 0:r.value)?"MM/DD HH:mm":"MM/DD hh:mma")},dates_general_format:{key:"dates_general_format",value:(null==b||null===(u=b.dates_moment_format)||void 0===u?void 0:u.value)||("24"===(null==b||null===(i=b.format_time)||void 0===i?void 0:i.value)?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD hh:mm:ssa")}},O=p(p(p({},f),{},{default_country_code:{value:m&&(null===(a=m)||void 0===a?void 0:a.country_code)||"US",calling_number:m&&(null===(c=m)||void 0===c?void 0:c.country_calling_code)||"+1"}},b),g),s(p(p({},n),{},{loading:!1,configs:v?{}:O})),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(0),s(p(p({},n),{},{loading:!1}));case 29:case"end":return e.stop()}}),e,null,[[0,26],[9,18]])})));return function(){return e.apply(this,arguments)}}(),y={refreshConfigs:d};return(0,u.useEffect)((function(){c.loading||d()}),[c]),u.default.createElement(u.default.Fragment,null,u.default.createElement(g.Provider,{value:[n,y]},t))};t.useConfig=function(){return(0,u.useContext)(g)||[{},b(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))]}},,,,,,,,,function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.useEvent=t.EventProvider=t.EventContext=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var a=o?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(r,u,a):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(376);function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var a=(0,o.createContext)();t.EventContext=a;t.EventProvider=function(e){var t=e.children,r=new u.Emitter;return o.default.createElement(a.Provider,{value:[r]},t)};t.useEvent=function(){return(0,o.useContext)(a)||[new u.Emitter]}},,,,,,,,,,,,,,,function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.useWebsocket=t.WebsocketProvider=t.WebsocketContext=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(16),i=r(352);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=(0,o.createContext)();t.WebsocketContext=p;t.WebsocketProvider=function(e){var t=e.settings,r=e.children,n=f((0,u.useSession)(),1)[0],a=f((0,o.useState)(),2),s=a[0],l=a[1];return(0,o.useEffect)((function(){if(!n.loading){if(n.auth&&t.url&&t.project){var e=new i.Socket(c(c({},t),{},{accessToken:n.token}));l(e)}n.auth||s&&s.close()}}),[n]),(0,o.useEffect)((function(){return s&&s.connect(),function(){s&&s.close()}}),[s]),o.default.createElement(p.Provider,{value:s},r)};t.useWebsocket=function(){return(0,o.useContext)(p)||new i.Socket({})}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.useUtils=t.UtilsProviders=t.UtilsContext=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(33),i=r(26),a=f(r(43)),s=f(r(47)),c=f(r(377)),l=f(r(378));function f(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}a.default.extend(s.default),a.default.extend(c.default),a.default.extend(l.default);var v=(0,o.createContext)();t.UtilsContext=v;t.UtilsProviders=function(e){var t=e.children,r=p((0,i.useLanguage)(),2),n=r[0],s=r[1],c=p((0,u.useConfig)(),1)[0],l=function(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=parseFloat(e)||0;var u={decimal:(null==o?void 0:o.decimal)||(null===(t=c.configs.format_number_decimal_length)||void 0===t?void 0:t.value)||2,separator:(null==o?void 0:o.separator)||(null===(r=c.configs.format_number_decimal_separator)||void 0===r?void 0:r.value)||",",thousand:(null==o?void 0:o.thousand)||(null===(n=c.configs.format_number_thousand_separator)||void 0===n?void 0:n.value)||"."},i=e.toFixed(u.decimal);(i=i.toString()).indexOf(".")?i=i.replace(".",u.separator):i.indexOf(",")&&(i=i.replace(",",u.separator));var a=i.split(u.separator);return a[0]=a[0].replace(/(.)(?=(\d{3})+$)/g,"$1"+u.thousand),i=a.join(u.separator)},f=function(e){return e>=1e9?"".concat((e/1e9).toFixed(1).replace(/\.0$/,"")).concat(s("G","G")):e>=1e6?"".concat((e/1e6).toFixed(1).replace(/\.0$/,"")).concat(s("M","M")):e>=1e3?"".concat((e/1e3).toFixed(1).replace(/\.0$/,"")).concat(s("K","K")):void 0},d={parsePrice:function(e){var t,r,n,o,u,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={decimal:(null==i?void 0:i.decimal)||(null===(t=c.configs.format_number_decimal_length)||void 0===t?void 0:t.value)||2,separator:(null==i?void 0:i.separator)||(null===(r=c.configs.format_number_decimal_separator)||void 0===r?void 0:r.value)||",",thousand:(null==i?void 0:i.thousand)||(null===(n=c.configs.format_number_thousand_separator)||void 0===n?void 0:n.value)||".",currency:(null==i?void 0:i.currency)||(null===(o=c.configs.format_number_currency)||void 0===o?void 0:o.value)||"$",currencyPosition:(null==i?void 0:i.currencyPosition)||(null===(u=c.configs.currency_position)||void 0===u?void 0:u.value)||"left"},s=l(e,a);return s="left"===a.currencyPosition?a.currency+" "+s:s+" "+a.currency},parseNumber:l,parseDate:function(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=(null==o?void 0:o.formatTime)||(null===(t=c.configs.format_time)||void 0===t?void 0:t.value)||"24",i={inputFormat:(null==o?void 0:o.inputFormat)||["YYYY-MM-DD HH:mm:ss","YYYY-MM-DD hh:mm:ss A","YYYY-MM-DD hh:mm:ss"],outputFormat:(null==o?void 0:o.outputFormat)||(null===(r=c.configs)||void 0===r||null===(n=r.dates_general_format)||void 0===n?void 0:n.value)||("24"===u?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD hh:mm:ss A"),utc:"boolean"!=typeof(null==o?void 0:o.utc)||(null==o?void 0:o.utc)};if(!(0,a.default)(e,i.inputFormat).isValid())return s("INVALID_FORMAT","invalid format");var l=i.utc?a.default.utc(e,i.inputFormat).local():(0,a.default)(e,i.inputFormat);return l.format(i.outputFormat)},parseTime:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"00:00";var n=(null==r?void 0:r.formatTime)||(null===(t=c.configs.format_time)||void 0===t?void 0:t.value)||"24",o={inputFormat:(null==r?void 0:r.inputFormat)||["HH:mm","hh:mm A","hh:mm"],outputFormat:(null==r?void 0:r.outputFormat)||("24"===n?"HH:mm":"hh:mm A"),utc:"boolean"!=typeof(null==r?void 0:r.utc)||(null==r?void 0:r.utc)};if(!(0,a.default)(e,o.inputFormat).isValid())return s("INVALID_FORMAT","invalid format");var u=o.utc?a.default.utc(e,o.inputFormat).local():(0,a.default)(e,o.inputFormat);return u.format(o.outputFormat)},parseDistance:function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=parseFloat(e)||0;var o,u=(null==n?void 0:n.unit)||"KM";("1"===(null===(t=c.configs.distance_unit_km)||void 0===t?void 0:t.value)&&(u="KM"),null===(r=c.configs.distance_unit)||void 0===r?void 0:r.value)&&(u=null===(o=c.configs.distance_unit)||void 0===o?void 0:o.value);if("MI"===u.toUpperCase()){var i=.621371*e;return i>=1e3?"".concat(f(i)," ").concat(s("MI","mi")):"".concat(l(i,n)," ").concat(s("MI","mi"))}return e>=1e3?"".concat(f(e)," ").concat(s("KM","km")):"".concat(l(e,n)," ").concat(s("KM","km"))},parseShortenDistance:f,getTimeAgo:function(e,t){if(!e)return"NN";var r={inputFormat:(null==t?void 0:t.inputFormat)||["YYYY-MM-DD HH:mm:ss","YYYY-MM-DD hh:mm:ss A","YYYY-MM-DD hh:mm:ss"],utc:"boolean"!=typeof(null==t?void 0:t.utc)||(null==t?void 0:t.utc)};return(0,a.default)(e,r.inputFormat).isValid()?(r.utc?a.default.utc(e,r.inputFormat).local():(0,a.default)(e,r.inputFormat)).fromNow():s("INVALID_FORMAT","invalid format")},getTimeTo:function(e,t){if(!e)return"NN";var r={inputFormat:(null==t?void 0:t.inputFormat)||["YYYY-MM-DD HH:mm:ss","YYYY-MM-DD hh:mm:ss A","YYYY-MM-DD hh:mm:ss"],utc:"boolean"!=typeof(null==t?void 0:t.utc)||(null==t?void 0:t.utc)};return(0,a.default)(e,r.inputFormat).isValid()?(r.utc?a.default.utc(e,r.inputFormat).local():(0,a.default)(e,r.inputFormat)).toNow():s("INVALID_FORMAT","invalid format")},optimizeImage:function(e,t,r){if(!e&&r)return r;if(t=t&&t.length>0?",".concat(t):"",null!=e&&-1!==e.indexOf("res.cloudinary.com")){var n=e.split("upload");e="".concat(n[0],"upload/f_auto,q_auto").concat(t).concat(n[1])}return e}};return(0,o.useEffect)((function(){var e;n.loading||(e={name:"auto",months:[s("MONTH1","January"),s("MONTH2","February"),s("MONTH3","March"),s("MONTH4","April"),s("MONTH5","May"),s("MONTH6","June"),s("MONTH7","July"),s("MONTH8","August"),s("MONTH9","September"),s("MONTH10","October"),s("MONTH11","November"),s("MONTH12","December")],monthsShort:[s("MONTHSHORT1","Jan"),s("MONTHSHORT2","Feb"),s("MONTHSHORT3","Mar"),s("MONTHSHORT4","Apr"),s("MONTHSHORT5","May"),s("MONTHSHORT6","Jun"),s("MONTHSHORT7","Jul"),s("MONTHSHORT8","Aug"),s("MONTHSHORT9","Sep"),s("MONTHSHORT10","Oct"),s("MONTHSHORT11","Nov"),s("MONTHSHORT12","Dec")],weekdays:[s("DAY7","Sunday"),s("DAY1","Monday"),s("DAY2","Tuesday"),s("DAY3","Wednesday"),s("DAY4","Thursday"),s("DAY5","Friday"),s("DAY6","Saturday")],weekdaysShort:[s("DAYSHORT7","Sun"),s("DAYSHORT1","Mon"),s("DAYSHORT2","Tue"),s("DAYSHORT3","Wed"),s("DAYSHORT4","Thu"),s("DAYSHORT5","Fri"),s("DAYSHORT6","Sat")],weekdaysMin:[s("DAYMIN7","Su"),s("DAYMIN1","Mo"),s("DAYMIN2","Tu"),s("DAYMIN3","We"),s("DAYMIN4","Th"),s("DAYMIN5","Fr"),s("DAYMIN6","Sa")],ordinal:function(e){return"".concat(e,"")},relativeTime:{future:s("RELATIVE_TIME_IN","in %s"),past:s("RELATIVE_TIME_AGO","%s ago"),s:s("RELATIVE_TIME_FEW_SECONDS ","a few seconds"),m:s("RELATIVE_TIME_MINUTES","a minute"),mm:s("RELATIVE_TIME_MINUTES","%d minutes"),h:s("RELATIVE_TIME_HOUR","an hour"),hh:s("RELATIVE_TIME_HOURS","%d hours"),d:s("RELATIVE_TIME_DAY","a day"),dd:s("RELATIVE_TIME_DAYS","%d days"),M:s("RELATIVE_TIME_MONTH","a month"),MM:s("RELATIVE_TIME_MONTHS","%d months"),y:s("RELATIVE_TIME_YEAR","a year"),yy:s("RELATIVE_TIME_YEARS","%d years")},meridiem:function(e,t,r){return e>12?s("PM","PM"):s("AM","AM")}},a.default.locale("auto",e),a.default.updateLocale("auto",e))}),[n]),o.default.createElement(o.default.Fragment,null,o.default.createElement(v.Provider,{value:[d]},t))};t.useUtils=function(){return(0,o.useContext)(v)||[{},function(){}]}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.useValidationFields=t.ValidationFieldsProvider=t.ValidationFieldsContext=void 0;var o,u=(o=r(8))&&o.__esModule?o:{default:o},i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),a=r(11);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){d(u,n,o,i,a,"next",e)}function a(e){d(u,n,o,i,a,"throw",e)}i(void 0)}))}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b=(0,i.createContext)();t.ValidationFieldsContext=b;t.ValidationFieldsProvider=function(e){var t=e.children,r=y((0,a.useApi)(),1)[0],n=y((0,i.useState)({loading:!0,fields:{}}),2),o=n[0],s=n[1],c=function(e,t){e.forEach((function(e){t["mobile_phone"===e.code?"cellphone":e.code]=e}))},f=function(){var e=p(u.default.mark((function e(){var t,n,i,a,f,d;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.validationFields().get();case 3:t=e.sent,n=t.content,i=n.result,a=n.error,f={},d={},a||(c(i.filter((function(e){return"checkout"===e.validate})),f),c(i.filter((function(e){return"address"===e.validate})),d)),s({loading:!1,fields:{checkout:f,address:d}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),s(l(l({},o),{},{loading:!1}));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),d={loadValidationFields:f};return(0,i.useEffect)((function(){f()}),[]),i.default.createElement(b.Provider,{value:[o,d]},t)};t.useValidationFields=function(){return(0,i.useContext)(b)||[{},p(u.default.mark((function e(){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))]}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.useCustomer=t.CustomerProvider=t.CustomerContext=void 0;var o,u=(o=r(8))&&o.__esModule?o:{default:o},i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){f(u,n,o,i,a,"next",e)}function a(e){f(u,n,o,i,a,"throw",e)}i(void 0)}))}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=(0,i.createContext)();t.CustomerContext=v;t.CustomerProvider=function(e){var t=e.children,r=e.strategy,n=p((0,i.useState)({loading:!1,user:null}),2),o=n[0],a=n[1],s=function(){var e=d(u.default.mark((function e(){var t;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getItem("user-customer",!0);case 2:(t=e.sent)&&a(c(c({},o),{},{user:t}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l={setUserCustomer:function(){var e=d(u.default.mark((function e(t,n){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!t){e.next=3;break}return e.next=3,r.setItem("user-customer",t,!0);case 3:a(c(c({},o),{},{user:t}));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),deleteUserCustomer:function(){var e=d(u.default.mark((function e(t){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,r.removeItem("user-customer");case 3:a(c(c({},o),{},{user:null}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};return(0,i.useEffect)((function(){s()}),[]),i.default.createElement(v.Provider,{value:[o,l]},t)};t.useCustomer=function(){return(0,i.useContext)(v)||[{},function(){}]}},,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},,,,function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.WrapperGoogleMaps=void 0;var o,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=(o=r(3))&&o.__esModule?o:{default:o};function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=function(e){return function(t){var r=t.apiKey;r||console.warn("Prop `apiKey` is required to use Google Maps components.");var n=c((0,u.useState)(!1),2),o=n[0],i=n[1];return(0,u.useEffect)((function(){if(r){var e=null;if(!window.document.getElementById("google-maps-sdk")){window.googleAsyncInit=function(){i(!0)};var t=window.document.createElement("script");return t.id="google-maps-sdk",t.async=!0,t.defer=!0,t.src="https://maps.googleapis.com/maps/api/js?key=".concat(r,"&libraries=places,geometry&callback=googleAsyncInit"),window.document.body.appendChild(t),function(){e&&clearInterval(e)}}"undefined"!=typeof google?i(!0):e=setInterval((function(){"undefined"!=typeof google&&(i(!0),clearInterval(e))}),100)}}),[r]),u.default.createElement(e,s({},t,{googleReady:o}))}};t.WrapperGoogleMaps=f,f.propTypes={apiKey:i.default.string.isRequired},f.defaultProps={};var d=f;t.default=d},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";(function(e){var n=r(358),o=r(359),u=r(360);function i(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=s.prototype:(null===e&&(e=new s(t)),e.length=t),e}function s(e,t,r){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);s.TYPED_ARRAY_SUPPORT?(e=t).__proto__=s.prototype:e=d(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!s.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|y(t,r),o=(e=a(e,n)).write(t,r);o!==n&&(e=e.slice(0,o));return e}(e,t,r):function(e,t){if(s.isBuffer(t)){var r=0|p(t.length);return 0===(e=a(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):d(e,t);if("Buffer"===t.type&&u(t.data))return d(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=a(e,t<0?0:0|p(t)),!s.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|p(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function y(e,t){if(s.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return N(e).length;default:if(n)return q(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,r);case"utf8":case"utf-8":return I(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return C(this,t,r);case"base64":return _(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function b(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:h(e,t,r,n,o);if("number"==typeof t)return t&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):h(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function h(e,t,r,n,o){var u,i=1,a=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;i=2,a/=2,s/=2,r/=2}function c(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o){var l=-1;for(u=r;u<a;u++)if(c(e,u)===c(t,-1===l?0:u-l)){if(-1===l&&(l=u),u-l+1===s)return l*i}else-1!==l&&(u-=u-l),l=-1}else for(r+s>a&&(r=a-s),u=r;u>=0;u--){for(var f=!0,d=0;d<s;d++)if(c(e,u+d)!==c(t,d)){f=!1;break}if(f)return u}return-1}function g(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var u=t.length;if(u%2!=0)throw new TypeError("Invalid hex string");n>u/2&&(n=u/2);for(var i=0;i<n;++i){var a=parseInt(t.substr(2*i,2),16);if(isNaN(a))return i;e[r+i]=a}return i}function O(e,t,r,n){return W(q(t,e.length-r),e,r,n)}function w(e,t,r,n){return W(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function j(e,t,r,n){return w(e,t,r,n)}function P(e,t,r,n){return W(N(t),e,r,n)}function S(e,t,r,n){return W(function(e,t){for(var r,n,o,u=[],i=0;i<e.length&&!((t-=2)<0);++i)n=(r=e.charCodeAt(i))>>8,o=r%256,u.push(o),u.push(n);return u}(t,e.length-r),e,r,n)}function _(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function I(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var u,i,a,s,c=e[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(u=e[o+1]))&&(s=(31&c)<<6|63&u)>127&&(l=s);break;case 3:u=e[o+1],i=e[o+2],128==(192&u)&&128==(192&i)&&(s=(15&c)<<12|(63&u)<<6|63&i)>2047&&(s<55296||s>57343)&&(l=s);break;case 4:u=e[o+1],i=e[o+2],a=e[o+3],128==(192&u)&&128==(192&i)&&128==(192&a)&&(s=(15&c)<<18|(63&u)<<12|(63&i)<<6|63&a)>65535&&s<1114112&&(l=s)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),o+=f}return function(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=E));return r}(n)}t.Buffer=s,t.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},t.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=i(),s.poolSize=8192,s._augment=function(e){return e.__proto__=s.prototype,e},s.from=function(e,t,r){return c(null,e,t,r)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?a(e,t):void 0!==r?"string"==typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}(null,e,t,r)},s.allocUnsafe=function(e){return f(null,e)},s.allocUnsafeSlow=function(e){return f(null,e)},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,u=Math.min(r,n);o<u;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!u(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=s.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var i=e[r];if(!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},s.byteLength=y,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):v.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},s.prototype.compare=function(e,t,r,n,o){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var u=(o>>>=0)-(n>>>=0),i=(r>>>=0)-(t>>>=0),a=Math.min(u,i),c=this.slice(n,o),l=e.slice(t,r),f=0;f<a;++f)if(c[f]!==l[f]){u=c[f],i=l[f];break}return u<i?-1:i<u?1:0},s.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var u=!1;;)switch(n){case"hex":return g(this,e,t,r);case"utf8":case"utf-8":return O(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return j(this,e,t,r);case"base64":return P(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(u)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),u=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function k(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function C(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function A(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",u=t;u<r;++u)o+=Y(e[u]);return o}function x(e,t,r){for(var n=e.slice(t,r),o="",u=0;u<n.length;u+=2)o+=String.fromCharCode(n[u]+256*n[u+1]);return o}function T(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,r,n,o,u){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<u)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function D(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,u=Math.min(e.length-r,2);o<u;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function R(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,u=Math.min(e.length-r,4);o<u;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function U(e,t,r,n,o,u){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,u){return u||U(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function B(e,t,r,n,u){return u||U(e,0,r,8),o.write(e,t,r,n,52,8),r+8}s.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),s.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=s.prototype;else{var o=t-e;r=new s(o,void 0);for(var u=0;u<o;++u)r[u]=this[u+e]}return r},s.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||T(e,t,this.length);for(var n=this[e],o=1,u=0;++u<t&&(o*=256);)n+=this[e+u]*o;return n},s.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||T(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},s.prototype.readUInt8=function(e,t){return t||T(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return t||T(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return t||T(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||T(e,t,this.length);for(var n=this[e],o=1,u=0;++u<t&&(o*=256);)n+=this[e+u]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||T(e,t,this.length);for(var n=t,o=1,u=this[e+--n];n>0&&(o*=256);)u+=this[e+--n]*o;return u>=(o*=128)&&(u-=Math.pow(2,8*t)),u},s.prototype.readInt8=function(e,t){return t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){t||T(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){t||T(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return t||T(e,4,this.length),o.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return t||T(e,4,this.length),o.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return t||T(e,8,this.length),o.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return t||T(e,8,this.length),o.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||M(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,u=0;for(this[t]=255&e;++u<r&&(o*=256);)this[t+u]=e/o&255;return t+r},s.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||M(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,u=1;for(this[t+o]=255&e;--o>=0&&(u*=256);)this[t+o]=e/u&255;return t+r},s.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);M(this,e,t,r,o-1,-o)}var u=0,i=1,a=0;for(this[t]=255&e;++u<r&&(i*=256);)e<0&&0===a&&0!==this[t+u-1]&&(a=1),this[t+u]=(e/i>>0)-a&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);M(this,e,t,r,o-1,-o)}var u=r-1,i=1,a=0;for(this[t+u]=255&e;--u>=0&&(i*=256);)e<0&&0===a&&0!==this[t+u+1]&&(a=1),this[t+u]=(e/i>>0)-a&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,1,127,-128),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},s.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return B(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return B(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,u=n-r;if(this===e&&r<t&&t<n)for(o=u-1;o>=0;--o)e[o+t]=this[o+r];else if(u<1e3||!s.TYPED_ARRAY_SUPPORT)for(o=0;o<u;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+u),t);return u},s.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var u;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(u=t;u<r;++u)this[u]=e;else{var i=s.isBuffer(e)?e:q(new s(e,n).toString()),a=i.length;for(u=0;u<r-t;++u)this[u+t]=i[u%a]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function Y(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){var r;t=t||1/0;for(var n=e.length,o=null,u=[],i=0;i<n;++i){if((r=e.charCodeAt(i))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&u.push(239,191,189);continue}if(i+1===n){(t-=3)>-1&&u.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&u.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&u.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;u.push(r)}else if(r<2048){if((t-=2)<0)break;u.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;u.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;u.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return u}function N(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}}).call(this,r(137))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PaymentOptionPaypal=void 0;var o=l(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=l(r(148)),a=l(r(3)),s=r(17);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){d(u,n,o,i,a,"next",e)}function a(e){d(u,n,o,i,a,"throw",e)}i(void 0)}))}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b=function(e){var t,r,n,a=e.body,c=e.clientId,l=e.btnStyle,d=e.UIComponent,v=e.handlerChangePaypal,b=y((0,s.useOrder)(),2)[1],m=b.confirmCart,h=b.placeCart,g=y((0,u.useState)(!1),2),O=g[0],w=g[1];(0,u.useEffect)((function(){var e;if(c){if(!(null===(e=window)||void 0===e?void 0:e.paypal)){var t=document.createElement("script");return t.type="text/javascript",t.src="https://www.paypal.com/sdk/js?client-id=".concat(c),t.async=!0,t.onload=function(){w(!0)},t.onerror=function(){throw new Error("Paypal SDK could not be loaded.")},document.body.appendChild(t),function(){t.onload=null}}w(!0)}}),[c]);var j=function(){var e=p(o.default.mark((function e(t,r){var n,u,i,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={paymethod_id:a.paymethod_id,amount:a.amount,delivery_zone_id:a.delivery_zone_id},e.next=3,h(a.cartUuid,n);case 3:if(u=e.sent,i=u.error,s=u.result,!i){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",s.pay_reference);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),P=function(){var e=p(o.default.mark((function e(t,r){var n,u,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(a.cartUuid);case 2:if(n=e.sent,u=n.error,i=n.result,!u){e.next=7;break}return e.abrupt("return",null);case 7:return v&&v(i.order.uuid),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),S=function(){var e=p(o.default.mark((function e(t){var r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(a.cartUuid);case 2:return r=e.sent,n=r.result,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=null===(t=window)||void 0===t||null===(r=t.paypal)||void 0===r||null===(n=r.Buttons)||void 0===n?void 0:n.driver("react",{React:u.default,ReactDOM:i.default});return d&&u.default.createElement(d,f({},e,{isSdkReady:O,PaypalButton:_,paypalButtonProps:{createOrder:j,onApprove:P,onError:S,onCancel:S,style:l}}))};t.PaymentOptionPaypal=b,b.propTypes={UIComponent:a.default.elementType,body:a.default.object.isRequired,clientId:a.default.string.isRequired,handlerChangePaypal:a.default.func,beforeComponents:a.default.arrayOf(a.default.elementType),afterComponents:a.default.arrayOf(a.default.elementType),beforeElements:a.default.arrayOf(a.default.element),afterElements:a.default.arrayOf(a.default.element)},b.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var m=b;t.default=m},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductOption=void 0;var n=u(r(0)),o=u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.UIComponent;return n.default.createElement(n.default.Fragment,null,t&&n.default.createElement(t,e))};t.ProductOption=i,i.propTypes={UIComponent:o.default.elementType,option:o.default.object.isRequired,error:o.default.bool},i.defaultProps={error:!1};var a=i;t.default=a},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductsList=void 0;var o,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=(o=r(3))&&o.__esModule?o:{default:o};function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=function(e){var t=e.categories,r=e.UIComponent,n=c((0,u.useState)(t),2),o=n[0],i=n[1];return(0,u.useEffect)((function(){i(t.filter((function(e){return e.id})))}),[t]),u.default.createElement(u.default.Fragment,null,r&&u.default.createElement(r,s({},e,{categories:o})))};t.ProductsList=f,f.propTypes={UIComponent:i.default.elementType,productsList:i.default.object,categories:i.default.arrayOf(i.default.object),isAllCategory:i.default.bool,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},f.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var d=f;t.default=d},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.useBusiness=t.BusinessProvider=t.BusinessContext=void 0;var o,u=(o=r(8))&&o.__esModule?o:{default:o},i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=(0,i.createContext)();t.BusinessContext=y;t.BusinessProvider=function(e){var t=e.children,r=d((0,i.useState)({business:{}}),2),n=r[0],o=r[1],a=function(){var e,t=(e=u.default.mark((function e(t){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(c(c({},n),{},{business:t}));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){f(u,n,o,i,a,"next",e)}function a(e){f(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),s=JSON.parse(JSON.stringify(n)),l={setBusiness:a};return i.default.createElement(y.Provider,{value:[s,l]},t)};t.useBusiness=function(){return(0,i.useContext)(y)||[{},function(){}]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.r(t),r.d(t,"Ordering",(function(){return _t})),r.d(t,"ApiBase",(function(){return y})),r.d(t,"ApiUser",(function(){return D})),r.d(t,"ApiAddress",(function(){return A})),r.d(t,"ApiOrder",(function(){return Z})),r.d(t,"ApiBusiness",(function(){return Ie})),r.d(t,"ApiValidationField",(function(){return Y})),r.d(t,"ApiLanguage",(function(){return h})),r.d(t,"ApiTranslation",(function(){return Be})),r.d(t,"ApiCountry",(function(){return rt})),r.d(t,"ApiCity",(function(){return Ze})),r.d(t,"ApiPage",(function(){return He})),r.d(t,"ApiCategory",(function(){return de})),r.d(t,"ApiProduct",(function(){return se})),r.d(t,"ApiMenu",(function(){return he})),r.d(t,"ApiConfig",(function(){return Te})),r.d(t,"ApiCart",(function(){return yt})),r.d(t,"ApiOrderOption",(function(){return st})),r.d(t,"ApiOrderMessage",(function(){return V})),r.d(t,"Model",(function(){return c})),r.d(t,"User",(function(){return S})),r.d(t,"Address",(function(){return I})),r.d(t,"Order",(function(){return N})),r.d(t,"Business",(function(){return ee})),r.d(t,"ValidationField",(function(){return U})),r.d(t,"Language",(function(){return f})),r.d(t,"Translation",(function(){return De})),r.d(t,"Country",(function(){return ze})),r.d(t,"City",(function(){return Ve})),r.d(t,"Page",(function(){return Ye})),r.d(t,"Category",(function(){return oe})),r.d(t,"Product",(function(){return re})),r.d(t,"Menu",(function(){return ye})),r.d(t,"Config",(function(){return ke})),r.d(t,"Cart",(function(){return lt})),r.d(t,"OrderOption",(function(){return ot})),r.d(t,"OrderMessage",(function(){return H}));var n,o=function(e){this.back_page=e.back_page,this.current_page=e.current_page,this.fisrt_page=e.fisrt_page,this.from=e.from,this.last_page=e.last_page,this.next_page=e.next_page,this.page_size=e.page_size,this.to=e.to,this.total=e.total,this.total_pages=e.total_pages},u=function(){function e(e,t,r){void 0===t&&(t={}),void 0===r&&(r=void 0),this.response=e,this.options=t,this.api=r}return Object.defineProperty(e.prototype,"content",{get:function(){var e=this;if(this.options.json){var t=this.response.data;if(200===this.response.status&&(t.pagination&&(t.pagination=new o(t.pagination)),this.options.CastClass))if(null===t.result)t.result=null;else if(Array.isArray(t.result))t.result=t.result.map((function(t){return new e.options.CastClass(t,e.api)}));else if("object"==typeof t)if("dictionary"===this.options.mode)for(var r in t.result)"object"==typeof t.result[r]&&(t.result[r]=new this.options.CastClass(t.result[r],this.api));else t.result=new this.options.CastClass(t.result,this.api);return t}return this.response.data},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.response.status},enumerable:!1,configurable:!0}),e}(),i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},s=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},c=function(){function e(e,t,r){void 0===r&&(r=[]),this.hidden=["original","api","hidden"],this.original=i({},e),this.api=t,this.hidden=this.hidden.concat(r)}return e.prototype.setApi=function(e){this.api=e},e.prototype.getId=function(){},e.prototype.save=function(){return a(this,void 0,void 0,(function(){var e,t,r,n=this;return s(this,(function(o){switch(o.label){case 0:if(this.api.setModelId(this.getId()),!this.api)throw new Error("You must provide the `api` to use `save` function. Example: const newModel = new Model(model, api) or newModel.setApi(api)");return e={},Object.entries(this).forEach((function(t){var r=t[0],o=t[1];n.hidden.includes(r)||o===n.original[r]||(e[r]=o)})),Object.values(e).length>0?[4,this.api.save(e)]:[3,2];case 1:return(t=o.sent().content).error||(r={},Object.entries(t.result).forEach((function(e){var t=e[0],o=e[1];n.hidden.includes(t)||(r[t]=o)})),Object.assign(this,r),this.original=i({},this)),[2,t];case 2:return[2,{error:!1,result:this}]}}))}))},e}(),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),f=function(e){function t(t,r){void 0===t&&(t={});var n=e.call(this,t,r)||this;return Object.entries(t).map((function(e){var t=e[0],r=e[1];n[t]=r})),n}return l(t,e),t.prototype.getId=function(){return this.id},t}(c),d=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},p=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},y=function(){function e(e){this.attributes=[],this.query={},this.ordering=e}return e.prototype.select=function(e){return this.attributes=e,this},e.prototype.where=function(e){return this.conditions=e,this},e.prototype.setMode=function(e){return this.mode=e,this},e.prototype.asDashboard=function(){return this.setMode("dashboard"),this},e.prototype.asDictionary=function(){return this.setMode("dictionary"),this},e.prototype.parameters=function(e){return this.query=Object.assign(this.query,e),this},e.prototype.makeRequest=function(e,t,r,n,o){return d(this,void 0,void 0,(function(){var u,i;return p(this,(function(a){switch(a.label){case 0:if(u=Object.assign({CastClass:n,json:!0,api:this},o),"GET"===e&&(u.attributes=this.attributes,u.conditions=this.conditions,u.mode=this.mode,u.query||(u.query={}),Object.assign(u.query,this.query),r))for(i in r)u.query[i]=r[i];switch(e){case"GET":return[3,1];case"POST":return[3,3];case"PUT":return[3,5];case"DELETE":return[3,7]}return[3,9];case 1:return[4,this.ordering.get(t,u)];case 2:return[2,a.sent()];case 3:return[4,this.ordering.post(t,r,u)];case 4:return[2,a.sent()];case 5:return[4,this.ordering.put(t,r,u)];case 6:return[2,a.sent()];case 7:return[4,this.ordering.delete(t,u)];case 8:return[2,a.sent()];case 9:throw Error("The `"+e+"` methos is not supported.")}}))}))},e}(),v=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),b=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},m=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},h=function(e){function t(t,r){var n=e.call(this,t)||this;return n.languageId=r,n}return v(t,e),t.prototype.setModelId=function(e){this.languageId=e},t.prototype.get=function(e){return void 0===e&&(e={}),b(this,void 0,void 0,(function(){var t;return m(this,(function(r){switch(r.label){case 0:if(this.languageId&&this.conditions)throw new Error("The `where` function is not compatible with languages(languageId). Example ordering.languages().where(contitions).get()");return t="/languages"+(this.languageId?"/"+this.languageId:""),[4,this.makeRequest("GET",t,void 0,f,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.save=function(e,t){return void 0===t&&(t={}),b(this,void 0,void 0,(function(){var r,n,o,u,i;return m(this,(function(a){switch(a.label){case 0:return r="/languages"+(this.languageId?"/"+this.languageId:""),[4,this.makeRequest(this.languageId?"PUT":"POST",r,e,f,t)];case 1:return n=a.sent(),o=n.content,u=o.error,i=o.result,u||this.languageId||(this.languageId=i.id),[2,n]}}))}))},t.prototype.delete=function(e){return void 0===e&&(e={}),b(this,void 0,void 0,(function(){var t;return m(this,(function(r){switch(r.label){case 0:if(!this.languageId)throw new Error("`languageId` is require to delete. Example: ordering.languages(languageId).delete()");return t="/languages/"+this.languageId,[4,this.makeRequest("DELETE",t,void 0,f,e)];case 1:return[2,r.sent()]}}))}))},t}(y),g=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},O=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},w=function(){function e(e){this.ordering=e}return e.prototype.auth=function(e,t){return void 0===t&&(t={json:!0,system:!0}),g(this,void 0,void 0,(function(){return O(this,(function(r){switch(r.label){case 0:return[4,this.ordering.post("/system/auth",e,t)];case 1:return[2,r.sent()]}}))}))},e.prototype.getCode=function(e,t){return void 0===t&&(t={json:!0,system:!0}),g(this,void 0,void 0,(function(){return O(this,(function(r){switch(r.label){case 0:return[4,this.ordering.post("/system/code",e,t)];case 1:return[2,r.sent()]}}))}))},e}(),j=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),P=function(e){void 0===e&&(e={}),this.access_token=e.access_token,this.expires_in=e.expires_in,this.token_type=e.token_type},S=function(e){function t(t,r){void 0===t&&(t={});var n=e.call(this,t,r,["session","addresses"])||this;return Object.entries(t).map((function(e){var t=e[0],r=e[1];n[t]=r})),t.session&&(n.session=new P(t.session)),n}return j(t,e),t.prototype.isAdministrator=function(){return 0===this.level},t.prototype.isDriver=function(){return 4===this.level},t.prototype.isBusinessOwner=function(){return 2===this.level},t.prototype.isCustomer=function(){return 3===this.level},t.prototype.getAccessToken=function(){var e;return null===(e=this.session)||void 0===e?void 0:e.access_token},t.prototype.getId=function(){return this.id},t}(c),_=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),I=function(e){function t(t,r){void 0===t&&(t={});var n=e.call(this,t,r,[])||this;return Object.entries(t).map((function(e){var t=e[0],r=e[1];n[t]=r})),n}return _(t,e),t.prototype.getId=function(){return this.id},t}(c),E=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),k=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},C=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},A=function(e){function t(t,r,n){void 0===n&&(n=null);var o=e.call(this,t)||this;return o.ordering=t,o.userId=r,o.addressId=n,o}return E(t,e),t.prototype.setModelId=function(e){this.addressId=e},t.prototype.get=function(e){return void 0===e&&(e={}),k(this,void 0,void 0,(function(){var t;return C(this,(function(r){switch(r.label){case 0:if(!this.userId)throw new Error("You must provide the `userId` param. Example ordering.users(userId).addresses(addressId?).get()");if(this.addressId&&this.conditions)throw new Error("The `where` function is not compatible with users(userId).addresses(addressId). Example ordering.users(userId).addresses().where(contitions).get()");return t="/users/"+this.userId+"/addresses"+(this.addressId?"/"+this.addressId:""),[4,this.makeRequest("GET",t,void 0,I,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.save=function(e,t){return void 0===t&&(t={}),k(this,void 0,void 0,(function(){var r,n,o,u,i;return C(this,(function(a){switch(a.label){case 0:if(!this.userId)throw new Error("You must provide the `userId` param. Example ordering.users(userId).addresses(addressId?).save(changes)");return r="/users/"+this.userId+"/addresses"+(this.addressId?"/"+this.addressId:""),[4,this.makeRequest(this.addressId?"PUT":"POST",r,e,I,t)];case 1:return n=a.sent(),o=n.content,u=o.error,i=o.result,u||this.addressId||(this.addressId=i.id),[2,n]}}))}))},t.prototype.delete=function(e){return void 0===e&&(e={}),k(this,void 0,void 0,(function(){var t;return C(this,(function(r){switch(r.label){case 0:if(!this.userId)throw new Error("`userId` is require to delete. Example: ordering.users(userId).addresses(addressId).delete()");if(!this.addressId)throw new Error("`addressId` is require to delete. Example: ordering.users(userId).addresses(addressId).delete()");return t="/users/"+this.userId+"/addresses/"+this.addressId,[4,this.makeRequest("DELETE",t,void 0,I,e)];case 1:return[2,r.sent()]}}))}))},t}(y),x=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),T=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},M=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},D=function(e){function t(t,r){void 0===r&&(r=null);var n=e.call(this,t)||this;return n.userId=r,n}return x(t,e),t.prototype.setModelId=function(e){this.userId=e},t.prototype.get=function(e){return void 0===e&&(e={}),T(this,void 0,void 0,(function(){var t;return M(this,(function(r){switch(r.label){case 0:if(this.userId&&this.conditions)throw new Error("The `where` function is not compatible with users(userId). Example ordering.users().where(contitions).get()");return t="/users"+(this.userId?"/"+this.userId:""),[4,this.makeRequest("GET",t,void 0,S,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.save=function(e,t){return void 0===t&&(t={}),T(this,void 0,void 0,(function(){var r,n,o,u,i;return M(this,(function(a){switch(a.label){case 0:return r="/users"+(this.userId?"/"+this.userId:""),[4,this.makeRequest("POST",r,e,S,t)];case 1:return n=a.sent(),o=n.content,u=o.error,i=o.result,u||this.userId||(this.userId=i.id),[2,n]}}))}))},t.prototype.delete=function(e){return void 0===e&&(e={}),T(this,void 0,void 0,(function(){var t;return M(this,(function(r){switch(r.label){case 0:if(!this.userId)throw new Error("`userId` is require to delete. Example: ordering.users(userId).delete()");return t="/users/"+this.userId,[4,this.makeRequest("DELETE",t,void 0,S,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.auth=function(e,t){return void 0===t&&(t={}),T(this,void 0,void 0,(function(){var r,n,o,u;return M(this,(function(i){switch(i.label){case 0:return"/auth",[4,this.makeRequest("POST","/auth",e,S,t)];case 1:return r=i.sent(),n=r.content,o=n.error,u=n.result,o||(this.userId=u.id),[2,r]}}))}))},t.prototype.logout=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),T(this,void 0,void 0,(function(){return M(this,(function(r){switch(r.label){case 0:return"/auth/logout",[4,this.makeRequest("POST","/auth/logout",e,S,t)];case 1:return[2,r.sent()]}}))}))},t.prototype.forgotPassword=function(e,t){return void 0===t&&(t={}),T(this,void 0,void 0,(function(){return M(this,(function(r){switch(r.label){case 0:return"/users/forgot",[4,this.makeRequest("POST","/users/forgot",e,S,t)];case 1:return[2,r.sent()]}}))}))},t.prototype.resetPassword=function(e,t){return void 0===t&&(t={}),T(this,void 0,void 0,(function(){return M(this,(function(r){switch(r.label){case 0:return"/users/reset",[4,this.makeRequest("POST","/users/reset",e,S,t)];case 1:return[2,r.sent()]}}))}))},t.prototype.authFacebook=function(e,t){return void 0===t&&(t={}),T(this,void 0,void 0,(function(){var r,n,o,u;return M(this,(function(i){switch(i.label){case 0:return"/auth/facebook",[4,this.makeRequest("POST","/auth/facebook",e,S,t)];case 1:return r=i.sent(),n=r.content,o=n.error,u=n.result,o||(this.userId=u.id),[2,r]}}))}))},t.prototype.alerts=function(){var e=this;if(!this.userId)throw new Error("`userId` is require get alerts. Example: ordering.users(userId).alerts().get()");return{get:function(t){return void 0===t&&(t={}),T(e,void 0,void 0,(function(){var e;return M(this,(function(r){switch(r.label){case 0:return e="/users/"+this.userId+"/alerts",[4,this.makeRequest("GET",e,void 0,void 0,t)];case 1:return[2,r.sent()]}}))}))}}},t.prototype.addresses=function(e){if(!this.userId)throw new Error("`userId` is require to use API addresses. Example: ordering.users(userId).addresses().get()");return new A(this.ordering,this.userId,e)},t}(y),R=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),U=function(e){function t(t,r){void 0===t&&(t={});var n=e.call(this,t,r)||this;return Object.entries(t).map((function(e){var t=e[0],r=e[1];n[t]=r})),n}return R(t,e),t.prototype.getId=function(){return this.id},t}(c),L=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),B=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},F=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},Y=function(e){function t(t,r){var n=e.call(this,t)||this;return n.fieldId=r,n}return L(t,e),t.prototype.setModelId=function(e){this.fieldId=e},t.prototype.get=function(e){return void 0===e&&(e={}),B(this,void 0,void 0,(function(){var t;return F(this,(function(r){switch(r.label){case 0:if(this.fieldId&&this.conditions)throw new Error("The `where` function is not compatible with validationFields(fieldId). Example ordering.validationFields().where(contitions).get()");return t="/validationfields"+(this.fieldId?"/"+this.fieldId:""),[4,this.makeRequest("GET",t,void 0,U,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.save=function(e,t){return void 0===t&&(t={}),B(this,void 0,void 0,(function(){var r,n,o,u,i;return F(this,(function(a){switch(a.label){case 0:return r="/validationfields"+(this.fieldId?"/"+this.fieldId:""),[4,this.makeRequest(this.fieldId?"PUT":"POST",r,e,U,t)];case 1:return n=a.sent(),o=n.content,u=o.error,i=o.result,u||this.fieldId||(this.fieldId=i.id),[2,n]}}))}))},t.prototype.delete=function(e){return void 0===e&&(e={}),B(this,void 0,void 0,(function(){var t;return F(this,(function(r){switch(r.label){case 0:if(!this.fieldId)throw new Error("`fieldId` is require to delete. Example: ordering.validationFields(fieldId).delete()");return t="/validationfields/"+this.fieldId,[4,this.makeRequest("DELETE",t,void 0,U,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.toType=function(e){return this.conditions=[{attribute:"validate",value:e}],this},t.prototype.toCheckout=function(){return this.toType("checkout")},t.prototype.toAddress=function(){return this.toType("address")},t}(y),q=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),N=function(e){function t(t,r){void 0===t&&(t={});var n=e.call(this,t,r,["customer","business"])||this;return Object.entries(t).map((function(e){var t=e[0],r=e[1];n[t]=r})),n}return q(t,e),t.prototype.getId=function(){return this.id},Object.defineProperty(t.prototype,"subtotal",{get:function(){return this.products?this.products.reduce((function(e,t){var r=t.options.reduce((function(e,t){return e+t.suboptions.reduce((function(e,r){return e+(r.position&&"whole"!==r.position?r.half_price:r.price)*(t.allow_suboption_quantity&&r.quantity>1?r.quantity:1)}),0)}),0);return e+(t.price+r)*t.quantity}),0):0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deliveryFee",{get:function(){return this.delivery_type&&1!==this.delivery_type?0:this.delivery_zone_price},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serviceFee",{get:function(){return(this.subtotal-this.discount)*(this.service_fee/100)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalTax",{get:function(){return this.subtotal*this.tax/(this.tax+100)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalDriverTip",{get:function(){return(this.subtotal-this.totalTax)*(this.driver_tip/100)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"total",{get:function(){return this.subtotal+this.serviceFee+this.deliveryFee+this.totalDriverTip+(2===this.tax_type?this.totalTax:0)-this.discount},enumerable:!1,configurable:!0}),t}(c),W=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),H=function(e){function t(t,r){void 0===t&&(t={}),void 0===r&&(r=null);var n=e.call(this,t,r)||this;return Object.entries(t).map((function(e){var t=e[0],r=e[1];n[t]=r})),n}return W(t,e),t.prototype.getId=function(){return this.id},t}(c),G=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),z=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},$=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},V=function(e){function t(t,r,n){void 0===n&&(n=null);var o=e.call(this,t)||this;return o.ordering=t,o.orderId=r,o.messageId=n,o}return G(t,e),t.prototype.setModelId=function(e){this.messageId=e},t.prototype.get=function(e){return void 0===e&&(e={}),z(this,void 0,void 0,(function(){var t;return $(this,(function(r){switch(r.label){case 0:if(!this.orderId)throw new Error("You must provide the `orderId` param. Example ordering.orders(orderId).messages(messageId?).get()");if(this.messageId&&this.conditions)throw new Error("The `where` function is not compatible with businesses(orderId).messages(messageId). Example ordering.orders(orderId).messages().where(contitions).get()");return t="/orders/"+this.orderId+"/messages"+(this.messageId?"/"+this.messageId:""),[4,this.makeRequest("GET",t,void 0,H,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.save=function(e,t){return void 0===t&&(t={}),z(this,void 0,void 0,(function(){var r,n,o,u,i;return $(this,(function(a){switch(a.label){case 0:if(!this.orderId)throw new Error("You must provide the `orderId` param. Example ordering.orders(orderId).messages(messageId?).save(changes)");if(!this.messageId)throw new Error("ordering.orders(orderId).messages(messageId).save(changes) is not implemented.");return r="/orders/"+this.orderId+"/messages"+(this.messageId?"/"+this.messageId:""),[4,this.makeRequest("POST",r,e,H,t)];case 1:return n=a.sent(),o=n.content,u=o.error,i=o.result,u||this.messageId||(this.messageId=i.id),[2,n]}}))}))},t.prototype.delete=function(e){return void 0===e&&(e={}),z(this,void 0,void 0,(function(){var t;return $(this,(function(r){switch(r.label){case 0:if(!this.orderId)throw new Error("ordering.orders(orderId).messages(messageId).delete() is not implemented.");if(!this.messageId)throw new Error("ordering.orders(orderId).messages(messageId).delete() is not implemented.");return t="/orders/"+this.orderId+"/messages/"+this.messageId,[4,this.makeRequest("DELETE",t,void 0,H,e)];case 1:return[2,r.sent()]}}))}))},t}(y),J=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),K=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},X=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},Z=function(e){function t(t,r){var n=e.call(this,t)||this;return n.orderId=r,n}return J(t,e),t.prototype.setModelId=function(e){this.orderId=e},t.prototype.get=function(e){return void 0===e&&(e={}),K(this,void 0,void 0,(function(){var t;return X(this,(function(r){switch(r.label){case 0:if(this.orderId&&this.conditions)throw new Error("The `where` function is not compatible with orders(orderId). Example ordering.orders().where(contitions).get()");return t="/orders"+(this.orderId?"/"+this.orderId:""),[4,this.makeRequest("GET",t,void 0,N,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.save=function(e,t){return void 0===t&&(t={}),K(this,void 0,void 0,(function(){var r,n,o,u,i;return X(this,(function(a){switch(a.label){case 0:return r="/orders"+(this.orderId?"/"+this.orderId:""),[4,this.makeRequest(this.orderId?"PUT":"POST",r,e,N,t)];case 1:return n=a.sent(),o=n.content,u=o.error,i=o.result,u||this.orderId||(this.orderId=i.id),[2,n]}}))}))},t.prototype.delete=function(e){return void 0===e&&(e={}),K(this,void 0,void 0,(function(){var t;return X(this,(function(r){switch(r.label){case 0:if(!this.orderId)throw new Error("`orderId` is require to delete. Example: ordering.orders(orderId).delete()");return t="/orders/"+this.orderId,[4,this.makeRequest("DELETE",t,void 0,N,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.summary=function(e){return void 0===e&&(e={}),K(this,void 0,void 0,(function(){return X(this,(function(t){switch(t.label){case 0:if(this.orderId)throw new Error("`orderId` is NOT require to summary API. Example: ordering.orders().summary()");return"/orders/dashboard",[4,this.makeRequest("GET","/orders/dashboard",void 0,void 0,e)];case 1:return[2,t.sent()]}}))}))},t.prototype.messages=function(e){if(!this.orderId)throw new Error("`orderId` is require to use API messages. Example: ordering.orders(orderId).messages().get()");if("number"!=typeof this.orderId)throw new Error("`orderId` must be a number to use API messages. Example: ordering.orders(orderId).messages().get()");return new V(this.ordering,this.orderId,e)},t.prototype.reorder=function(e){return void 0===e&&(e={}),K(this,void 0,void 0,(function(){var t;return X(this,(function(r){switch(r.label){case 0:if(!this.orderId)throw new Error("`orderId` is require to delete. Example: ordering.orders(orderId).reorder()");return t="/orders/"+this.orderId+"/reorder",[4,this.makeRequest("POST",t,void 0,void 0,e)];case 1:return[2,r.sent()]}}))}))},t}(y),Q=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ee=function(e){function t(t,r){void 0===t&&(t={});var n=e.call(this,t,r,[])||this;return Object.entries(t).map((function(e){var t=e[0],r=e[1];n[t]=r})),n}return Q(t,e),t.prototype.getId=function(){return this.id},t}(c),te=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),re=function(e){function t(t,r){void 0===t&&(t={}),void 0===r&&(r=null);var n=e.call(this,t,r)||this;return Object.entries(t).map((function(e){var t=e[0],r=e[1];n[t]=r})),n}return te(t,e),t.prototype.getId=function(){return this.id},t}(c),ne=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),oe=function(e){function t(t,r){var n;void 0===t&&(t={}),void 0===r&&(r=null);var o=e.call(this,t,r)||this;return Object.entries(t).map((function(e){var t=e[0],r=e[1];o[t]=r})),o.products=null===(n=o.products)||void 0===n?void 0:n.map((function(e){return new re(e)})),o}return ne(t,e),t.prototype.getId=function(){return this.id},t}(c),ue=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ie=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},ae=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},se=function(e){function t(t,r,n,o){void 0===o&&(o=null);var u=e.call(this,t)||this;return u.ordering=t,u.businessId=r,u.categoryId=n,u.productId=o,u}return ue(t,e),t.prototype.setModelId=function(e){this.productId=e},t.prototype.get=function(e){return void 0===e&&(e={}),ie(this,void 0,void 0,(function(){var t;return ae(this,(function(r){switch(r.label){case 0:if(!this.businessId)throw new Error("You must provide the `businessId` param. Example ordering.businesses(businessId).categories(categoryId).products(productId?).get()");if(this.productId&&this.conditions)throw new Error("The `where` function is not compatible with businesses(businessId).categories(categoryId).products(productId). Example ordering.businesses(businessId).categories(categoryId).products().where(contitions).get()");return t="/business/"+this.businessId+"/categories/"+this.categoryId+"/products"+(this.productId?"/"+this.productId:""),[4,this.makeRequest("GET",t,void 0,re,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.save=function(e,t){return void 0===t&&(t={}),ie(this,void 0,void 0,(function(){var r,n,o,u,i;return ae(this,(function(a){switch(a.label){case 0:if(!this.businessId)throw new Error("You must provide the `businessId` param. Example ordering.businesses(businessId).categories(categoryId).products(productId?).save(changes)");return r="/business/"+this.businessId+"/categories/"+this.categoryId+"/products"+(this.productId?"/"+this.productId:""),[4,this.makeRequest("POST",r,e,re,t)];case 1:return n=a.sent(),o=n.content,u=o.error,i=o.result,u||this.productId||(this.productId=i.id),[2,n]}}))}))},t.prototype.delete=function(e){return void 0===e&&(e={}),ie(this,void 0,void 0,(function(){var t;return ae(this,(function(r){switch(r.label){case 0:if(!this.businessId)throw new Error("`businessId` is require to delete. Example: ordering.businesses(businessId).categories(categoryId).products(productId).delete()");if(!this.categoryId)throw new Error("`categoryId` is require to delete. Example: ordering.businesses(businessId).categories(categoryId).products(productId).delete()");if(!this.productId)throw new Error("`productId` is require to delete. Example: ordering.businesses(businessId).categories(categoryId).products(productId).delete()");return t="/business/"+this.businessId+"/categories/"+this.categoryId+"/products/"+this.productId,[4,this.makeRequest("DELETE",t,void 0,re,e)];case 1:return[2,r.sent()]}}))}))},t}(y),ce=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),le=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},fe=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},de=function(e){function t(t,r,n){void 0===n&&(n=null);var o=e.call(this,t)||this;return o.ordering=t,o.businessId=r,o.categoryId=n,o}return ce(t,e),t.prototype.setModelId=function(e){this.categoryId=e},t.prototype.get=function(e){return void 0===e&&(e={}),le(this,void 0,void 0,(function(){var t;return fe(this,(function(r){switch(r.label){case 0:if(!this.businessId)throw new Error("You must provide the `businessId` param. Example ordering.businesses(businessId).categories(categoryId?).get()");if(this.categoryId&&this.conditions)throw new Error("The `where` function is not compatible with businesses(businessId).categories(categoryId). Example ordering.businesses(businessId).categories().where(contitions).get()");return t="/business/"+this.businessId+"/categories"+(this.categoryId?"/"+this.categoryId:""),[4,this.makeRequest("GET",t,void 0,oe,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.save=function(e,t){return void 0===t&&(t={}),le(this,void 0,void 0,(function(){var r,n,o,u,i;return fe(this,(function(a){switch(a.label){case 0:if(!this.businessId)throw new Error("You must provide the `businessId` param. Example ordering.businesses(businessId).categories(categoryId?).save(changes)");return r="/business/"+this.businessId+"/categories"+(this.categoryId?"/"+this.categoryId:""),[4,this.makeRequest("POST",r,e,oe,t)];case 1:return n=a.sent(),o=n.content,u=o.error,i=o.result,u||this.categoryId||(this.categoryId=i.id),[2,n]}}))}))},t.prototype.delete=function(e){return void 0===e&&(e={}),le(this,void 0,void 0,(function(){var t;return fe(this,(function(r){switch(r.label){case 0:if(!this.businessId)throw new Error("`businessId` is require to delete. Example: ordering.businesses(businessId).categories(categoryId).delete()");if(!this.categoryId)throw new Error("`categoryId` is require to delete. Example: ordering.businesses(businessId).categories(categoryId).delete()");return t="/business/"+this.businessId+"/categories/"+this.categoryId,[4,this.makeRequest("DELETE",t,void 0,oe,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.products=function(e){if(!this.categoryId)throw new Error("`categoryId` is require to use API products. Example: ordering.businesses(businessId).categories(categoryId).products().get()");return new se(this.ordering,this.businessId,this.categoryId,e)},t}(y),pe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ye=function(e){function t(t,r){var n;void 0===t&&(t={}),void 0===r&&(r=null);var o=e.call(this,t,r,["products"])||this;return Object.entries(t).map((function(e){var t=e[0],r=e[1];o[t]=r})),o.products=null===(n=o.products)||void 0===n?void 0:n.map((function(e){return new re(e)})),o}return pe(t,e),t.prototype.getId=function(){return this.id},t}(c),ve=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),be=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},me=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},he=function(e){function t(t,r,n){void 0===n&&(n=null);var o=e.call(this,t)||this;return o.ordering=t,o.businessId=r,o.menuId=n,o}return ve(t,e),t.prototype.setModelId=function(e){this.menuId=e},t.prototype.get=function(e){return void 0===e&&(e={}),be(this,void 0,void 0,(function(){var t;return me(this,(function(r){switch(r.label){case 0:if(!this.businessId)throw new Error("You must provide the `businessId` param. Example ordering.businesses(businessId).menus(menuId?).get()");if(this.menuId&&this.conditions)throw new Error("The `where` function is not compatible with businesses(businessId).menus(menuId). Example ordering.businesses(businessId).menus().where(contitions).get()");return t="/business/"+this.businessId+"/menus"+(this.menuId?"/"+this.menuId:""),[4,this.makeRequest("GET",t,void 0,ye,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.save=function(e,t){return void 0===t&&(t={}),be(this,void 0,void 0,(function(){var r,n,o,u,i;return me(this,(function(a){switch(a.label){case 0:if(!this.businessId)throw new Error("You must provide the `businessId` param. Example ordering.businesses(businessId).menus(menuId?).save(changes)");return r="/business/"+this.businessId+"/menus"+(this.menuId?"/"+this.menuId:""),[4,this.makeRequest(this.menuId?"PUT":"POST",r,e,ye,t)];case 1:return n=a.sent(),o=n.content,u=o.error,i=o.result,u||this.menuId||(this.menuId=i.id),[2,n]}}))}))},t.prototype.delete=function(e){return void 0===e&&(e={}),be(this,void 0,void 0,(function(){var t;return me(this,(function(r){switch(r.label){case 0:if(!this.businessId)throw new Error("`businessId` is require to delete. Example: ordering.businesses(businessId).menus(menuId).delete()");if(!this.menuId)throw new Error("`menuId` is require to delete. Example: ordering.businesses(businessId).menus(menuId).delete()");return t="/business/"+this.businessId+"/menus/"+this.menuId,[4,this.makeRequest("DELETE",t,void 0,ye,e)];case 1:return[2,r.sent()]}}))}))},t}(y),ge=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Oe=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},we=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},je=function(e){function t(t,r,n){void 0===n&&(n=null);var o=e.call(this,t)||this;return o.ordering=t,o.businessId=r,o.productId=n,o}return ge(t,e),t.prototype.setModelId=function(e){this.productId=e},t.prototype.get=function(e){return void 0===e&&(e={}),Oe(this,void 0,void 0,(function(){var t;return we(this,(function(r){switch(r.label){case 0:if(!this.businessId)throw new Error("You must provide the `businessId` param. Example ordering.businesses(businessId).products().get()");return t="/business/"+this.businessId+"/products",[4,this.makeRequest("GET",t,void 0,re,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.save=function(e,t){throw void 0===t&&(t={}),new Error("Method not implemented.")},t.prototype.delete=function(e){throw void 0===e&&(e={}),new Error("Method not implemented.")},t}(y),Pe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Se=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},_e=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},Ie=function(e){function t(t,r){var n=e.call(this,t)||this;return n.businessId=r,n}return Pe(t,e),t.prototype.setModelId=function(e){this.businessId=e},t.prototype.get=function(e){return void 0===e&&(e={}),Se(this,void 0,void 0,(function(){var t,r,n,o,u;return _e(this,(function(i){switch(i.label){case 0:if(this.businessId&&this.conditions)throw new Error("The `where` function is not compatible with businesses(businessId). Example ordering.businesses().where(contitions).get()");return t="/business"+(this.businessId?"/"+this.businessId:""),[4,this.makeRequest("GET",t,void 0,ee,e)];case 1:return r=i.sent(),n=r.content,o=n.error,u=n.result,o||this.businessId||(this.businessId=u.id),[2,r]}}))}))},t.prototype.save=function(e,t){return void 0===t&&(t={}),Se(this,void 0,void 0,(function(){var r,n,o,u,i;return _e(this,(function(a){switch(a.label){case 0:return r="/business"+(this.businessId?"/"+this.businessId:""),[4,this.makeRequest("POST",r,e,ee,t)];case 1:return n=a.sent(),o=n.content,u=o.error,i=o.result,u||this.businessId||(this.businessId=i.id),[2,n]}}))}))},t.prototype.delete=function(e){return void 0===e&&(e={}),Se(this,void 0,void 0,(function(){var t;return _e(this,(function(r){switch(r.label){case 0:if(!this.businessId)throw new Error("`businessId` is require to delete. Example: ordering.businesses(businessId).delete()");return t="/business/"+this.businessId,[4,this.makeRequest("DELETE",t,void 0,null,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.validateCart=function(e,t){return void 0===t&&(t={}),Se(this,void 0,void 0,(function(){var r;return _e(this,(function(n){switch(n.label){case 0:if(!this.businessId)throw new Error("`businessId` is require to validateCart. Example: ordering.businesses(businessId).validateCart(cart)");return r="/business/"+this.businessId+"/validate_cart",[4,this.makeRequest("GET",r,e,void 0,t)];case 1:return[2,n.sent()]}}))}))},t.prototype.products=function(){if(!this.businessId)throw new Error("`businessId` is require to products. Example: ordering.businesses(businessId).products().get()");if("number"!=typeof this.businessId)throw new Error("`businessId` must be a number to use API menus. Example: ordering.businesses(businessId).products().get()");return new je(this.ordering,this.businessId)},t.prototype.categories=function(e){if(!this.businessId)throw new Error("`businessId` is require to use API categories. Example: ordering.businesses(businessId).categories().get()");if("number"!=typeof this.businessId)throw new Error("`businessId` must be a number to use API categories. Example: ordering.businesses(businessId).categories().get()");return new de(this.ordering,this.businessId,e)},t.prototype.menus=function(e){if(!this.businessId)throw new Error("`businessId` is require to use API menus. Example: ordering.businesses(businessId).menus().get()");if("number"!=typeof this.businessId)throw new Error("`businessId` must be a number to use API menus. Example: ordering.businesses(businessId).menus().get()");return new he(this.ordering,this.businessId,e)},t}(y),Ee=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ke=function(e){function t(t,r){void 0===t&&(t={});var n=e.call(this,t,r)||this;return Object.entries(t).map((function(e){var t=e[0],r=e[1];n[t]=r})),n}return Ee(t,e),t.prototype.getId=function(){return this.id},t}(c),Ce=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ae=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},xe=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},Te=function(e){function t(t,r){var n=e.call(this,t)||this;return n.configId=r,n}return Ce(t,e),t.prototype.setModelId=function(e){this.configId=e},t.prototype.get=function(e){return void 0===e&&(e={}),Ae(this,void 0,void 0,(function(){var t;return xe(this,(function(r){switch(r.label){case 0:if(this.configId&&this.conditions)throw new Error("The `where` function is not compatible with configs(configId). Example ordering.configs().where(contitions).get()");return t="/configs"+(this.configId?"/"+this.configId:""),[4,this.makeRequest("GET",t,void 0,ke,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.save=function(e,t){return void 0===t&&(t={}),Ae(this,void 0,void 0,(function(){var r,n,o,u,i;return xe(this,(function(a){switch(a.label){case 0:return r="/configs"+(this.configId?"/"+this.configId:""),[4,this.makeRequest(this.configId?"PUT":"POST",r,e,ke,t)];case 1:return n=a.sent(),o=n.content,u=o.error,i=o.result,u||this.configId||(this.configId=i.id),[2,n]}}))}))},t.prototype.delete=function(e){return void 0===e&&(e={}),Ae(this,void 0,void 0,(function(){var t;return xe(this,(function(r){switch(r.label){case 0:if(!this.configId)throw new Error("`configId` is require to delete. Example: ordering.configs(configId).delete()");return t="/configs/"+this.configId,[4,this.makeRequest("DELETE",t,void 0,null,e)];case 1:return[2,r.sent()]}}))}))},t}(y),Me=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),De=function(e){function t(t,r){void 0===t&&(t={});var n=e.call(this,t,r)||this;return Object.entries(t).map((function(e){var t=e[0],r=e[1];n[t]=r})),n}return Me(t,e),t.prototype.getId=function(){return this.id},t}(c),Re=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ue=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},Le=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},Be=function(e){function t(t,r){var n=e.call(this,t)||this;return n.translationId=r,n}return Re(t,e),t.prototype.setModelId=function(e){this.translationId=e},t.prototype.get=function(e){return void 0===e&&(e={}),Ue(this,void 0,void 0,(function(){var t;return Le(this,(function(r){switch(r.label){case 0:if(this.translationId&&this.conditions)throw new Error("The `where` function is not compatible with translations(translationId). Example ordering.translations().where(contitions).get()");return t="/translations"+(this.translationId?"/"+this.translationId:""),[4,this.makeRequest("GET",t,void 0,De,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.save=function(e,t){return void 0===t&&(t={}),Ue(this,void 0,void 0,(function(){var r,n,o,u,i;return Le(this,(function(a){switch(a.label){case 0:return r="/translations"+(this.translationId?"/"+this.translationId:""),[4,this.makeRequest(this.translationId?"PUT":"POST",r,e,De,t)];case 1:return n=a.sent(),o=n.content,u=o.error,i=o.result,u||this.translationId||(this.translationId=i.id),[2,n]}}))}))},t.prototype.delete=function(e){return void 0===e&&(e={}),Ue(this,void 0,void 0,(function(){var t;return Le(this,(function(r){switch(r.label){case 0:if(!this.translationId)throw new Error("`translationId` is require to delete. Example: ordering.translations(translationId).delete()");return t="/translations/"+this.translationId,[4,this.makeRequest("DELETE",t,void 0,De,e)];case 1:return[2,r.sent()]}}))}))},t}(y),Fe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ye=function(e){function t(t,r){void 0===t&&(t={});var n=e.call(this,t,r,["created_at","updated_at"])||this;return Object.entries(t).map((function(e){var t=e[0],r=e[1];n[t]=r,["updated_at","created_at"].includes(t)&&(n[t]=new Date(r))})),n}return Fe(t,e),t.prototype.getId=function(){return this.id},t}(c),qe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ne=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},We=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},He=function(e){function t(t,r){var n=e.call(this,t)||this;return n.pageId=r,n}return qe(t,e),t.prototype.setModelId=function(e){this.pageId=e},t.prototype.get=function(e){return void 0===e&&(e={}),Ne(this,void 0,void 0,(function(){var t;return We(this,(function(r){switch(r.label){case 0:if(this.pageId&&this.conditions)throw new Error("The `where` function is not compatible with pages(pageId). Example ordering.pages().where(contitions).get()");return t="/pages"+(this.pageId?"/"+this.pageId:""),[4,this.makeRequest("GET",t,void 0,Ye,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.save=function(e,t){return void 0===t&&(t={}),Ne(this,void 0,void 0,(function(){var r,n,o,u,i;return We(this,(function(a){switch(a.label){case 0:return r="/pages"+(this.pageId?"/"+this.pageId:""),[4,this.makeRequest(this.pageId?"PUT":"POST",r,e,Ye,t)];case 1:return n=a.sent(),o=n.content,u=o.error,i=o.result,u||this.pageId||(this.pageId=i.id),[2,n]}}))}))},t.prototype.delete=function(e){return void 0===e&&(e={}),Ne(this,void 0,void 0,(function(){var t;return We(this,(function(r){switch(r.label){case 0:if(!this.pageId)throw new Error("`pageId` is require to delete. Example: ordering.pages(pageId).delete()");return t="/pages/"+this.pageId,[4,this.makeRequest("DELETE",t,void 0,null,e)];case 1:return[2,r.sent()]}}))}))},t}(y),Ge=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ze=function(e){function t(t,r){void 0===t&&(t={});var n=e.call(this,t,r)||this;return Object.entries(t).map((function(e){var t=e[0],r=e[1];n[t]=r})),n}return Ge(t,e),t.prototype.getId=function(){return this.id},t}(c),$e=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ve=function(e){function t(t,r){void 0===t&&(t={});var n=e.call(this,t,r)||this;return Object.entries(t).map((function(e){var t=e[0],r=e[1];n[t]=r})),n}return $e(t,e),t.prototype.getId=function(){return this.id},t}(c),Je=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ke=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},Xe=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},Ze=function(e){function t(t,r,n){void 0===n&&(n=null);var o=e.call(this,t)||this;return o.ordering=t,o.countryId=r,o.cityId=n,o}return Je(t,e),t.prototype.setModelId=function(e){this.cityId=e},t.prototype.get=function(e){return void 0===e&&(e={}),Ke(this,void 0,void 0,(function(){var t;return Xe(this,(function(r){switch(r.label){case 0:if(!this.countryId)throw new Error("You must provide the `countryId` param. Example ordering.countries(countryId).cities(cityId?).get()");if(this.cityId&&this.conditions)throw new Error("The `where` function is not compatible with countries(countryId).cities(cityId). Example ordering.countries(countryId).cities().where(contitions).get()");return t="/countries/"+this.countryId+"/cities"+(this.cityId?"/"+this.cityId:""),[4,this.makeRequest("GET",t,void 0,Ve,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.save=function(e,t){return void 0===t&&(t={}),Ke(this,void 0,void 0,(function(){var r,n,o,u,i;return Xe(this,(function(a){switch(a.label){case 0:if(!this.countryId)throw new Error("You must provide the `countryId` param. Example ordering.countries(countryId).cities(cityId?).save(changes)");return r="/countries/"+this.countryId+"/cities"+(this.cityId?"/"+this.cityId:""),[4,this.makeRequest(this.cityId?"PUT":"POST",r,e,Ve,t)];case 1:return n=a.sent(),o=n.content,u=o.error,i=o.result,u||this.cityId||(this.cityId=i.id),[2,n]}}))}))},t.prototype.delete=function(e){return void 0===e&&(e={}),Ke(this,void 0,void 0,(function(){var t;return Xe(this,(function(r){switch(r.label){case 0:if(!this.countryId)throw new Error("`countryId` is require to delete. Example: ordering.countries(countryId).cities(cityId).delete()");if(!this.cityId)throw new Error("`cityId` is require to delete. Example: ordering.countries(countryId).cities(cityId).delete()");return t="/countries/"+this.countryId+"/cities/"+this.cityId,[4,this.makeRequest("DELETE",t,void 0,void 0,e)];case 1:return[2,r.sent()]}}))}))},t}(y),Qe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),et=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},tt=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},rt=function(e){function t(t,r){var n=e.call(this,t)||this;return n.countryId=r,n}return Qe(t,e),t.prototype.setModelId=function(e){this.countryId=e},t.prototype.get=function(e){return void 0===e&&(e={}),et(this,void 0,void 0,(function(){var t;return tt(this,(function(r){switch(r.label){case 0:if(this.countryId&&this.conditions)throw new Error("The `where` function is not compatible with countries(countryId). Example ordering.countries().where(contitions).get()");return t="/countries"+(this.countryId?"/"+this.countryId:""),[4,this.makeRequest("GET",t,void 0,ze,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.save=function(e,t){return void 0===t&&(t={}),et(this,void 0,void 0,(function(){var r,n,o,u,i;return tt(this,(function(a){switch(a.label){case 0:return r="/countries"+(this.countryId?"/"+this.countryId:""),[4,this.makeRequest(this.countryId?"PUT":"POST",r,e,ze,t)];case 1:return n=a.sent(),o=n.content,u=o.error,i=o.result,u||this.countryId||(this.countryId=i.id),[2,n]}}))}))},t.prototype.delete=function(e){return void 0===e&&(e={}),et(this,void 0,void 0,(function(){var t;return tt(this,(function(r){switch(r.label){case 0:if(!this.countryId)throw new Error("`countryId` is require to delete. Example: ordering.countries(countryId).delete()");return t="/countries/"+this.countryId,[4,this.makeRequest("DELETE",t,void 0,null,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.cities=function(e){if(!this.countryId)throw new Error("`countryId` is require to use API cities. Example: ordering.countries(countryId).cities().get()");return new Ze(this.ordering,this.countryId,e)},t}(y),nt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ot=function(e){function t(t,r){void 0===t&&(t={}),void 0===r&&(r=null);var n=e.call(this,t,r)||this;return Object.entries(t).map((function(e){var t=e[0],r=e[1];n[t]=r})),n}return nt(t,e),t.prototype.getId=function(){return this.id},t}(c),ut=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),it=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},at=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},st=function(e){function t(t,r){var n=e.call(this,t)||this;return n.orderOptionId=r,n}return ut(t,e),t.prototype.setModelId=function(e){this.orderOptionId=e},t.prototype.get=function(e){return void 0===e&&(e={}),it(this,void 0,void 0,(function(){return at(this,(function(t){switch(t.label){case 0:if(this.orderOptionId)throw new Error("ordering.orderOptions(orderOptionId).get() is not implemented");if(this.orderOptionId&&this.conditions)throw new Error("The `where` function is not compatible with countries(orderOptionId). Example ordering.orderOptions().where(contitions).get()");return"/order_options",[4,this.makeRequest("GET","/order_options",void 0,ot,e)];case 1:return[2,t.sent()]}}))}))},t.prototype.save=function(e,t){return void 0===t&&(t={}),it(this,void 0,void 0,(function(){var r,n,o,u;return at(this,(function(i){switch(i.label){case 0:return"/order_options",[4,this.makeRequest("PUT","/order_options",e,ot,t)];case 1:return r=i.sent(),n=r.content,o=n.error,u=n.result,o||this.orderOptionId||(this.orderOptionId=u.id),[2,r]}}))}))},t.prototype.delete=function(e){return void 0===e&&(e={}),it(this,void 0,void 0,(function(){var t;return at(this,(function(r){switch(r.label){case 0:if(this.orderOptionId||!this.orderOptionId)throw new Error("ordering.orderOptions(orderOptionId).delete() is not implemented.");return t="/order_options/"+this.orderOptionId,[4,this.makeRequest("DELETE",t,void 0,null,e)];case 1:return[2,r.sent()]}}))}))},t}(y),ct=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),lt=function(e){function t(t,r){void 0===t&&(t={}),void 0===r&&(r=null);var n=e.call(this,t,r)||this;return Object.entries(t).map((function(e){var t=e[0],r=e[1];n[t]=r})),n}return ct(t,e),t.prototype.getId=function(){return this.id},t}(c),ft=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),dt=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},pt=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},yt=function(e){function t(t,r){var n=e.call(this,t)||this;return n.cartId=r,n}return ft(t,e),t.prototype.setModelId=function(e){this.cartId=e},t.prototype.get=function(e){return void 0===e&&(e={}),dt(this,void 0,void 0,(function(){var t;return pt(this,(function(r){switch(r.label){case 0:if(this.cartId&&this.conditions)throw new Error("The `where` function is not compatible with carts(cartId). Example ordering.carts().where(contitions).get()");return t="/carts"+(this.cartId?"/"+this.cartId:""),[4,this.makeRequest("GET",t,void 0,lt,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.save=function(e,t){return void 0===t&&(t={}),dt(this,void 0,void 0,(function(){var e,t,r,n;return pt(this,(function(o){switch(o.label){case 0:throw new Error("ordering.carts(cartId?).save() is not implemented.");case 1:return e=o.sent(),t=e.content,r=t.error,n=t.result,r||this.cartId||(this.cartId=n.id),[2,e]}}))}))},t.prototype.delete=function(e){return void 0===e&&(e={}),dt(this,void 0,void 0,(function(){return pt(this,(function(e){switch(e.label){case 0:throw new Error("ordering.carts(cartId).delete() is not implemented.");case 1:return[2,e.sent()]}}))}))},t.prototype.addProduct=function(e,t){return void 0===t&&(t={}),dt(this,void 0,void 0,(function(){return pt(this,(function(r){switch(r.label){case 0:return"/carts/add_product",[4,this.makeRequest("POST","/carts/add_product",e,lt,t)];case 1:return[2,r.sent()]}}))}))},t.prototype.removeProduct=function(e,t){return void 0===t&&(t={}),dt(this,void 0,void 0,(function(){return pt(this,(function(r){switch(r.label){case 0:return"/carts/remove_product",[4,this.makeRequest("POST","/carts/remove_product",e,lt,t)];case 1:return[2,r.sent()]}}))}))},t.prototype.updateProduct=function(e,t){return void 0===t&&(t={}),dt(this,void 0,void 0,(function(){return pt(this,(function(r){switch(r.label){case 0:return"/carts/update_product",[4,this.makeRequest("POST","/carts/update_product",e,lt,t)];case 1:return[2,r.sent()]}}))}))},t.prototype.applyCoupon=function(e,t){return void 0===t&&(t={}),dt(this,void 0,void 0,(function(){return pt(this,(function(r){switch(r.label){case 0:return"/carts/apply_coupon",[4,this.makeRequest("POST","/carts/apply_coupon",e,lt,t)];case 1:return[2,r.sent()]}}))}))},t.prototype.changeDriverTip=function(e,t){return void 0===t&&(t={}),dt(this,void 0,void 0,(function(){return pt(this,(function(r){switch(r.label){case 0:return"/carts/change_driver_tip",[4,this.makeRequest("POST","/carts/change_driver_tip",e,lt,t)];case 1:return[2,r.sent()]}}))}))},t.prototype.place=function(e,t){return void 0===t&&(t={}),dt(this,void 0,void 0,(function(){var r;return pt(this,(function(n){switch(n.label){case 0:if(!this.cartId)throw new Error("The `cartId` is required to use ordering.carts(cartId).place(data, options).");return r="/carts/"+this.cartId+"/place",[4,this.makeRequest("POST",r,e,lt,t)];case 1:return[2,n.sent()]}}))}))},t.prototype.confirm=function(e){return void 0===e&&(e={}),dt(this,void 0,void 0,(function(){var t;return pt(this,(function(r){switch(r.label){case 0:if(!this.cartId)throw new Error("The `cartId` is required to use ordering.carts(cartId).confirm(options).");return t="/carts/"+this.cartId+"/confirm",[4,this.makeRequest("POST",t,{},lt,e)];case 1:return[2,r.sent()]}}))}))},t}(y),vt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),bt=function(e){function t(t,r){void 0===t&&(t={});var n=e.call(this,t,r,[])||this;return Object.entries(t).map((function(e){var t=e[0],r=e[1];n[t]=r})),n}return vt(t,e),t}(c),mt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ht=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},gt=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},Ot=function(e){function t(t,r,n,o){void 0===o&&(o=null);var u=e.call(this,t)||this;return u.ordering=t,u.businessId=r,u.userId=n,u.card_id=o,u}return mt(t,e),t.prototype.setModelId=function(e){this.businessId=e},t.prototype.get=function(e){return void 0===e&&(e={}),ht(this,void 0,void 0,(function(){var t;return gt(this,(function(r){switch(r.label){case 0:if(!this.businessId||!this.userId)throw new Error("You must provide the `businessId` and `userId` param. Example ordering.paymentCards(businessId,userId).get()");return t="/payments/stripe/cards?business_id="+this.businessId+"&user_id="+this.userId,[4,this.makeRequest("GET",t,void 0,bt,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.save=function(e,t){return void 0===t&&(t={}),ht(this,void 0,void 0,(function(){return gt(this,(function(e){switch(e.label){case 0:throw new Error("ordering.paymentCards(businessId,userId).save(card) is not implemented.");case 1:return[2,e.sent()]}}))}))},t.prototype.delete=function(e){return void 0===e&&(e={}),ht(this,void 0,void 0,(function(){var t;return gt(this,(function(r){switch(r.label){case 0:if(!this.card_id||!this.businessId||!this.userId)throw new Error("You must provide the `businessId`, `userId`, `cardId` param. Example ordering.paymentCards(businessId,userId,cardId).delete()");return t="/payments/stripe/cards?business_id="+this.businessId+"&user_id="+this.userId+"&card_id="+this.card_id,[4,this.makeRequest("DELETE",t,void 0,bt,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.getCredentials=function(e){return void 0===e&&(e={}),ht(this,void 0,void 0,(function(){return gt(this,(function(t){switch(t.label){case 0:return"/payments/stripe/credentials",[4,this.makeRequest("GET","/payments/stripe/credentials",void 0,bt,e)];case 1:return[2,t.sent()]}}))}))},t}(y),wt=function(){return(wt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},jt=function(e,t,r,n){return new(r||(r=Promise))((function(o,u){function i(e){try{s(n.next(e))}catch(e){u(e)}}function a(e){try{s(n.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))},Pt=function(e,t){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},St=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},_t=function(){function e(e){var t=void 0===e?{}:e,r=t.url,n=void 0===r?"https://apiv4.ordering.co":r,o=t.version,u=void 0===o?"v400":o,i=t.project,a=void 0===i?"demo":i,s=t.language,c=void 0===s?"en":s,l=t.accessToken,f=void 0===l?null:l,d=t.apiKey,p=void 0===d?null:d,y=t.appId,v=void 0===y?null:y;this.url=n,this.version=u,this.project=a,this.language=c,this.accessToken=f,this.apiKey=p,this.appId=v}return Object.defineProperty(e.prototype,"root",{get:function(){return this.url+"/"+this.version+"/"+this.language+"/"+this.project},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"systemRoot",{get:function(){return this.url+"/"+this.version},enumerable:!1,configurable:!0}),e.prototype.setAccessToken=function(e){return this.accessToken=e,this},e.prototype.setApiKey=function(e){return this.apiKey=e,this},e.prototype.setAppId=function(e){return this.appId=e,this},e.prototype.setUrl=function(e){return this.url=e,this},e.prototype.setProject=function(e){return this.project=e,this},e.prototype.setVersion=function(e){return this.version=e,this},e.prototype.setLanguage=function(e){return this.language=e,this},e.prototype.users=function(e){return void 0===e&&(e=null),new D(this,e)},e.prototype.orders=function(e){return void 0===e&&(e=null),new Z(this,e)},e.prototype.configs=function(e){return void 0===e&&(e=null),new Te(this,e)},e.prototype.businesses=function(e){return new Ie(this,e)},e.prototype.validationFields=function(e){return new Y(this,e)},e.prototype.languages=function(e){return new h(this,e)},e.prototype.translations=function(e){return new Be(this,e)},e.prototype.pages=function(e){return new He(this,e)},e.prototype.countries=function(e){return new rt(this,e)},e.prototype.orderOptions=function(e){return new st(this,e)},e.prototype.carts=function(e){return new yt(this,e)},e.prototype.paymentCards=function(e,t,r){return new Ot(this,e,t,r)},e.prototype.system=function(){return new w(this)},e.prototype.getRequestProps=function(e){var t,r=e.system?this.systemRoot:this.root,n=e.query,o=e.mode,u=e.conditions,i=e.headers,a=St(e,["query","mode","conditions","headers"]),s=n||{};if(s&&Object.keys(s).length>0)for(var c in s)s[c]="object"==typeof s[c]?JSON.stringify(s[c]):s[c];var l=(null===(t=null==s?void 0:s.params)||void 0===t?void 0:t.split(","))||[];(l=l.concat(e.attributes||[])).length>0&&(s.params=l.join(",")),u&&(s.where="object"==typeof u?JSON.stringify(u):u),o&&(s.mode=e.mode);var f={};return this.accessToken&&!this.apiKey&&(f.Authorization="Bearer "+this.accessToken),this.apiKey&&(f["X-Api-Key"]=this.apiKey),this.appId&&(f["X-APP-X"]=this.appId),[r,wt(wt({},a),{params:s||{},headers:Object.assign(f,i||{})})]},e.prototype.makeRequest=function(e,t,r,n){return new Promise((function(o,u){var i=new window.XMLHttpRequest,a=Object.entries(n.params||{}).map((function(e){return e[0]+"="+e[1]})).join("&");i.open(e,t+(a?"?"+a:"")),Object.entries(n.headers||{}).forEach((function(e){i.setRequestHeader(e[0],e[1])})),n.cancelToken&&"object"==typeof n.cancelToken&&(n.cancelToken.cancel=function(){i.abort()}),i.onload=function(){if(this.status<500){var e=n.json?JSON.parse(this.response):this.response;o({request:this,data:e,status:this.status,statusText:this.statusText})}else u(new Error("Internal error"))},i.onerror=function(e){u(e)},n.json?(i.setRequestHeader("Content-Type","application/json"),i.send(r?JSON.stringify(r):null)):i.send()}))},e.prototype.get=function(e,t){return void 0===t&&(t={CastClass:null,json:!0,system:!1}),jt(this,void 0,void 0,(function(){var r,n,o,i;return Pt(this,(function(a){switch(a.label){case 0:return r=this.getRequestProps(t),n=r[0],o=r[1],[4,this.makeRequest("GET",n+e,null,o)];case 1:return i=a.sent(),[2,new u(i,t,t.api)]}}))}))},e.prototype.post=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={CastClass:null,json:!0,system:!1}),jt(this,void 0,void 0,(function(){var n,o,i,a,s;return Pt(this,(function(c){switch(c.label){case 0:if(n=this.getRequestProps(r),o=n[0],i=n[1],r.json)for(a in t)null!==t[a]&&"object"==typeof t[a]&&(t[a]=JSON.stringify(t[a]));return[4,this.makeRequest("POST",o+e,t,i)];case 1:return s=c.sent(),[2,new u(s,r,r.api)]}}))}))},e.prototype.put=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={CastClass:null,json:!0,system:!1}),jt(this,void 0,void 0,(function(){var n,o,i,a,s;return Pt(this,(function(c){switch(c.label){case 0:if(n=this.getRequestProps(r),o=n[0],i=n[1],r.json)for(a in t)null!==t[a]&&"object"==typeof t[a]&&(t[a]=JSON.stringify(t[a]));return[4,this.makeRequest("PUT",o+e,t,i)];case 1:return s=c.sent(),[2,new u(s,r,r.api)]}}))}))},e.prototype.delete=function(e,t){return void 0===t&&(t={CastClass:null,json:!0,system:!1}),jt(this,void 0,void 0,(function(){var r,n,o,i;return Pt(this,(function(a){switch(a.label){case 0:return r=this.getRequestProps(t),n=r[0],o=r[1],[4,this.makeRequest("DELETE",n+e,null,o)];case 1:return i=a.sent(),[2,new u(i,t,t.api)]}}))}))},e}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AddressDetails=void 0;var o=d(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=d(r(3)),a=r(17),s=r(11),c=r(58),l=r(33);function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function d(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=function(e){var t,r=e.apiKey,n=e.UIComponent,i=e.mapConfigs,f=v((0,a.useOrder)(),1)[0],d=v((0,c.useUtils)(),1)[0].optimizeImage,b=v((0,l.useConfig)(),1)[0].configs,m=r||(null==b||null===(t=b.google_maps_api_key)||void 0===t?void 0:t.value),h={},g=v((0,u.useState)(null),2),O=g[0],w=g[1],j=v((0,u.useState)(null),2),P=j[0],S=j[1],_=v((0,s.useApi)(),1)[0],I=function(){var t,r=(t=o.default.mark((function t(){var r,n,u;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={},h.business=r,t.next=5,_.businesses(e.businessId).select(["location","logo"]).get({cancelToken:r});case 5:n=t.sent,u=n.content.result,S(u.logo),w(u.location),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:case"end":return t.stop()}}),t,null,[[0,11]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var u=t.apply(e,r);function i(e){y(u,n,o,i,a,"next",e)}function a(e){y(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,u.useEffect)((function(){return e.location&&e.businessLogo?(w(e.location),S(e.businessLogo)):I(),function(){h.business&&h.business.cancel()}}),[]),u.default.createElement(u.default.Fragment,null,n&&u.default.createElement(n,p({},e,{googleMapsUrl:function(t){var r,n,o,u,a,s,c=e.orderLocation||(null==f||null===(r=f.options)||void 0===r||null===(n=r.address)||void 0===n?void 0:n.location);return 1===f.options.type?"https://maps.googleapis.com/maps/api/staticmap?size=".concat((null==i||null===(o=i.mapSize)||void 0===o?void 0:o.width)||500,"x").concat((null==i||null===(u=i.mapSize)||void 0===u?void 0:u.height)||190,"&center=").concat(null==c?void 0:c.lat,",").concat(null==c?void 0:c.lng,"&zoom=").concat((null==i?void 0:i.mapZoom)||15,"&scale=2&maptype=roadmap&markers=icon:%7Ccolor:red%7C").concat(null==c?void 0:c.lat,",").concat(null==c?void 0:c.lng,"&key=").concat(m):"https://maps.googleapis.com/maps/api/staticmap?size=".concat((null==i||null===(a=i.mapSize)||void 0===a?void 0:a.width)||500,"x").concat((null==i||null===(s=i.mapSize)||void 0===s?void 0:s.height)||190,"&scale=2&maptype=roadmap&markers=icon:%7Ccolor:red%7C").concat(null==c?void 0:c.lat,",").concat(null==c?void 0:c.lng,"&markers=icon:").concat(d(P,"w_60,h_60,r_max"),"%7Ccolor:white%7C").concat(null==t?void 0:t.lat,",").concat(null==t?void 0:t.lng,"&key=").concat(m)}(O)})))};t.AddressDetails=m,m.propTypes={UIComponent:i.default.elementType,business:i.default.object,businessId:i.default.number,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},m.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var h=m;t.default=h},,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;var n,o=(n=r(353))&&n.__esModule?n:{default:n};function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(t){var r=t.url,n=t.project,o=t.accessToken;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=r,this.project=n,this.accessToken=o,this.queue=[]}var t,r,n;return t=e,(r=[{key:"connect",value:function(){var e=this;this.socket=(0,o.default)(this.url,{extraHeaders:{Authorization:"Bearer ".concat(this.accessToken)},query:"token=".concat(this.accessToken,"&project=").concat(this.project),transports:["websocket"]}),this.socket.on("connect",(function(){for(var t;void 0!==(t=e.queue.shift());)"on"===t.action?e.on(t.event,t.func):"join"===t.action?e.join(t.room):"leave"===t.action?e.leave(t.room):"off"===t.action&&e.off(t.room)}))}},{key:"getId",value:function(){var e;return null===(e=this.socket)||void 0===e?void 0:e.id}},{key:"close",value:function(){var e;(null===(e=this.socket)||void 0===e?void 0:e.connected)&&this.socket.close()}},{key:"join",value:function(e){var t;return(null===(t=this.socket)||void 0===t?void 0:t.connected)?this.socket.emit("join","".concat(this.project,"_").concat(e)):this.queue.push({action:"join",room:e}),this}},{key:"leave",value:function(e){var t;return(null===(t=this.socket)||void 0===t?void 0:t.connected)?this.socket.emit("leave","".concat(this.project,"_").concat(e)):this.queue.push({action:"leave",room:e}),this}},{key:"on",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return(null===(t=this.socket)||void 0===t?void 0:t.connected)?this.socket.on(e,r):this.queue.push({action:"on",event:e,func:r}),this}},{key:"off",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return(null===(t=this.socket)||void 0===t?void 0:t.connected)?this.socket.off(e,r):this.queue.push({action:"off",event:e,func:r}),this}}])&&u(t.prototype,r),n&&u(t,n),e}();t.Socket=i},,,,,,,,function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},,,,,,,,,,,,,,,,function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Emitter=void 0;var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._events={}}var t,r,o;return t=e,(r=[{key:"on",value:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)}},{key:"off",value:function(e,t){this._events[e]&&(this._events[e]=this._events[e].filter((function(e){return e!==t})))}},{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(this._events[e]){var o=function(e){e.apply(void 0,r)};this._events[e].forEach(o)}}}])&&n(t.prototype,r),o&&n(t,o),e}();t.Emitter=o;var u=o;t.default=u},,,function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AddressForm=void 0;var o=p(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=p(r(3)),a=r(16),s=r(11),c=r(17),l=r(59),f=r(60);function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){h(u,n,o,i,a,"next",e)}function a(e){h(u,n,o,i,a,"throw",e)}i(void 0)}))}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var j=function(e){var t=e.UIComponent,r=e.addressId,n=e.address,i=e.useValidationFileds,d=e.onSaveAddress,p=e.isSelectedAfterAdd,v=e.onSaveCustomAddress,h=O((0,s.useApi)(),1)[0],w=O((0,l.useValidationFields)(),1)[0],j=O((0,u.useState)({loading:!1,error:null,address:n||{}}),2),P=j[0],S=j[1],_=O((0,u.useState)({loading:!1,changes:{},error:null}),2),I=_[0],E=_[1],k=O((0,a.useSession)(),1)[0],C=k.auth,A=k.user,x=k.token,T={},M=O((0,c.useOrder)(),2)[1].changeAddress,D=e.userId||(null==A?void 0:A.id),R=e.accessToken||x,U=O((0,f.useCustomer)(),2)[1].setUserCustomer,L=O((0,u.useState)(!1),2),B=L[0],F=L[1],Y=function(){var e=g(o.default.mark((function e(t,r){var n,u,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(b(b({},P),{},{loading:!0})),n={},T.address=n,e.next=6,h.users(t).addresses(r).get({accessToken:R,cancelToken:n});case 6:u=e.sent,i=u.content,S({loading:!1,error:i.error?i.result:null,address:i.error?{}:i.result}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),"Cancel"!==e.t0.constructor.name&&S({loading:!1,error:[e.t0.message],address:{}});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),q=function(e){E(b(b({},I),{},{changes:b(b({},I.changes),e)}))},N=function(){var e=g(o.default.mark((function e(t,r){var n,u,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=3;break}return v(t),e.abrupt("return");case 3:if(C){e.next=7;break}return M(b(b({},t),I.changes)),d&&d(I.changes),e.abrupt("return");case 7:return r&&U(r,!0),E(b(b({},I),{},{loading:!0})),e.prev=9,e.next=12,h.users(D).addresses(null===(n=P.address)||void 0===n?void 0:n.id).save(b(b({},t),I.changes),{accessToken:R});case 12:u=e.sent,i=u.content,E(b(b({},I),{},{loading:!1,error:i.error?i.result:null,changes:i.error?I.changes:{}})),i.error||(S(b(b({},P),{},{address:i.result})),d&&d(i.result),p&&M(i.result.id,{address:B?null:i.result,isEdit:B})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(9),E(b(b({},I),{},{loading:!1,error:[e.t0.message],address:{}}));case 21:case"end":return e.stop()}}),e,null,[[9,18]])})));return function(t,r){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){S(b(b({},P),{},{address:n||{}}))}),[n]),(0,u.useEffect)((function(){r&&!n&&Y(D,r)}),[]),(0,u.useEffect)((function(){return function(){T.address&&T.address.cancel()}}),[]),u.default.createElement(u.default.Fragment,null,t&&u.default.createElement(t,y({},e,{formState:I,showField:function(e){var t,r,n;return!i||!w.loading&&!(null===(t=w.fields)||void 0===t?void 0:t.address[e])||!w.loading&&(null===(r=w.fields)||void 0===r?void 0:r.address[e])&&(null===(n=w.fields)||void 0===n?void 0:n.address[e].enabled)},updateChanges:q,handleChangeInput:function(e){q(m({},e.target.name,e.target.value))},isRequiredField:function(e){var t,r,n,o,u,a,s,c;return i&&!w.loading&&(null===(t=w.fields)||void 0===t||null===(r=t.address)||void 0===r?void 0:r[e])&&(null===(n=w.fields)||void 0===n||null===(o=n.address)||void 0===o||null===(u=o[e])||void 0===u?void 0:u.enabled)&&(null===(a=w.fields)||void 0===a||null===(s=a.address)||void 0===s||null===(c=s[e])||void 0===c?void 0:c.required)},saveAddress:N,addressState:P,setIsEdit:function(e){return F(e)}})))};t.AddressForm=j,j.propTypes={UIComponent:i.default.elementType,isSelectedAfterAdd:i.default.bool,useValidationFileds:i.default.bool,address:i.default.object,userId:i.default.number,addressId:i.default.number,onSaveAddress:i.default.func,onSaveCustomAddress:i.default.func,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},j.defaultProps={useValidationFileds:!1,beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var P=j;t.default=P},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AddressList=void 0;var o=d(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=d(r(3)),a=r(16),s=r(17),c=r(11),l=r(60);function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function d(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){m(u,n,o,i,a,"next",e)}function a(e){m(u,n,o,i,a,"throw",e)}i(void 0)}))}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w=function(e){var t=e.UIComponent,r=e.changeOrderAddressWithDefault,n=e.handleClickSetDefault,i=e.handleClickDelete,f=g((0,c.useApi)(),1)[0],d=g((0,a.useSession)(),1)[0],y=d.user,b=d.token,m=g((0,l.useCustomer)(),2)[1].setUserCustomer,O=e.userId||(null==y?void 0:y.id),w=e.accessToken||b;if(!O)throw new Error("`userId` must provide from props or use SessionProviver to wrappe the app.");if(!w)throw new Error("`accessToken` must provide from props or use SessionProviver to wrappe the app.");var j=g((0,u.useState)({loading:!0,error:null,addresses:[]}),2),P=j[0],S=j[1],_=g((0,u.useState)({loading:!1,error:null}),2),I=_[0],E=_[1],k=g((0,s.useOrder)(),2)[1].changeAddress,C={},A=function(){var e=h(o.default.mark((function e(){var t,r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(v(v({},P),{},{loading:!0})),t={},C.list=t,e.next=6,f.setAccessToken(w).users(O).addresses().get({cancelToken:t});case 6:r=e.sent,n=r.content,S({loading:!1,error:n.error?n.result:null,addresses:n.error?[]:Array.isArray(n.result)?n.result:[]}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),"Cancel"!==e.t0.constructor.name&&S(v(v({},P),{},{loading:!1,error:[e.t0.message]}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){return A(),function(){C.list&&C.list.cancel()}}),[]);var x=function(){var e=h(o.default.mark((function e(t,u){var i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&m(v(v({},u),{},{address:null==t?void 0:t.address,address_notes:null==t?void 0:t.address_notes,internal_number:null==t?void 0:t.internal_number,zipcode:null==t?void 0:t.zipcode}),!0),!n){e.next=3;break}return e.abrupt("return",n(t));case 3:return e.prev=3,E(v(v({},I),{},{loading:!0})),e.next=7,f.setAccessToken(w).users(O).addresses(t.id).save({default:!0});case 7:i=e.sent,a=i.content,E({loading:!1,error:a.error?a.result:null}),!a.error&&a.result.default&&(P.addresses.map((function(e){return e.default=e.id===t.id,e})),r&&k(a.result.id),S(v({},P))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),E(v(v({},I),{},{loading:!1,error:[e.t0.message]}));case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,r){return e.apply(this,arguments)}}(),T=function(){var e=h(o.default.mark((function e(t){var r,n,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=2;break}return e.abrupt("return",i(t));case 2:return e.prev=2,E(v(v({},I),{},{loading:!0})),e.next=6,f.users(O).addresses(t.id).delete({accessToken:w});case 6:r=e.sent,n=r.content,E({loading:!1,error:n.error?n.result:null}),n.error||(u=P.addresses.filter((function(e){return e.id!==t.id})),S(v(v({},P),{},{addresses:u}))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),E(v(v({},I),{},{loading:!1,error:[e.t0.message]}));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return u.default.createElement(u.default.Fragment,null,t&&u.default.createElement(t,p({},e,{addressList:P,setAddressList:S,actionStatus:I,handleSetDefault:x,handleDelete:T})))};t.AddressList=w,w.propTypes={UIComponent:i.default.elementType,handleClickAddress:i.default.func,handleClickSetDefault:i.default.func,handleClickDelete:i.default.func,userId:i.default.number,accessToken:i.default.string,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},w.defaultProps={changeOrderAddressWithDefault:!0,beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var j=w;t.default=j},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseComponent=void 0;var n=u(r(0)),o=u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.UIComponent;return n.default.createElement(n.default.Fragment,null,t&&n.default.createElement(t,e))};t.BaseComponent=i,i.propTypes={UIComponent:o.default.elementType,beforeComponents:o.default.arrayOf(o.default.elementType),afterComponents:o.default.arrayOf(o.default.elementType),beforeElements:o.default.arrayOf(o.default.element),afterElements:o.default.arrayOf(o.default.element)},i.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var a=i;t.default=a},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BusinessAndProductList=void 0;var o=d(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=d(r(3)),a=d(r(43)),s=d(r(47)),c=r(17),l=r(26);function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function d(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){h(u,n,o,i,a,"next",e)}function a(e){h(u,n,o,i,a,"throw",e)}i(void 0)}))}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}a.default.extend(s.default);var P=function(e){var t,r,n,i,s,f=e.isSearchByName,d=e.isSearchByDescription,v=e.slug,m=e.categoryId,h=e.productId,w=e.isInitialRender,j=e.ordering,P=e.businessProps,S=e.menusProps,_=e.isGetMenus,I=e.UIComponent,E=O((0,c.useOrder)(),1)[0],k=O((0,l.useLanguage)(),2),C=k[0],A=k[1],x=O((0,u.useState)({id:null,name:A("ALL","All")}),2),T=x[0],M=x[1],D=O((0,u.useState)(null),2),R=D[0],U=D[1],L=O((0,u.useState)(null),2),B=L[0],F=L[1],Y=O((0,u.useState)(null),2),q=Y[0],N=Y[1],W=O((0,u.useState)({business:{},menus:null,loading:!0,error:null}),2),H=W[0],G=W[1],z=O((0,u.useState)({}),2),$=z[0],V=z[1],J=O((0,u.useState)(),2),K=J[0],X=J[1],Z=O((0,u.useState)({}),2),Q=Z[0],ee=Z[1],te=O((0,u.useState)({product:null,loading:!1,error:null}),2),re=te[0],ne=te[1],oe=O((0,u.useState)(!1),2),ue=oe[0],ie=oe[1],ae={loading:!0,pagination:{currentPage:0,pageSize:20,totalItems:null,totalPages:0,nextPageItems:10},products:[]},se=O((0,u.useState)(ae),2),ce=se[0],le=se[1],fe=O((0,u.useState)(null),2),de=fe[0],pe=fe[1],ye=O((0,u.useState)(!1),2),ve=ye[0],be=ye[1],me=function(e,t){return!R||(e&&e.toLowerCase().includes(R.toLowerCase())&&f||t&&t.toLowerCase().includes(R.toLowerCase())&&d)},he=function(e,t){return a.default.utc(e,t).format(t)===e},ge=function(e){return!!e.featured&&(!R||(e.name&&e.name.toLowerCase().includes(R.toLowerCase())&&f||e.description&&e.description.toLowerCase().includes(R.toLowerCase())&&d))},Oe=function(e,t){return"rank"===e?t.sort((function(e,t){return t.rank-e.rank})):"a-z"===e?t.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0})):t},we=function(){var e=g(o.default.mark((function e(t){var r,n,u,i,s,c,l,p,v,m,h,g,O,w,P,S,_,I,k,C,A,x,M,D,U,L,F,Y,q,N,W,G,z,J,K,X;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==H||null===(r=H.business)||void 0===r?void 0:r.lazy_load_products_recommended){e.next=8;break}return p=!!(null==H||null===(s=H.business)||void 0===s||null===(c=s.categories)||void 0===c||null===(l=c.find((function(e){return e})))||void 0===l?void 0:l.products.filter((function(e){return e.featured})).length),ie(p),v=b(b({},ae),{},{loading:!1}),"featured"!==T.id&&null!==T.id?(O=null==H||null===(m=H.business)||void 0===m||null===(h=m.categories)||void 0===h||null===(g=h.find((function(e){return e.id===T.id})))||void 0===g?void 0:g.products.filter((function(e){return me(e.name,e.description)})),v.products=O||[]):"featured"===T.id?(S=null==H||null===(w=H.business)||void 0===w||null===(P=w.categories)||void 0===P?void 0:P.reduce((function(e,t){return[].concat(y(e),y(t.products))}),[]).filter((function(e){return ge(e)})),v.products=S||[]):(k=null==H||null===(_=H.business)||void 0===_||null===(I=_.categories)||void 0===I?void 0:I.reduce((function(e,t){return[].concat(y(e),y(t.products))}),[]).filter((function(e){return me(e.name,e.description)})),v.products=k||[]),v.products=Oe(B,v.products),le(b({},v)),e.abrupt("return");case 8:if(C=R?"search":"featured"===T.id?"featured":T.id?"categoryId:".concat(T.id):"all",(A=$[C]||ae).products=Oe(B,A.products),x=A.pagination,t||!(x.currentPage>0)||x.currentPage!==x.totalPages){e.next=15;break}return le(b(b({},A),{},{loading:!1})),e.abrupt("return");case 15:return le(b(b({},A),{},{loading:!0})),M={type:(null===(n=E.options)||void 0===n?void 0:n.type)||1,page:t?1:x.currentPage+1,page_size:x.pageSize},(null===(u=E.options)||void 0===u?void 0:u.moment)&&he(null===(i=E.options)||void 0===i?void 0:i.moment,"YYYY-MM-DD HH:mm:ss")&&(U=a.default.utc(null===(D=E.options)||void 0===D?void 0:D.moment,"YYYY-MM-DD HH:mm:ss").local().unix(),M.timestamp=U),B&&(M.orderBy="a-z"===B?"name":B),L=null,F=[],R&&(f&&F.push({attribute:"name",value:{condition:"ilike",value:encodeURI("%".concat(R,"%"))}}),d&&F.push({attribute:"description",value:{condition:"ilike",value:encodeURI("%".concat(R,"%"))}})),L={conditions:F,conector:"OR"},"featured"===T.id&&(M.params="features"),"featured"===T.id&&R&&(M.params="features",L={conditions:[{conditions:F,conector:"OR"}],conector:"AND"}),e.prev=25,Y=T.id&&"featured"!==T.id?j.businesses(H.business.id).categories(T.id).products():j.businesses(H.business.id).products(),q={},Q.products=q,ee(b({},Q)),N=L.conditions.length>0?Y.parameters(M).where(L):Y.parameters(M),e.next=33,N.get({cancelToken:q});case 33:W=e.sent,G=W.content,z=G.error,J=G.result,K=G.pagination,z?pe(J):(X={pagination:b(b({},A.pagination),{},{currentPage:K.current_page,totalItems:K.total,totalPages:K.total_pages}),loading:!1,products:t?y(J):[].concat(y(A.products),y(J))},$[C]=X,le(b({},X)),V(b({},$)),ie(!!$.all.products.find((function(e){return e.featured})))),e.next=44;break;case 41:e.prev=41,e.t0=e.catch(25),pe([e.t0.message]);case 44:case"end":return e.stop()}}),e,null,[[25,41]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=g(o.default.mark((function e(){var t,r,n,u,i,s,c,l,f,d,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(m&&h&&H.business.id)){e.next=18;break}return e.prev=1,ne(b(b({},re),{},{loading:!0})),i={},Q.product=i,s={type:(null===(t=E.options)||void 0===t?void 0:t.type)||1,moment:(null===(r=E.options)||void 0===r?void 0:r.moment)||null},(null===(n=E.options)||void 0===n?void 0:n.moment)&&he(null===(u=E.options)||void 0===u?void 0:u.moment,"YYYY-MM-DD HH:mm:ss")&&(l=a.default.utc(null===(c=E.options)||void 0===c?void 0:c.moment,"YYYY-MM-DD HH:mm:ss").local().unix(),s.timestamp=l),e.next=9,j.businesses(H.business.id).categories(m).products(h).parameters(s).get({cancelToken:i});case 9:f=e.sent,d=f.content.result,p=Array.isArray(d)?null:d,ne(b(b({},re),{},{product:p,loading:!1})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),ne(b(b({},re),{},{loading:!1,error:[e.t0]}));case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){w&&je()}),[JSON.stringify(null===(t=H.business)||void 0===t?void 0:t.id),w]);var Pe=function(){var e=g(o.default.mark((function e(){var t,r,n,u,i,s,c,l,f,d,p,y,m,h,g,O,w,I,k,C,A;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,G(b(b({},H),{},{loading:!0})),m={},Q.business=m,ee(b({},Q)),h={type:(null===(t=E.options)||void 0===t?void 0:t.type)||1,location:(null===(r=E.options)||void 0===r||null===(n=r.address)||void 0===n?void 0:n.location)?"".concat(null===(u=E.options)||void 0===u||null===(i=u.address)||void 0===i||null===(s=i.location)||void 0===s?void 0:s.lat,",").concat(null===(c=E.options)||void 0===c||null===(l=c.address)||void 0===l||null===(f=l.location)||void 0===f?void 0:f.lng):null},(null===(d=E.options)||void 0===d?void 0:d.moment)&&he(null===(p=E.options)||void 0===p?void 0:p.moment,"YYYY-MM-DD HH:mm:ss")&&(O=a.default.utc(null===(g=E.options)||void 0===g?void 0:g.moment,"YYYY-MM-DD HH:mm:ss").local().unix(),h.timestamp=O),q&&(h.menu_id=q),e.next=10,j.businesses(v).select(P).parameters(h).get({cancelToken:m});case 10:if(w=e.sent,(null==(I=w.content.result)?void 0:I.categories)&&0!==(null==I||null===(y=I.categories)||void 0===y?void 0:y.length)||be(!0),k=b(b({},H),{},{business:I,loading:!1}),!S||!_){e.next=20;break}return e.next=17,j.businesses(I.id).menus().select(S).get();case 17:C=e.sent,A=C.content.result,k.menus=A;case 20:G(k),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),G(b(b({},H),{},{loading:!1,error:[e.t0.message]}));case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){H.loading||we(!0)}),[H]),(0,u.useEffect)((function(){we(!!R)}),[R]),(0,u.useEffect)((function(){we(!!R)}),[T.id]),(0,u.useEffect)((function(){we(!!R)}),[B]),(0,u.useEffect)((function(){we()}),[v]),(0,u.useEffect)((function(){E.loading||!K||C.loading||Pe()}),[K,C.loading,v,q]),(0,u.useEffect)((function(){var e,t,r,n;E.loading||X({type:null==E||null===(e=E.options)||void 0===e?void 0:e.type,moment:null==E||null===(t=E.options)||void 0===t?void 0:t.moment,location:null==E||null===(r=E.options)||void 0===r||null===(n=r.address)||void 0===n?void 0:n.location})}),[null==E||null===(r=E.options)||void 0===r?void 0:r.type,null==E||null===(n=E.options)||void 0===n?void 0:n.moment,JSON.stringify(null==E||null===(i=E.options)||void 0===i||null===(s=i.address)||void 0===s?void 0:s.location)]),(0,u.useEffect)((function(){var e=Q.business;return function(){e&&e.cancel&&e.cancel()}}),[Q.business]),(0,u.useEffect)((function(){var e=Q.products;return function(){e&&e.cancel&&e.cancel()}}),[Q.products]),u.default.createElement(u.Suspense,{fallback:u.default.createElement("div",null,"Loading...")},I&&u.default.createElement(I,p({},e,{errors:de,categorySelected:T,searchValue:R,sortByValue:B,filterByMenus:q,categoryState:ce,businessState:H,productModal:re,featuredProducts:ue,errorQuantityProducts:ve,handleChangeCategory:function(e){(null==e?void 0:e.id)!==(null==T?void 0:T.id)&&M(e)},handleChangeSearch:function(e){U(e)},handleChangeSortBy:function(e){F(e)},handleChangeFilterByMenus:function(e){N(e)},getNextProducts:we,updateProductModal:function(e){return ne(b(b({},re),{},{product:e}))}})))};t.BusinessAndProductList=P,P.propTypes={UIComponent:i.default.elementType},P.defaultProps={};var S=P;t.default=S},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BusinessBasicInformation=void 0;var o,u=(o=r(8))&&o.__esModule?o:{default:o},i=l(r(0)),a=l(r(3)),s=r(11);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}return r.default=e,t&&t.set(e,r),r}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){v(u,n,o,i,a,"next",e)}function a(e){v(u,n,o,i,a,"throw",e)}i(void 0)}))}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=function(e){var t=e.UIComponent,r=e.business,n=e.businessId,o=e.businessParams,a=m((0,s.useApi)(),1)[0],c=m((0,i.useState)({business:{},loading:!1,error:null}),2),l=c[0],d=c[1],y={},v=function(){var e=b(u.default.mark((function e(t){var r;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},y.business=r,e.next=4,a.businesses(t).select(o).parameters({location:"40.7539143,-73.9810162",type:1}).get({cancelToken:r});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=b(u.default.mark((function e(){var t,r;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(p(p({},l),{},{loading:!0})),e.next=4,v(n);case 4:t=e.sent,r=t.content.result,d(p(p({},l),{},{loading:!1,business:r})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),d(p(p({},l),{},{loading:!1,error:[e.t0]}));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){return r?d(p(p({},l),{},{business:r})):h(),function(){y.business&&y.business.cancel()}}),[]),i.default.createElement(i.default.Fragment,null,t&&i.default.createElement(t,f({},e,{businessState:l})))};t.BusinessBasicInformation=g,g.propTypes={UIComponent:a.default.elementType,business:a.default.object,businessParams:a.default.arrayOf(a.string),beforeComponents:a.default.arrayOf(a.default.elementType),afterComponents:a.default.arrayOf(a.default.elementType),beforeElements:a.default.arrayOf(a.default.element),afterElements:a.default.arrayOf(a.default.element)},g.defaultProps={businessParams:["header","logo","name","today","delivery_price","minimum","description","distance","delivery_time","pickup_time","reviews"],beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var O=g;t.default=O},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BusinessController=void 0;var o=f(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=f(r(3)),a=r(17),s=r(11),c=r(58);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function f(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b=function(e){var t,r,n=e.business,i=e.businessId,l=e.businessAttributes,f=e.onBusinessClick,v=e.handleCustomClick,b=e.UIComponent,m=y((0,s.useApi)(),1)[0],h=y((0,u.useState)(n),2),g=h[0],O=h[1],w=y((0,u.useState)(null),2),j=w[0],P=w[1],S=y((0,u.useState)(!1),2),_=S[0],I=S[1],E=y((0,a.useOrder)(),1)[0],k=y((0,c.useUtils)(),1)[0].parsePrice,C=function(){var e,t=(e=o.default.mark((function e(){var t,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.businesses(i).select(l).get();case 2:t=e.sent,r=t.content.result,O(r);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){p(u,n,o,i,a,"next",e)}function a(e){p(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),A=function(e){var t=(null==e?void 0:e.hour)<10?"0".concat(null==e?void 0:e.hour):null==e?void 0:e.hour,r=(null==e?void 0:e.minute)<10?"0".concat(null==e?void 0:e.minute):null==e?void 0:e.minute;return e?"".concat(t,":").concat(r):"none"},x=A((null==g||null===(t=g.today)||void 0===t||null===(r=t.lapses[0])||void 0===r?void 0:r.close)||null);return(0,u.useEffect)((function(){var e=null==j?void 0:j.split(":")[0],t=null==j?void 0:j.split(":")[1],r=null==x?void 0:x.split(":")[0],n=null==x?void 0:x.split(":")[1];x&&I(e>r||e===r&&t>=n)}),[j]),(0,u.useEffect)((function(){var e=setInterval((function(){var e=(new Date).getHours(),t=(new Date).getMinutes();P("".concat(e,":").concat(t))}),1e3);return function(){return clearInterval(e)}}),[]),(0,u.useEffect)((function(){n?O(n):C()}),[]),u.default.createElement(u.default.Fragment,null,b&&u.default.createElement(b,d({},e,{orderState:E,isBusinessClose:_,business:g,formatDate:A,formatNumber:function(e){return Math.round(100*e)/100},getBusinessOffer:function(e){if(!e||!e.length)return null;var t=e.reduce((function(e,t){return e.rate>t.rate?e:t}));return 1===(null==t?void 0:t.rate_type)?"".concat(null==t?void 0:t.rate,"%"):k(null==t?void 0:t.rate)},getBusinessMaxOffer:function(e){return e&&e.length?e.reduce((function(e,t){return e.rate>t.rate?e:t})):null},handleClick:v||f})))};t.BusinessController=b,b.propTypes={UIComponent:i.default.elementType,business:i.default.object,businessId:i.default.number,businessAttributes:i.default.arrayOf(i.default.string),onBusinessClick:i.default.func,handleCustomClick:i.default.func,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},b.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var m=b;t.default=m},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BusinessList=void 0;var o=p(r(8)),u=d(r(0)),i=d(r(3)),a=p(r(43)),s=p(r(47)),c=r(11),l=r(17);function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function d(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}return r.default=e,t&&t.set(e,r),r}function p(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}a.default.extend(s.default);var P=function(e){var t,r=e.UIComponent,n=e.initialBuisnessType,i=e.initialOrderType,s=e.initialFilterKey,f=e.initialFilterValue,d=e.isOfferBusinesses,p=e.isSortByReview,b=e.isSearchByName,h=e.isSearchByDescription,w=e.isFeatured,j=e.isDoordash,P=e.paginationSettings,S=e.customLocation,_=e.propsToFetch,I=e.onBusinessClick,E=e.windowPathname,k=O((0,u.useState)({businesses:[],loading:!0,error:null}),2),C=k[0],A=k[1],x=O((0,u.useState)({currentPage:"pages"===P.controlType&&P.initialPage&&P.initialPage>=1?P.initialPage-1:0,pageSize:null!==(t=P.pageSize)&&void 0!==t?t:10,totalItems:null,totalPages:null}),2),T=x[0],M=x[1],D=O((0,u.useState)(null),2),R=D[0],U=D[1],L=O((0,u.useState)(""),2),B=L[0],F=L[1],Y=O((0,u.useState)(null),2),q=Y[0],N=Y[1],W=O((0,u.useState)(null),2),H=W[0],G=W[1],z=O((0,u.useState)(null),2),$=z[0],V=z[1],J=O((0,l.useOrder)(),1)[0],K=O((0,c.useApi)(),1)[0],X=O((0,u.useState)({}),2),Z=X[0],Q=X[1],ee=new RegExp(/^[A-Za-z0-9\s]+$/g),te=function(){var t,r=(t=o.default.mark((function t(r){var u,s,c,l,f,y,g,O,j,P,I,E,k,x,D,U,L,F,Y,N,W,G,z,V,X,te,re,ne,oe;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,A(m(m({},C),{},{loading:!0})),P={location:S?"".concat(S.lat,",").concat(S.lng):"".concat(null===(u=J.options)||void 0===u||null===(s=u.address)||void 0===s||null===(c=s.location)||void 0===c?void 0:c.lat,",").concat(null===(l=J.options)||void 0===l||null===(f=l.address)||void 0===f||null===(y=f.location)||void 0===y?void 0:y.lng),type:i||(null===(g=J.options)||void 0===g?void 0:g.type)||1},H&&(P=m(m({},P),{},{orderBy:H})),p||d||(I={page:r?1:T.currentPage+1,page_size:T.pageSize},P=m(m({},P),I)),(null===(O=J.options)||void 0===O?void 0:O.moment)&&(o=null===(j=J.options)||void 0===j?void 0:j.moment,ue="YYYY-MM-DD HH:mm:ss",a.default.utc(o,ue).format(ue)===o)&&(k=a.default.utc(null===(E=J.options)||void 0===E?void 0:E.moment,"YYYY-MM-DD HH:mm:ss").local().unix(),P.timestamp=k),x=null,D=[],(n||R)&&D.push({attribute:"types",conditions:[{attribute:"id",value:n||R}]}),w&&D.push({attribute:"featured",value:!0}),q&&(1===(null===(U=J.options)||void 0===U?void 0:U.type)&&D.push({attribute:"delivery_time",value:{condition:"<=",value:q}}),2===(null===(L=J.options)||void 0===L?void 0:L.type)&&D.push({attribute:"pickup_time",value:{condition:"<=",value:q}})),$&&D.push({attribute:"delivery_price",value:{condition:"<=",value:$}}),B&&(F=[],Y=ee.test(B),b&&F.push({attribute:"name",value:{condition:"ilike",value:!Y||(null==e?void 0:e.isForceSearch)?"%".concat(B,"%"):encodeURI("%".concat(B,"%"))}}),h&&F.push({attribute:"description",value:{condition:"ilike",value:!Y||(null==e?void 0:e.isForceSearch)?"%".concat(B,"%"):encodeURI("%".concat(B,"%"))}}),D.push({conector:"OR",conditions:F})),D.length&&(x={conditions:D,conector:"AND"}),N={},Z.businesses=N,Q(m({},Z)),W=x?K.businesses().select(_).parameters(P).where(x):K.businesses().select(_).parameters(P),t.next=20,W.get({cancelToken:N});case 20:G=t.sent,z=G.content,V=z.result,X=z.pagination,p?(te=V.sort((function(e,t){return t.reviews.total-e.reviews.total})),C.businesses=te):d?(re=V.filter((function(e){return(null==e?void 0:e.offers.length)>0})),C.businesses=re):C.businesses=r?V:[].concat(v(C.businesses),v(V)),A(m(m({},C),{},{loading:!1})),ne=0,X.current_page!==X.total_pages&&(oe=X.total-C.businesses.length,ne=oe<X.page_size?oe:X.page_size),M(m(m({},T),{},{currentPage:X.current_page,totalPages:X.total_pages,totalItems:X.total,nextPageItems:ne})),t.next=34;break;case 31:t.prev=31,t.t0=t.catch(0),"Cancel"!==t.t0.constructor.name&&A(m(m({},C),{},{loading:!1,error:[t.t0.message]}));case 34:case"end":return t.stop()}var o,ue}),t,null,[[0,31]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var u=t.apply(e,r);function i(e){g(u,n,o,i,a,"next",e)}function a(e){g(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}();(0,u.useEffect)((function(){var e=Z.businesses;return function(){e&&e.cancel()}}),[Z.businesses]),(0,u.useEffect)((function(){var e,t;J.loading||!(null===(e=J.options)||void 0===e||null===(t=e.address)||void 0===t?void 0:t.location)&&!S||j||te(!0)}),[JSON.stringify(J.options),R,B,q,H,$]),(0,u.useEffect)((function(){var e,t;J.loading||!(null===(e=J.options)||void 0===e||null===(t=e.address)||void 0===t?void 0:t.location)&&!S||j&&te(!0)}),[JSON.stringify(J.options.moment),JSON.stringify(J.options.address),R,B,q,H,$]),(0,u.useLayoutEffect)((function(){j&&te(!0)}),[E]),(0,u.useEffect)((function(){if(s||f)switch(s){case"category":re(f);break;case"timeLimit":oe(f);break;case"search":ne(f);break;case"orderBy":ue(f);break;case"maxDeliveryFee":ie(f)}}),[s,f]);var re=function(e){e!==R&&(A(m(m({},C),{},{businesses:[],loading:!0})),U(e))},ne=function(e){A(m(m({},C),{},!!e!=!!B?{businesses:[],loading:!0}:{loading:!1})),F(e)},oe=function(e){A(m(m({},C),{},!!e!=!!q?{businesses:[],loading:!0}:{loading:!1})),N(e)},ue=function(e){A(m(m({},C),{},e!==H?{businesses:[],loading:!0}:{loading:!1})),G(e)},ie=function(e){A(m(m({},C),{},$!==e?{businesses:[],loading:!0}:{loading:!1})),V(e)};return u.default.createElement(u.default.Fragment,null,r&&u.default.createElement(r,y({},e,{businessesList:C,paginationProps:T,searchValue:B,timeLimitValue:q,businessTypeSelected:R,orderByValue:H,maxDeliveryFee:$,getBusinesses:te,handleChangeSearch:ne,handleChangeTimeLimit:oe,handleChangeOrderBy:ue,handleBusinessClick:function(e){I&&I(e)},handleChangeBusinessType:re,handleChangeMaxDeliveryFee:ie})))};t.BusinessList=P,P.propTypes={UIComponent:i.default.elementType,propsToFetch:i.default.arrayOf(i.string),onBusinessClick:i.default.func},P.defaultProps={propsToFetch:["id","name","header","logo","name","schedule","open","delivery_price","distance","delivery_time","pickup_time","reviews","featured","offers","food","laundry","alcohol","groceries","slug"],paginationSettings:{initialPage:1,pageSize:10,controlType:"infinity"}};var S=P;t.default=S},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BusinessInformation=void 0;var o,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=(o=r(3))&&o.__esModule?o:{default:o};function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=function(e){var t=e.googleMapsControls,r=e.business,n=e.optionToShow,o=e.UIComponent,i=c((0,u.useState)(n),2),a=i[0],l=i[1],f=c((0,u.useState)([]),2),d=f[0],p=f[1],y=c((0,u.useState)([]),2),v=y[0],b=y[1],m=c((0,u.useState)({}),2),h=m[0],g=m[1];return(0,u.useEffect)((function(){var e,n,o=null==r||null===(e=r.gallery)||void 0===e?void 0:e.filter((function(e){return e.file})),u=null==r||null===(n=r.gallery)||void 0===n?void 0:n.filter((function(e){return e.video})),i={location:null==r?void 0:r.location,address:null==r?void 0:r.address,address_notes:null==r?void 0:r.address_notes,googleMapsControls:t};p(o),b(u),g(i)}),[r]),u.default.createElement(u.default.Fragment,null,o&&u.default.createElement(o,s({},e,{businessSchedule:r.schedule||[],businessPhotos:d||[],businessVideos:v||[],businessLocation:h||{},optionToShow:a,onChangeOption:function(e){l(e)}})))};t.BusinessInformation=f,f.propTypes={UIComponent:i.default.elementType,business:i.default.object,optionToShow:i.default.string,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},f.defaultProps={business:{},beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var d=f;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BusinessProductsCategories=void 0;var n=u(r(0)),o=u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var a=function(e){var t=e.categories,r=e.onClickCategory,o=e.UIComponent;return n.default.createElement(n.default.Fragment,null,o&&n.default.createElement(o,i({},e,{categories:t,handlerClickCategory:r})))};t.BusinessProductsCategories=a,a.propTypes={UIComponent:o.default.elementType,categories:o.default.arrayOf(o.default.object),beforeComponents:o.default.arrayOf(o.default.elementType),afterComponents:o.default.arrayOf(o.default.elementType),beforeElements:o.default.arrayOf(o.default.element),afterElements:o.default.arrayOf(o.default.element)},a.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var s=a;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BusinessProductsSearch=void 0;var n=u(r(0)),o=u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var a=function(e){var t=e.onChangeSearch,r=e.UIComponent;return n.default.createElement(n.default.Fragment,null,r&&n.default.createElement(r,i({},e,{handleChangeSearch:t})))};t.BusinessProductsSearch=a,a.propTypes={UIComponent:o.default.elementType,beforeComponents:o.default.arrayOf(o.default.elementType),afterComponents:o.default.arrayOf(o.default.elementType),beforeElements:o.default.arrayOf(o.default.element),afterElements:o.default.arrayOf(o.default.element)},a.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var s=a;t.default=s},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BusinessReviews=void 0;var o=c(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=c(r(3)),a=r(11);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=function(e){var t=e.businessId,r=e.reviews,n=e.UIComponent,i=v((0,a.useApi)(),1)[0],s={},c=v((0,u.useState)({reviews:[],loading:!0,error:null}),2),d=c[0],y=c[1],b=v((0,u.useState)(r),2),m=b[0],h=b[1],g=function(){var e,r=(e=o.default.mark((function e(){var r,n,u,a,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={},s.reviews=n,e.next=5,i.businesses(t).select(["reviews"]).get({cancelToken:n});case 5:u=e.sent,a=u.content.result,(c=null==a||null===(r=a.reviews)||void 0===r?void 0:r.reviews).sort((function(e,t){return new Date(t.created_at)-new Date(e.created_at)})),h(c),y(p(p({},d),{},{loading:!1,reviews:c})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),"Cancel"!==e.t0.constructor.name&&y(p(p({},d),{},{loading:!1,error:[e.t0.message]}));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){f(u,n,o,i,a,"next",e)}function a(e){f(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,u.useEffect)((function(){return r?(r.length&&r.sort((function(e,t){return new Date(t.created_at)-new Date(e.created_at)})),y(p(p({},d),{},{loading:!1,reviews:r}))):g(),function(){s.reviews&&s.reviews.cancel()}}),[]),u.default.createElement(u.default.Fragment,null,n&&u.default.createElement(n,l({},e,{reviewsList:d,handleClickOption:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t="all"!==e?m.filter((function(t){return t.total>=e&&t.total<e+1})):m;y(p(p({},d),{},{loading:!1,reviews:t}))}})))};t.BusinessReviews=m,m.propTypes={UIComponent:i.default.elementType,reviews:i.default.arrayOf(i.default.object),businessId:i.default.number,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},m.defaultProps={reviews:[],beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var h=m;t.default=h},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BusinessSortControl=void 0;var o,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=(o=r(3))&&o.__esModule?o:{default:o};function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=function(e){var t=e.orderType,r=e.sortOptions,n=e.defaultSortOption,o=e.onChangeSortOption,i=e.UIComponent,a=c((0,u.useState)(n),2),l=a[0],f=a[1],d=c((0,u.useState)(r),2),p=d[0],y=d[1];return(0,u.useEffect)((function(){var e="delivery_time"===t?"Pickup time":"Delivery time";y(r.filter((function(t){return t!==e})))}),[t]),u.default.createElement(u.default.Fragment,null,i&&u.default.createElement(i,s({},e,{orderType:t,sortOptions:p,currentOptionSelected:l,onChangeSortOption:function(e){f(e),o&&o(e)}})))};t.BusinessSortControl=f,f.propTypes={UIComponent:i.default.elementType,sortOptions:i.default.arrayOf(i.default.string),defaultSortOption:i.default.string,orderType:i.default.number,onChangeSortOption:i.default.func,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},f.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var d=f;t.default=d},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BusinessTypeFilter=void 0;var o=c(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=c(r(3)),a=r(11);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=function(e){var t=e.businessTypes,r=e.onChangeBusinessType,n=e.defaultBusinessType,i=e.UIComponent,s=v((0,a.useApi)(),1)[0],c=v((0,u.useState)(n),2),f=c[0],p=c[1],b=v((0,u.useState)({loading:!0,error:null,types:[],pagination:null}),2),m=b[0],h=b[1],g=function(){var e,t=(e=o.default.mark((function e(){var t,r,n,u,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(s.root,"/business_types"),{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:if(r=e.sent,n=r.error,u=r.result,i=r.pagination,n){e.next=14;break}return u.unshift({id:null,enabled:!0,image:null,name:"All"}),h(d(d({},m),{},{loading:!1,types:u,pagination:i})),e.abrupt("return");case 14:h(d(d({},m),{},{loading:!1,error:u})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),h(d(d({},m),{},{loading:!1,error:[e.t0||(null===e.t0||void 0===e.t0?void 0:e.t0.toString())||(null===e.t0||void 0===e.t0?void 0:e.t0.message)]}));case 20:case"end":return e.stop()}}),e,null,[[0,17]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){y(u,n,o,i,a,"next",e)}function a(e){y(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,u.useEffect)((function(){t?h(d(d({},m),{},{loading:!1,types:t})):g()}),[t]),u.default.createElement(u.default.Fragment,null,i&&u.default.createElement(i,l({},e,{typesState:m,businessTypes:t,currentTypeSelected:f,handleChangeBusinessType:function(e){p(e),r(e)}})))};t.BusinessTypeFilter=m,m.propTypes={UIComponent:i.default.elementType,businessTypes:i.default.arrayOf(i.default.object),defaultBusinessType:i.default.string,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},m.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Cart=void 0;var n=a(r(0)),o=a(r(3)),u=r(17),i=r(33);function a(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=function(e){var t,r=e.cart,o=e.UIComponent,a=e.handleEditProduct,l=c((0,u.useOrder)(),2),f=l[0],d=l[1],p=d.updateProduct,y=d.removeProduct,v=d.clearCart,b=c((0,i.useConfig)(),1)[0],m=(null===(t=b.order)||void 0===t?void 0:t.quantity)||0,h=(b.configs.max_product_amount?parseInt(b.configs.max_product_amount):100)-m;return n.default.createElement(n.default.Fragment,null,o&&n.default.createElement(o,s({},e,{carts:f.carts,orderState:f,clearCart:v,removeProduct:y,changeQuantity:function(e,t){0===t?y(e,r):p({id:e.id,business_id:e.business_id,code:e.code,quantity:t},r)},getProductMax:function(e){var t=e.inventoried?e.stock:h,r=e.quantity+t-e.balance;return r<e.quantity?e.quantity:r},offsetDisabled:function(e){return(e.inventoried?e.stock:h)-(e.balance-e.quantity)},handleEditProduct:a})))};t.Cart=f,f.propTypes={UIComponent:o.default.elementType,handleEditProduct:o.default.func,validationFieldsType:o.default.string};var d=f;t.default=d},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Checkout=void 0;var o=l(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=l(r(3)),a=r(17),s=r(11);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){v(u,n,o,i,a,"next",e)}function a(e){v(u,n,o,i,a,"throw",e)}i(void 0)}))}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=function(e){var t,r=e.businessId,n=e.propsToFetch,i=e.actionsBeforePlace,c=e.handleCustomClick,l=e.onPlaceOrderClick,d=e.UIComponent,y=m((0,s.useApi)(),1)[0],v=m((0,u.useState)(!1),2),h=v[0],g=v[1],O=m((0,u.useState)(null),2),w=O[0],j=O[1],P=m((0,a.useOrder)(),2),S=P[0],_=P[1].placeCart,I=m((0,u.useState)({business:null,loading:!0,error:null}),2),E=I[0],k=I[1],C=m((0,u.useState)(null),2),A=C[0],x=C[1],T=null===(t=S.carts)||void 0===t?void 0:t["businessId:".concat(r)],M=function(){var e=b(o.default.mark((function e(){var t,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.businesses(r).select(n).get();case 3:t=e.sent,u=t.content.result,k(p(p({},E),{},{loading:!1,business:u})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),k(p(p({},E),{},{loading:!1,error:e.t0}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=b(o.default.mark((function e(){var t,r,n,u,a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null==A?void 0:A.data,["stripe","stripe_connect","stripe_direct"].includes(A.paymethod.gateway)&&(r={source_id:null==A||null===(n=A.data)||void 0===n?void 0:n.id}),u={paymethod_id:A.paymethodId,paymethod_data:null==A?void 0:A.data,offer_id:T.offer_id,amount:T.total},1===S.options.type&&(u=p(p({},u),{},{delivery_zone_id:T.delivery_zone_id})),!c){e.next=7;break}return c(u,A,T),e.abrupt("return");case 7:return u=p(p({},u),{},{paymethod_data:r}),g(!0),e.next=11,_(T.uuid,u);case 11:if(!(null==(a=e.sent)?void 0:a.error)){e.next=15;break}return j(null==a?void 0:a.result),e.abrupt("return");case 15:if(2!==(null==(s=null==a?void 0:a.result)||null===(t=s.paymethod_data)||void 0===t?void 0:t.status)||!i){e.next=19;break}return e.next=19,i(A,a.result);case 19:g(!1),l&&l(u,A,s);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){M()}),[r]),(0,u.useEffect)((function(){if(T&&1===T.status){var e={paymethod_id:A.paymethodId,paymethod_data:null==A?void 0:A.data,delivery_zone_id:T.delivery_zone_id,offer_id:T.offer_id,amount:T.total};l&&l(e,A,T)}}),[T]),u.default.createElement(u.default.Fragment,null,d&&u.default.createElement(d,f({},e,{cart:T,placing:h,errors:w,orderOptions:S.options,paymethodSelected:A,businessDetails:E,handlePaymethodChange:function(e){x(e)},handlerClickPlaceOrder:D})))};t.Checkout=g,g.propTypes={UIComponent:i.default.elementType,handleCustomClick:i.default.func,onPlaceOrderClick:i.default.func,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},g.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[],propsToFetch:["id","name","email","cellphone","address","paymethods","logo","location"]};var O=g;t.default=O},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CouponControl=void 0;var o,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=(o=r(3))&&o.__esModule?o:{default:o},a=r(17),s=r(26);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b=function(e){var t,r,n=e.businessId,o=e.price,i=e.UIComponent,c=y((0,a.useOrder)(),2),f=c[0],p=c[1].applyCoupon,v=y((0,u.useState)({open:!1,content:null,error:!1}),2),b=v[0],m=v[1],h=y((0,s.useLanguage)(),2)[1],g=(null==f?void 0:f.carts)&&n&&(null==f||null===(t=f.carts)||void 0===t||null===(r=t["businessId:".concat(n)])||void 0===r?void 0:r.coupon)||null,O=y((0,u.useState)(null),2),w=O[0],j=O[1],P=function(){p({business_id:n,coupon:null})};return(0,u.useEffect)((function(){o<1&&(P(),m(d(d({},b),{},{open:!0,content:h("COUPON_TOTAL_ERROR","The total value of the cart with discount must be at least 1$"),error:!0})))}),[o]),u.default.createElement(u.default.Fragment,null,i&&u.default.createElement(i,l({},e,{couponDefault:g,couponInput:w,onChangeInputCoupon:function(e){return j(e)},handleButtonApplyClick:function(){p({business_id:n,coupon:w})},handleRemoveCouponClick:P,confirm:b,setConfirm:m})))};t.CouponControl=b,b.propTypes={UIComponent:i.default.elementType,isDisabled:i.default.bool,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},b.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var m=b;t.default=m},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DragAndDrop=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=function(e){var t=e.onDrop,r=e.children,n=e.className,u=e.style,a=i((0,o.useState)(),2),s=a[0],c=a[1];return o.default.createElement("div",{onDrop:function(e){e.preventDefault(),e.stopPropagation(),t(e.dataTransfer)},onDragOver:function(e){e.preventDefault(),e.stopPropagation()},onDragEnter:function(e){e.preventDefault(),e.stopPropagation(),c("dragover")},onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),c()},style:u,className:n+" "+s},r)};t.DragAndDrop=s;var c=s;t.default=c},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DriverTips=void 0;var o,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=(o=r(3))&&o.__esModule?o:{default:o},a=r(17);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e){var t=e.UIComponent,r=e.businessId,n=e.isFixedPrice,o=e.useOrderContext;if(o&&!r)throw new Error("`businessId` is required when `useOrderContext` is true.");var i=l((0,a.useOrder)(),2),s=i[0],f=i[1].changeDriverTip,d=l((0,u.useState)(0),2),p=d[0],y=d[1],v=l((0,u.useState)(0),2),b=v[0],m=v[1];return(0,u.useEffect)((function(){var e,t,o,u,i=(null===(e=s.carts)||void 0===e||null===(t=e["businessId:".concat(r)])||void 0===t?void 0:t.driver_tip_rate)||0,a=(null===(o=s.carts)||void 0===o||null===(u=o["businessId:".concat(r)])||void 0===u?void 0:u.driver_tip)||0;y(n?a:i),m(a)}),[s]),u.default.createElement(u.default.Fragment,null,t&&u.default.createElement(t,c({},e,{driverTipAmount:b,optionSelected:p,handlerChangeOption:function(t){t="string"==typeof t?parseInt(t):t,o?f(r,t,n):y(t),e.handlerChangeDriverOption&&e.handlerChangeDriverOption(t)}})))};t.DriverTips=d,d.propTypes={UIComponent:i.default.elementType,businessId:i.default.number,useOrderContext:i.default.bool,driverTipsOptions:i.default.arrayOf(i.default.number),handlerChangeDriverOption:i.default.func,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},d.defaultProps={useOrderContext:!0,beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var p=d;t.default=p},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ExamineClick=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var i=function(e){var t=e.onFiles,r=e.childRef,n=e.children,u=e.className,i=e.style,a=e.accept,s=e.disabled,c=(0,o.useRef)(null);return o.default.createElement("div",{draggable:!0,onClick:function(e){r||c.current.click()},style:i,className:u},o.default.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){e.preventDefault(),e.stopPropagation(),t(e.target.files)},onClick:function(e){return e.stopPropagation()},ref:function(e){c.current=e,r&&r(e)},accept:a,disabled:s}),n)};t.ExamineClick=i;var a=i;t.default=a},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FacebookLoginButton=void 0;var o=c(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=c(r(3)),a=r(11);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=function(e){var t=e.UIComponent,r=e.appId,n=e.debug,i=e.version,s=e.language,c=e.domain,d=e.handleButtonFacebookLoginClick,y=e.handleSuccessFacebookLogin,b=e.handleSuccessFacebookLogout,m=v((0,a.useApi)(),1)[0],h=v((0,u.useState)({loading:!1,result:{error:!1}}),2),g=h[0],O=h[1],w=v((0,u.useState)({ready:!1,logged:!1}),2),j=w[0],P=w[1],S=!1;(0,u.useEffect)((function(){if(!window.document.getElementById("facebook-jssdk")){window.fbAsyncInit=function(){window.FB.init({appId:r,cookie:!0,xfbml:!1,version:i,status:!0}),!S&&P(p(p({},j),{},{ready:!0})),window.FB.getLoginStatus((function(e){"connected"===e.status&&!S&&P(p(p({},j),{},{logged:!0}))}))};var e=window.document.createElement("script"),t=window.document.getElementsByTagName("script")[0];e.id="facebook-jssdk",e.async=!0,e.defer=!0,e.src="https://".concat(c,"/").concat(s,"/sdk").concat(n?"/debug":"",".js"),t.parentNode.insertBefore(e,t)}}),[]),(0,u.useEffect)((function(){return function(){S=!0}}),[]);var _=function(){var e,t=(e=o.default.mark((function e(t){var r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=3;break}return d(t),e.abrupt("return");case 3:return e.prev=3,O(p(p({},g),{},{loading:!0})),e.next=7,m.users().authFacebook({access_token:null===(r=t.authResponse)||void 0===r?void 0:r.accessToken});case 7:n=e.sent,O({result:n.content,loading:!1}),n.content.error?I():y&&y(n.content.result),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),O({result:{error:!0,result:e.t0.message},loading:!1});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){f(u,n,o,i,a,"next",e)}function a(e){f(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),I=function(e){window.FB&&(O(p(p({},g),{},{loading:!0})),window.FB.logout((function(e){O({loading:!1,result:{error:!1}}),P(p(p({},j),{},{logged:!1})),b&&b(e)})))};return u.default.createElement(u.default.Fragment,null,t&&u.default.createElement(t,l({},e,{formState:g,facebookStatus:j,handleFacebookLogout:I,handleFacebookLogin:function(e){window.FB&&(O(p(p({},g),{},{loading:!0})),window.FB.login((function(e){"connected"===e.status?(O({loading:!1,result:{error:!1}}),P(p(p({},j),{},{logged:!0})),_(e)):O({loading:!1,result:{error:!0,result:"Error login with Facebook"}})})))}})))};t.FacebookLoginButton=m,m.propTypes={UIComponent:i.default.elementType,handleButtonForgotPassowrdClick:i.default.func,handleSuccessForgotPassoword:i.default.func,appId:i.default.string.isRequired,debug:i.default.bool,version:i.default.string,language:i.default.string,domain:i.default.string,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},m.defaultProps={version:"v7.0",language:"en_US",domain:"connect.facebook.net",beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var h=m;t.default=h},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ForgotPasswordForm=void 0;var o=c(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=c(r(3)),a=r(11);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=function(e){var t=e.UIComponent,r=e.defaultEmail,n=e.handleButtonForgotPasswordClick,i=e.handleSuccessForgotPassword,s=e.handleCustomForgotPasswordClick,c=v((0,a.useApi)(),1)[0],f=v((0,u.useState)({loading:!1,result:{error:!1}}),2),b=f[0],m=f[1],h=v((0,u.useState)({email:r||""}),2),g=h[0],O=h[1],w=function(){var e,t=(e=o.default.mark((function e(t){var r,n,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=3;break}return r=t||g,e.abrupt("return",s(r));case 3:return e.prev=3,m(d(d({},b),{},{loading:!0})),n=t||g,e.next=8,c.users().forgotPassword(n);case 8:u=e.sent,m({result:u.content,loading:!1}),u.content.error||i&&i(g.email),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),m({result:{error:!0,result:e.t0.message},loading:!1});case 16:case"end":return e.stop()}}),e,null,[[3,13]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){y(u,n,o,i,a,"next",e)}function a(e){y(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return u.default.createElement(u.default.Fragment,null,t&&u.default.createElement(t,l({},e,{formState:b,formData:g,hanldeChangeInput:function(e){O(d(d({},g),{},p({},e.target.name,e.target.value)))},handleButtonForgotPasswordClick:n||w})))};t.ForgotPasswordForm=m,m.propTypes={UIComponent:i.default.elementType,handleButtonForgotPasswordClick:i.default.func,handleSuccessForgotPassword:i.default.func,defaultEmail:i.default.string,handleCustomForgotPasswordClick:i.default.func,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element),linkToSignup:i.default.string,linkToLogin:i.default.string,elementLinkToSignup:i.default.element,elementLinkToLogin:i.default.element},m.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var h=m;t.default=h},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GoogleAutocompleteInput=void 0;var o=s(r(0)),u=s(r(3)),i=r(72);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}return r.default=e,t&&t.set(e,r),r}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=function(e){var t=e.googleReady,r=e.onChangeAddress,n=e.types,u=e.fields,i=e.countryCode,a=e.childRef,s=(0,o.useRef)(),d={};Object.entries(e).forEach((function(e){var t=l(e,2),r=t[0],n=t[1];-1===["googleReady","apiKey","onChangeAddress","setValue","childRef","countryCode","types","fields"].indexOf(r)&&(d[r]=n)}));var p={types:n,fields:u};return"*"!==i&&(p.componentRestrictions={country:i}),(0,o.useEffect)((function(){if(t&&r){var e=new window.google.maps.places.Autocomplete(s.current,p);e.addListener("place_changed",(function(){var t=e.getPlace(),n=null;if(t.address_components){var o,u=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=f(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,u=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw u}}}}(t.address_components);try{for(u.s();!(o=u.n()).done;){var i=o.value;if("postal_code"===i.types[0]){n=i.short_name;break}}}catch(e){u.e(e)}finally{u.f()}var a={address:t.formatted_address,location:{lat:t.geometry.location.lat(),lng:t.geometry.location.lng()},utc_offset:t.utc_offset_minutes,map_data:{library:"google",place_id:t.place_id}};n&&(a.zipcode=n),r(a)}}))}}),[t]),(0,o.useEffect)((function(){var e=setInterval((function(){s.current.attributes.autocomplete&&"new-field"===s.current.attributes.autocomplete.value&&clearInterval(e),s.current.setAttribute("autocomplete","new-field")}),100);return function(){return clearInterval(e)}})),o.default.createElement("input",c({},d,{autoComplete:"new-field",disabled:!e.googleReady,ref:function(e){s.current=e,a&&a(e)}}))};p.propTypes={apiKey:u.default.string.isRequired,fields:u.default.arrayOf(u.string),types:u.default.arrayOf(u.string),countryCode:u.default.string,onChangeAddress:u.default.func},p.defaultProps={types:[],fields:["place_id","formatted_address","geometry","utc_offset_minutes","address_components"],countryCode:"*"};var y=(0,i.WrapperGoogleMaps)(p);t.GoogleAutocompleteInput=y;var v=y;t.default=v},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GoogleMapsMap=t.GoogleMaps=void 0;var o,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=(o=r(3))&&o.__esModule?o:{default:o},a=r(72),s=r(42),c=r(58);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e){var t=e.googleReady,r=e.locations,n=e.mapControls,o=e.setErrors,i=e.isSetInputs,a=e.fixedLocation,l=e.handleChangeAddressMap,f=e.maxLimitLocation,p=e.businessMap,m=e.onBusinessClick,h=v((0,c.useUtils)(),1)[0].optimizeImage,g=v((0,s.useEvent)(),1)[0],O=(0,u.useRef)(),w=v((0,u.useState)(null),2),j=w[0],P=w[1],S=v((0,u.useState)(null),2),_=S[0],I=S[1],E=v((0,u.useState)([]),2),k=E[0],C=E[1],A=v((0,u.useState)(null),2),x=A[0],T=A[1],M=a||e.location,D={lat:null==M?void 0:M.lat,lng:null==M?void 0:M.lng},R=function(e){for(var t=new window.google.maps.LatLngBounds,n=0,u=function(o){var u,i,a,s,c,l=null;(1===o||p)&&(l=h(null===(c=r[o])||void 0===c?void 0:c.icon,"r_max"));var f=new window.google.maps.Marker({position:new window.google.maps.LatLng(null===(u=r[o])||void 0===u?void 0:u.lat,null===(i=r[o])||void 0===i?void 0:i.lng),map:e,title:null===(a=r[o])||void 0===a?void 0:a.slug,icon:(null===(s=r[o])||void 0===s?void 0:s.icon)?{url:l||r[o].icon,scaledSize:new window.google.maps.Size(45,45)}:null});p?L(j,f,f.getPosition())?(f.addListener("click",(function(){var e;return m(null===(e=r[o])||void 0===e?void 0:e.slug)})),t.extend(f.position),C((function(e){return[].concat(y(e),[f])})),n+=1):f.setMap(null):(t.extend(f.position),C((function(e){return[].concat(y(e),[f])})))},i=0;i<r.length;i++)u(i);0===n&&o&&o("ERROR_NOT_FOUND_BUSINESSES"),e.fitBounds(t),T(t)},U=function(e){if(i){(new window.google.maps.Geocoder).geocode({latLng:e},(function(t){var r=null;if(t&&t.length>0){var n,u,i,a=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=b(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,u=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw u}}}}(t[0].address_components);try{for(a.s();!(i=a.n()).done;){var s=i.value;if("postal_code"===s.types[0]){r=s.short_name;break}}}catch(e){a.e(e)}finally{a.f()}var c={address:t[0].formatted_address,location:{lat:null==e?void 0:e.lat(),lng:null==e?void 0:e.lng()},zipcode:r};l&&l(c),D.lat=null===(n=c.location)||void 0===n?void 0:n.lat,D.lng=null===(u=c.location)||void 0===u?void 0:u.lng}else _&&_.setPosition(D),o&&o("ERROR_NOT_FOUND_ADDRESS");j&&j.panTo(new window.google.maps.LatLng(null==D?void 0:D.lat,null==D?void 0:D.lng))}))}else{var t={lat:null==e?void 0:e.lat(),lng:null==e?void 0:e.lng()};l&&l({location:t}),D.lat=null==t?void 0:t.lat,D.lng=null==t?void 0:t.lng,j&&j.panTo(new window.google.maps.LatLng(null==t?void 0:t.lat,null==t?void 0:t.lng))}},L=function(e,t,r){var n=new window.google.maps.LatLng(null==r?void 0:r.lat(),null==r?void 0:r.lng()),u=new window.google.maps.LatLng(null==M?void 0:M.lat,null==M?void 0:M.lng),i=window.google.maps.geometry.spherical.computeDistanceBetween(n,u);if(p){return i<=2e4}f?i<=f?U(r):(t.setPosition(D),e.panTo(new window.google.maps.LatLng(null==D?void 0:D.lat,null==D?void 0:D.lng)),o&&o("ERROR_MAX_LIMIT_LOCATION")):U(r)};return(0,u.useEffect)((function(){if(t){var e,o=new window.google.maps.Map(O.current,{zoom:null!==(e=M.zoom)&&void 0!==e?e:n.defaultZoom,center:D,zoomControl:null==n?void 0:n.zoomControl,streetViewControl:null==n?void 0:n.streetViewControl,fullscreenControl:null==n?void 0:n.fullscreenControl,mapTypeControl:null==n?void 0:n.mapTypeControl,mapTypeId:null==n?void 0:n.mapTypeId,mapTypeControlOptions:d({style:window.google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:window.google.maps.ControlPosition.TOP_LEFT},null==n?void 0:n.mapTypeControlOptions)}),u=null;P(o),r?(p&&(u=new window.google.maps.Marker({position:new window.google.maps.LatLng(D.lat,D.lng),map:o}),I(u)),r.length>0&&R(o),u=new window.google.maps.Marker({position:new window.google.maps.LatLng(null==D?void 0:D.lat,null==D?void 0:D.lng),map:o}),I(u)):(u=new window.google.maps.Marker({position:new window.google.maps.LatLng(null==D?void 0:D.lat,null==D?void 0:D.lng),map:o,draggable:!!(null==n?void 0:n.isMarkerDraggable)}),I(u))}}),[t]),(0,u.useEffect)((function(){if(!p&&t&&j&&_)return window.google.maps.event.addListener(_,"dragend",(function(){L(j,_,_.getPosition())})),window.google.maps.event.addListener(_,"drag",(function(){g.emit("map_is_dragging",!0)})),(null==n?void 0:n.isMarkerDraggable)&&(window.google.maps.event.addListener(j,"drag",(function(){_.setPosition(j.getCenter()),g.emit("map_is_dragging",!0)})),window.google.maps.event.addListener(j,"dragend",(function(){_.setPosition(j.getCenter()),L(j,_,j.getCenter())}))),function(){window.google.maps.event.clearListeners(_,"dragend"),window.google.maps.event.clearListeners(j,"drag"),window.google.maps.event.clearListeners(j,"dragend")}}),[_,j,M]),(0,u.useEffect)((function(){t&&(p&&j&&R(j),D.lat=null==M?void 0:M.lat,D.lng=null==M?void 0:M.lng,_&&_.setPosition(new window.google.maps.LatLng(null==D?void 0:D.lat,null==D?void 0:D.lng)),j&&j.panTo(new window.google.maps.LatLng(null==D?void 0:D.lat,null==D?void 0:D.lng)))}),[M]),(0,u.useEffect)((function(){if(!p){var e=setInterval((function(){if(t){var e=r[0],n=new window.google.maps.LatLng(null==e?void 0:e.lat,null==e?void 0:e.lng);k[0].setPosition(n),k.forEach((function(e){return x.extend(e.position)})),j.fitBounds(x)}}),1e3);return function(){return clearInterval(e)}}}),[r]),t&&u.default.createElement("div",{id:"map",ref:O,style:{width:"70%",height:"50%",position:"absolute"}})};t.GoogleMaps=h,h.propTypes={UIComponent:i.default.elementType,maxLimitLocation:i.default.number,handleChangeAddressMap:i.default.func,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},h.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var g=(0,a.WrapperGoogleMaps)(h);t.GoogleMapsMap=g,g.propTypes={apiKey:i.default.string.isRequired,onAddress:i.default.func,onError:i.default.func};var O=g;t.default=O},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleGpsButton=t.default=t.GpsButton=void 0;var o,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=(o=r(3))&&o.__esModule?o:{default:o},a=r(72),s=r(26);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=function(e){var t=e.UIComponent,r=e.googleReady,n=e.onData,o=e.onError,i=e.onAddress,a=f((0,s.useLanguage)(),2)[1],c=f((0,u.useState)(!1),2),p=c[0],y=c[1],v=void 0!==r;return navigator.geolocation&&u.default.createElement(t,l({},e,{handleGPS:function(){v&&!r||p||(y(!0),navigator.geolocation.getCurrentPosition((function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude};v&&i?(new window.google.maps.Geocoder).geocode({location:t},(function(e,r){y(!1);var n,u=null,s=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=d(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,u=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw u}}}}(e[0].address_components);try{for(s.s();!(n=s.n()).done;){var c=n.value;if("postal_code"===c.types[0]){u=c.short_name;break}}}catch(e){s.e(e)}finally{s.f()}"OK"===r?i({address:e[0].formatted_address,location:t,utc_offset:(new Date).getTimezoneOffset(),zipcode:u,map_data:{library:"google",place_id:e[0].place_id}}):o&&o(a("ERROR_GPS_BUTTON","Error to get result with gps button"))})):(y(!1),n&&n({location:t,utc_offset:(new Date).getTimezoneOffset()}))}),(function(e){y(!1),o&&o(a("ERROR_GPS_BUTTON",e.message))}),{timeout:5e3,enableHighAccuracy:!0}))},isGoogleButton:v,googleReady:r,isLoading:p}))};t.GpsButton=y,y.propTypes={onData:i.default.func,onError:i.default.func};var v=y;t.default=v;var b=(0,a.WrapperGoogleMaps)(y);t.GoogleGpsButton=b,b.propTypes={apiKey:i.default.string.isRequired,onAddress:i.default.func,onError:i.default.func}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LanguageSelector=void 0;var o=l(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=l(r(3)),a=r(26),s=r(11);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e){var t,r=e.currentLanguage,n=e.languages,i=e.UIComponent,c=b((0,s.useApi)(),1)[0],l=b((0,u.useState)({loading:!n,languages:n,error:null}),2),d=l[0],y=l[1],m=b((0,a.useLanguage)(),3),h=m[0],g=m[2],O=b((0,u.useState)(null),2),w=O[0],j=O[1],P={},S=function(){var e,t=(e=o.default.mark((function e(){var t,r,n,u,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(p(p({},d),{},{loading:!0})),t={},P.languages=t,e.next=6,c.languages().where([{attribute:"enabled",value:!0}]).get({cancelToken:t});case 6:r=e.sent,n=r.content,u=n.error,i=n.result,y(p(p({},d),{},{loading:!1,languages:u?[]:i})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),"Cancel"!==e.t0.constructor.name&&y(p(p({},d),{},{loading:!1,error:[e.t0]}));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){v(u,n,o,i,a,"next",e)}function a(e){v(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,u.useEffect)((function(){return(null==n?void 0:n.length)>0?y(p(p({},d),{},{loading:!1,languages:n})):S(),function(){P.languages&&P.languages.cancel()}}),[]),(0,u.useEffect)((function(){var e;if(r){var t=n.find((function(e){return e.code===r}));g(t),j(t)}else if(!(null==h||null===(e=h.language)||void 0===e?void 0:e.code)||!(null==w?void 0:w.code)){var o,u,i=(null==h||null===(o=h.language)||void 0===o?void 0:o.code)?null==h?void 0:h.language:null==d||null===(u=d.languages)||void 0===u?void 0:u.find((function(e){return e.default}));i&&(g(i),j(i))}}),[n,d]),u.default.createElement(u.default.Fragment,null,i&&u.default.createElement(i,f({},e,{currentLanguage:e.handlerCustomChangeLanguage?null==w?void 0:w.code:null==h||null===(t=h.language)||void 0===t?void 0:t.code,languagesState:d,handleChangeLanguage:function(t){var r=d.languages.find((function(e){return e.code===t}));if(e.handlerCustomChangeLanguage)return e.handlerCustomChangeLanguage(r),void j(r);e.onChangeLanguage&&e.onChangeLanguage(r),g(r)}})))};t.LanguageSelector=h,h.propTypes={UIComponent:i.default.elementType,currentLanguage:i.default.string,languages:i.default.arrayOf(i.default.object),onChangeLanguage:i.default.func,handlerCustomChangeLanguage:i.default.func,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},h.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var g=h;t.default=g},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LoginForm=void 0;var o=d(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=d(r(3)),a=d(r(48)),s=r(16),c=r(11),l=r(42);function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function d(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){m(u,n,o,i,a,"next",e)}function a(e){m(u,n,o,i,a,"throw",e)}i(void 0)}))}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w=function(e){var t=e.UIComponent,r=e.handleButtonLoginClick,n=e.handleSuccessLogin,i=e.useLoginByEmail,f=e.useLoginByCellphone,d=e.useDefualtSessionManager,y=e.urlToRedirect,m=e.allowedLevels,O=e.handleCustomLogin,w=g((0,c.useApi)(),1)[0],j=e.defaultLoginTab,P=g((0,u.useState)({loading:!1,result:{error:!1}}),2),S=P[0],_=P[1],I=g((0,u.useState)({email:"",cellphone:"",password:""}),2),E=I[0],k=I[1],C=g((0,u.useState)({loading:!1,result:{error:!1}}),2),A=C[0],x=C[1],T=g((0,u.useState)({loading:!1,result:{error:!1}}),2),M=T[0],D=T[1],R=g((0,l.useEvent)(),1)[0];i||f?"email"===j&&!i&&f?j="cellphone":"cellphone"===j&&!f&&i&&(j="email"):j="none";var U=g((0,u.useState)(j||(f&&!i?"cellphone":"email")),2),L=U[0],B=U[1],F=g((0,s.useSession)(),2)[1],Y=F.login,q=F.logout,N=function(){var e=h(o.default.mark((function e(t){var r,u,i,s,c,l,f,p,h,g,j,P,I,k;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=3;break}return O(t||E,L),e.abrupt("return");case 3:return e.prev=3,b(r={},L,t&&t[L]||E[L]),b(r,"password",t&&(null==t?void 0:t.password)||E.password),i=r,_(v(v({},S),{},{loading:!0})),(null==i||null===(u=i.cellphone)||void 0===u?void 0:u.includes("+"))&&(s=(0,a.default)(i.cellphone),c=null==s?void 0:s.nationalNumber,i.cellphone=c),e.next=9,w.users().auth(i);case 9:if(l=e.sent,f=l.content,p=f.error,h=f.result,p){e.next=36;break}if(!d){e.next=33;break}if(!(m&&(null==m?void 0:m.length)>0)){e.next=32;break}if(j=h.level,P=h.session,I=null==P?void 0:P.access_token,m.includes(j)){e.next=32;break}return e.prev=19,e.next=22,w.setAccessToken(I).users().logout();case 22:k=e.sent,k.content.error||q(),_({result:{error:!0,result:["YOU_DO_NOT_HAVE_PERMISSION"]},loading:!1}),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(19),_({result:{error:!0,result:e.t0.message},loading:!1});case 31:return e.abrupt("return");case 32:Y({user:h,token:null===(g=h.session)||void 0===g?void 0:g.access_token});case 33:R.emit("userLogin",h),n&&n(h),y&&(window.location.href="".concat(window.location.origin).concat(y));case 36:_({result:{error:p,result:h},loading:!1}),e.next=42;break;case 39:e.prev=39,e.t1=e.catch(3),_({result:{error:!0,result:e.t1.message},loading:!1});case 42:case"end":return e.stop()}}),e,null,[[3,39],[19,28]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=h(o.default.mark((function e(t){var r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(v(v({},A),{},{loading:!0})),e.next=4,fetch("".concat(w.root,"/auth/sms/twilio/verify"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cellphone:t.cellphone,country_phone_code:"+".concat(t.country_phone_code)})});case 4:return r=e.sent,e.next=7,r.json();case 7:n=e.sent,x(v(v({},A),{},{loading:!1,result:n})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),x(v(v({},A),{},{loading:!1,result:{error:e.t0.message}}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=h(o.default.mark((function e(t){var r,u,i,a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D(v(v({},M),{},{loading:!0})),e.next=4,fetch("".concat(w.root,"/auth/sms/twilio"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return u=e.sent,e.next=7,u.json();case 7:!(null==(i=e.sent)?void 0:i.error)&&(null==i||null===(r=i.result)||void 0===r?void 0:r.id)&&(Y({user:null==i?void 0:i.result,token:null==i||null===(a=i.result)||void 0===a||null===(s=a.session)||void 0===s?void 0:s.access_token}),n&&n(null==i?void 0:i.result)),D(v(v({},M),{},{loading:!1,result:i})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),D(v(v({},M),{},{loading:!1,result:{error:e.t0.message}}));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return u.default.createElement(u.default.Fragment,null,t&&u.default.createElement(t,p({},e,{formState:S,loginTab:L,credentials:E,verifyPhoneState:A,checkPhoneCodeState:M,setCheckPhoneCodeState:function(e){D(e||{loading:!1,result:{error:!1}})},handleChangeInput:function(e){k(v(v({},E),{},b({},e.target.name,e.target.value)))},handleButtonLoginClick:r||N,handleChangeTab:function(e){B(e)},handleSendVerifyCode:W,handleCheckPhoneCode:H})))};t.LoginForm=w,w.propTypes={UIComponent:i.default.elementType,handleButtonLoginClick:i.default.func,handleSuccessLogin:i.default.func,useDefualtSessionManager:i.default.bool,useLoginByEmail:i.default.bool,useLoginByCellphone:i.default.bool,defaultLoginTab:i.default.string,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element),linkToSignup:i.default.string,linkToForgetPassword:i.default.string,elementLinkToSignup:i.default.element,elementLinkToForgotPassword:i.default.element},w.defaultProps={defaultLoginTab:"email",useLoginByEmail:!0,useDefualtSessionManager:!0,beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var j=w;t.default=j},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LogoutAction=void 0;var o=f(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=f(r(3)),a=r(16),s=r(11),c=r(33);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function f(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=function(e){var t,r=e.UIComponent,n=e.handleSuccessLogout,i=e.token,l=e.isNative,f=e.useDefualtSessionManager,p=e.handleCustomLogoutClick,v=m((0,s.useApi)(),1)[0],h=m((0,u.useState)({loading:!1,result:{error:!1}}),2),g=h[0],O=h[1],w=m((0,a.useSession)(),2),j=w[0],P=w[1].logout,S=m((0,c.useConfig)(),1)[0].configs;(0,u.useEffect)((function(){var e;if((null==S||null===(e=S.facebook_id)||void 0===e?void 0:e.value)&&!l){if(window.fbAsyncInit=function(){var e;window.FB.init({appId:null==S||null===(e=S.facebook_id)||void 0===e?void 0:e.value,cookie:!0,xfbml:!1,version:"v7.0",status:!0})},window.document.getElementById("facebook-jssdk"))return;var t=window.document.createElement("script"),r=window.document.getElementsByTagName("script")[0];t.id="facebook-jssdk",t.async=!0,t.defer=!0,t.src="https://connect.facebook.net/en_US/sdk.js",r.parentNode.insertBefore(t,r)}}),[null==S||null===(t=S.facebook_id)||void 0===t?void 0:t.value]);var _=function(){var e,t=(e=o.default.mark((function e(){var t,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p&&p&&p(),e.prev=1,O(y(y({},g),{},{loading:!0})),t=i||j.token,e.next=6,v.setAccessToken(t).users().logout();case 6:r=e.sent,O({result:r.content,loading:!1}),r.content.error||(f&&P(),n&&n()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),O({result:{error:!0,result:e.t0.message},loading:!1});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){b(u,n,o,i,a,"next",e)}function a(e){b(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return u.default.createElement(u.default.Fragment,null,r&&u.default.createElement(r,d({},e,{formState:g,handleLogoutClick:_})))};t.LogoutAction=g,g.propTypes={UIComponent:i.default.elementType,handleSuccessLogout:i.default.func,handleErrorLogout:i.default.func,token:i.default.string,useDefualtSessionManager:i.default.bool,handleCustomLogoutClick:i.default.func},g.defaultProps={useDefualtSessionManager:!0};var O=g;t.default=O},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MainSearch=void 0;var o=l(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=l(r(3)),a=r(17),s=r(11);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e){var t,r=e.searchByAddress,n=e.handlerFindBusiness,i=e.UIComponent,c=b((0,s.useApi)(),1)[0],l=b((0,a.useOrder)(),1)[0],d=b((0,u.useState)({countries:[],cities:[],citiesOptions:[]}),2),y=d[0],m=d[1],h=b((0,u.useState)({cityId:null,dropdownOptionId:null,orderType:(null===(t=l.options)||void 0===t?void 0:t.type)||1}),2),g=h[0],O=h[1],w=b((0,u.useState)(!1),2),j=w[0],P=w[1],S=function(){var e,t=(e=o.default.mark((function e(){var t,r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.countries().get();case 3:r=e.sent,n=r.response,m(p(p({},y),{},{countries:null==n||null===(t=n.data)||void 0===t?void 0:t.result})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){v(u,n,o,i,a,"next",e)}function a(e){v(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,u.useEffect)((function(){r||S()}),[]),u.default.createElement(u.default.Fragment,null,i&&u.default.createElement(i,f({},e,{orderState:l,allListValues:y,currentValues:g,isFormErrors:j,handleChangeValue:function(e){var t=e.name,r=e.value;switch(t){case"country":var n=null==y?void 0:y.countries.find((function(e){return Number(e.id)===Number(r)})),o=null==n?void 0:n.cities.filter((function(e){return e.options.length}));m(p(p({},y),{},{cities:o})),O(p(p({},g),{},{cityId:null}));break;case"cityId":var u=y.cities.find((function(e){return Number(e.id)===Number(r)}));m(p(p({},y),{},{citiesOptions:null==u?void 0:u.options})),O(p(p({},g),{},{cityId:r,dropdownOptionId:null}));break;case"dropdownOptionId":O(p(p({},g),{},{dropdownOptionId:r}))}},handleFindBusiness:function(){var e=!(y.citiesOptions.length>0)||!!g.dropdownOptionId,t=g.cityId&&e;t&&n(g),P(!t)}})))};t.MainSearch=h,h.propTypes={UIComponent:i.default.elementType,searchByAddress:i.default.bool,handlerFindBusiness:i.default.func,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},h.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var g=h;t.default=g},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MenuControl=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=a(r(3)),i=a(r(43));function a(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=function(e){var t,r=e.maxPreoderDays,n=e.UIComponent,u=p((0,o.useState)(null),2),a=u[0],s=u[1],l=p((0,o.useState)(null),2),d=l[0],y=l[1],v=p((0,o.useState)(null),2),b=v[0],m=v[1],h=p((0,o.useState)(null),2),g=h[0],O=h[1],w=p((0,o.useState)([]),2)[1],j=(null==d||null===(t=d.schedule)||void 0===t?void 0:t.map((function(e,t){return!e.enabled&&t})))||[],P=function(){var e=r,t=(0,i.default)().toDate(),n=[],o=j.every((function(e){return!1===e}));if(j.length&&!o)for(;e>0;){var u=t,a=(0,i.default)(t).day();!1===j[a]&&(n.push((0,i.default)(u).toDate()),e--),t=(0,i.default)((0,i.default)(t).add(1,"d")).toDate()}if(j.length&&o)for(var s=1;s<=r;s++)n.push((0,i.default)((0,i.default)(t).add(s,"d")).toDate());return n.unshift((0,i.default)().toDate()),n};return(0,o.useEffect)((function(){P()}),[j]),(0,o.useEffect)((function(){!function(){for(var e=[],t=(0,i.default)().format("YYYY-MM-DD"),r=(0,i.default)().day(30).format("YYYY-MM-DD"),n=(0,i.default)(r,"YYYY-MM-DD HH:mm").diff((0,i.default)(t,"YYYY-MM-DD HH:mm"),"days"),o=0;o<=n;o++)e.push({key:"".concat(o),date:(0,i.default)(t).add(o,"d").format("YYYY-MM-DD")});w(e)}()}),[]),o.default.createElement(o.default.Fragment,null,n&&o.default.createElement(n,c({},e,{futureDaysToShow:P,menuLapsesList:function(){for(var e=[],t=(null==a?void 0:a.lapses)||[],r=0;r<t.length;r++)for(var n,o,u,s,c,l,f,d,p="".concat(null===(n=t[r])||void 0===n||null===(o=n.open)||void 0===o?void 0:o.hour,":").concat(null===(u=t[r])||void 0===u||null===(s=u.open)||void 0===s?void 0:s.minute),y="".concat(null===(c=t[r])||void 0===c||null===(l=c.close)||void 0===l?void 0:l.hour,":").concat(null===(f=t[r])||void 0===f||null===(d=f.close)||void 0===d?void 0:d.minute),v=(0,i.default)(y,"HH:mm").diff((0,i.default)(p,"HH:mm"),"hour",!0);v>0;){var b=p;e.push((0,i.default)(b,"HH:mm").toDate()),p=(0,i.default)(b,"HH:mm").add(15,"minutes"),v-=.25}return e},disableDays:j,startDate:g,isDisabledDay:function(e){var t=(0,i.default)(e,"YYYY-MM-DD").day();return j.every((function(e){return e!==t}))},scheduleSelected:a,menuSelected:null==d?void 0:d.id,handleMenuSelected:function(e){return s(function(e){var t;y(e);var r=(0,i.default)().day();return{lapses:null==e||null===(t=e.schedule[r])||void 0===t?void 0:t.lapses,menuId:e.id}}(e))},handleDate:function(t){var r,n=(0,i.default)(t,"YYYY-MM-DD").day(),o=null==d||null===(r=d.schedule[n])||void 0===r?void 0:r.lapses;s(f(f({},a),{},{lapses:o})),O(t),m((0,i.default)(t).format("YYYY-MM-DD HH:mm")),e.handlerSelectDate((0,i.default)(t).format("YYYY-MM-DD HH:mm"))},onSendMenuInfo:function(){(null==a?void 0:a.menuId)&&b&&e.handleMenuInfo({menuId:null==a?void 0:a.menuId,date:new Date(b)})},dateSelected:b})))};t.MenuControl=v,v.propTypes={UIComponent:u.default.elementType,maxPreoderDays:u.default.number,business:u.default.object,handleMenuInfo:u.default.func,handlerSelectDate:u.default.func,beforeComponents:u.default.arrayOf(u.default.elementType),afterComponents:u.default.arrayOf(u.default.elementType),beforeElements:u.default.arrayOf(u.default.element),afterElements:u.default.arrayOf(u.default.element)},v.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var b=v;t.default=b},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MomentOption=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=l(r(3)),i=l(r(43)),a=l(r(47)),s=l(r(409)),c=r(17);function l(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}i.default.extend(s.default),i.default.extend(a.default);var v=function(e){var t,r,n=e.minDate,u=e.maxDate,a=e.currentDate,s=e.useOrderContext,l=e.onChangeMoment,f=e.UIComponent,y=p((0,c.useOrder)(),2),v=y[0],b=y[1].changeMoment,m=function(e){if(e)return(0,i.default)(e,"YYYY-MM-DD HH:mm").isSameOrAfter((0,i.default)(),"day")?(0,i.default)(e).format("YYYY-MM-DD HH:mm"):(0,i.default)().format("YYYY-MM-DD HH:mm")},h=s?null===(t=v.options)||void 0===t?void 0:t.moment:a,g=p((0,o.useState)(h?(0,i.default)(m(h)).format("YYYY-MM-DD HH:mm"):null),2),O=g[0],w=g[1],j=p((0,o.useState)(!O),2),P=j[0],S=j[1],_=p((0,o.useState)([]),2),I=_[0],E=_[1],k=p((0,o.useState)([]),2),C=k[0],A=k[1],x=p((0,o.useState)((0,i.default)(m(h)).format("YYYY-MM-DD")),2),T=x[0],M=x[1],D=p((0,o.useState)(null),2),R=D[0],U=D[1],L=function(){P||(S(!0),s&&b(null),l&&l(null))};(0,o.useEffect)((function(){var e;if(s)if(null===(e=v.options)||void 0===e?void 0:e.moment){var t,r=i.default.utc(m(null===(t=v.options)||void 0===t?void 0:t.moment)).local();w(r.format("YYYY-MM-DD HH:mm")),M(r.format("YYYY-MM-DD")),U(r.format("HH:mm")),P&&S(!1)}else T!==(0,i.default)().format("YYYY-MM-DD")&&M((0,i.default)().format("YYYY-MM-DD")),null!==R&&U(null),null!==O&&w(null),!P&&S(!0);else null!==O&&w(null),!P&&S(!0)}),[null===(r=v.options)||void 0===r?void 0:r.moment]),(0,o.useEffect)((function(){if(O){var e,t=(0,i.default)(O,"YYYY-MM-DD HH:mm"),r=(0,i.default)(),n=t.diff(r,"seconds");if(!(n<=0))return 1e3*n<36e3&&(e=setTimeout((function(){L()}),1e3*n)),function(){"number"==typeof e&&clearTimeout(e)};L()}}),[O]),(0,o.useEffect)((function(){P&&C[0]&&(M(C[0]),U(null))}),[P,C]);var B=function(){for(var e=[],t=T===(0,i.default)().format("YYYY-MM-DD"),r=T===(0,i.default)(u).format("YYYY-MM-DD"),n=new Date,o=0;o<24;o++)if(!(t&&o<(null==n?void 0:n.getHours())||r&&o>(null==u?void 0:u.getHours())))for(var a=0;a<59;a+=15)if(!(t&&o===(null==n?void 0:n.getHours())&&a<=n.getMinutes()||r&&o===(null==u?void 0:u.getHours())&&a>u.getMinutes())){var s=o<10?"0".concat(o):o,c=a<10?"0".concat(a):a,l=a+14<10?"0".concat(a+14):a+14,f="".concat(s,":").concat(c),d="".concat(s,":").concat(l);e.push({startTime:f,endTime:d})}E(e)},F=function(){for(var e,t,r,o=[],a=parseInt((e=m(u),r=null!=t?t:(0,i.default)(),(0,i.default)(e).diff((0,i.default)(r),"day")),m(n)),s=0;s<a+1;s++)o.push((0,i.default)(m(n)).add(s,"d").format("YYYY-MM-DD"));A(o)};return(0,o.useEffect)((function(){T&&B()}),[T]),(0,o.useEffect)((function(){var e=setInterval((function(){0===(0,i.default)(T).diff((0,i.default)(a),"day")&&B()}),1e3);return function(){return clearInterval(e)}}),[T]),(0,o.useEffect)((function(){F()}),[u,n]),o.default.createElement(o.default.Fragment,null,f&&o.default.createElement(f,d({},e,{isAsap:P,minDate:m(n),maxDate:m(u),dateSelected:T,timeSelected:R,handleChangeDate:function(e){e&&e!==T&&(M(e),U(null),S(!1))},handleChangeTime:function(e){if(e&&e!==R){var t=(0,i.default)("".concat(T," ").concat(e),"YYYY-MM-DD HH:mm").toDate();U(e),S(!1),s&&b(t),l&&l(t)}},datesList:C,hoursList:I,handleAsap:L})))};t.MomentOption=v,v.propTypes={UIComponent:u.default.elementType,minDate:u.default.instanceOf(Date),maxDate:u.default.instanceOf(Date).isRequired,currentDate:u.default.instanceOf(Date),useOrderContext:u.default.bool,onChangeMoment:u.default.func,beforeComponents:u.default.arrayOf(u.default.elementType),afterComponents:u.default.arrayOf(u.default.elementType),beforeElements:u.default.arrayOf(u.default.element),afterElements:u.default.arrayOf(u.default.element)},v.defaultProps={useOrderContext:!0,beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var b=v;t.default=b},,function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MyOrders=void 0;var o=l(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=l(r(3)),a=r(16),s=r(11);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){v(u,n,o,i,a,"next",e)}function a(e){v(u,n,o,i,a,"throw",e)}i(void 0)}))}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=function(e){var t=e.UIComponent,r=m((0,s.useApi)(),1)[0],n={},i=m((0,a.useSession)(),1)[0].token,c=m((0,u.useState)({loading:!0,orders:[],error:null}),2),l=c[0],d=c[1],y=m((0,u.useState)({loading:!0,orders:[],error:null}),2),v=y[0],h=y[1],g=function(){var e=b(o.default.mark((function e(){var t,u,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={},n.activeOrders=t,e.next=5,r.setAccessToken(i).orders().where([{attribute:"status",value:[0,3,4,7,8,9]}]).get({cancelToken:t});case 5:u=e.sent,a=u.content.result,d(p(p({},l),{},{loading:!1,orders:a})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),d(p(p({},l),{},{loading:!1,error:e.t0.message}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=b(o.default.mark((function e(){var t,u,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={},n.previousOrders=t,e.next=5,r.setAccessToken(i).orders().where([{attribute:"status",value:[1,2,5,6,10,11,12]}]).get({cancelToken:t});case 5:u=e.sent,a=u.content.result,h(p(p({},v),{},{loading:!1,orders:a})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),h(p(p({},v),{},{loading:!1,error:e.t0.message}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){return O(),g(),function(){n.previousOrders&&n.previousOrders.cancel(),n.activeOrders&&n.activeOrders.cancel()}}),[]),u.default.createElement(u.default.Fragment,null,t&&u.default.createElement(t,f({},e,{activeOrders:l,previousOrders:v})))};t.MyOrders=g,g.propTypes={UIComponent:i.default.elementType,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},g.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var O=g;t.default=O},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MyOrdersList=void 0;var o=l(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=l(r(3)),a=r(16),s=r(11);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=function(e){var t=e.status,r=e.UIComponent,n=p((0,s.useApi)(),1)[0],i=p((0,a.useSession)(),1)[0].token,c=p((0,u.useState)([]),2),l=c[0],y=c[1],v={},b=function(){var e,r=(e=o.default.mark((function e(){var r,u,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={},v.orders=r,e.next=5,n.setAccessToken(i).orders().where([{attribute:"status",value:t}]).get({cancelToken:r});case 5:u=e.sent,a=u.content.result,y(a),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){d(u,n,o,i,a,"next",e)}function a(e){d(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,u.useEffect)((function(){return b(),function(){v.orders&&v.orders.cancel()}}),[]),u.default.createElement(u.default.Fragment,null,r&&u.default.createElement(r,f({},e,{orders:l})))};t.MyOrdersList=v,v.propTypes={UIComponent:i.default.elementType,orderType:i.default.oneOf(["active","previous"]).isRequired,status:i.default.arrayOf(i.default.number).isRequired,orders:i.default.arrayOf(i.default.object),beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},v.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var b=v;t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.OrderList=void 0;var n,o=(n=r(8))&&n.__esModule?n:{default:n},u=f(r(0)),i=f(r(3)),a=r(16),s=r(11),c=r(57);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function f(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){h(u,n,o,i,a,"next",e)}function a(e){h(u,n,o,i,a,"throw",e)}i(void 0)}))}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P=function(e){var t,r=e.UIComponent,n=e.orders,i=e.orderIds,l=e.orderStatus,f=e.orderBy,d=e.orderDirection,v=e.useDefualtSessionManager,m=e.paginationSettings,h=e.asDashboard,w=e.customArray,j=e.userCustomerId,P=O((0,s.useApi)(),1)[0],S=O((0,u.useState)({loading:!n,error:null,orders:[]}),2),_=S[0],I=S[1],E=O((0,u.useState)({currentPage:"pages"===m.controlType&&m.initialPage&&m.initialPage>=1?m.initialPage-1:0,pageSize:null!==(t=m.pageSize)&&void 0!==t?t:10}),2),k=E[0],C=E[1],A=O((0,a.useSession)(),1)[0],x=(0,c.useWebsocket)(),T=v?A.token:e.accessToken,M={},D=function(){var e=g(o.default.mark((function e(t){var r,n,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={query:{orderBy:("desc"===d?"-":"")+f,page:t,page_size:m.pageSize}},(i||l)&&(r.query.where=[],i&&r.query.where.push({attribute:"id",value:i}),l&&r.query.where.push({attribute:"status",value:l})),j&&r.query.where.push({attribute:"customer_id",value:parseInt(j,10)}),n={},M.orders=n,r.cancelToken=n,u=h?P.setAccessToken(T).orders().asDashboard():P.setAccessToken(T).orders(),e.next=9,u.get(r);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=g(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A.token){e.next=3;break}return I(b(b({},_),{},{loading:!1})),e.abrupt("return");case 3:return e.prev=3,I(b(b({},_),{},{loading:!0})),e.next=7,D(k.currentPage+1);case 7:t=e.sent,I({loading:!1,orders:t.content.error?[]:t.content.result,error:t.content.error?t.content.result:null}),t.content.error||C({currentPage:t.content.pagination.current_page,pageSize:t.content.pagination.page_size,totalPages:t.content.pagination.total_pages,total:t.content.pagination.total,from:t.content.pagination.from,to:t.content.pagination.to}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),"Cancel"!==e.t0.constructor.name&&I(b(b({},_),{},{loading:!1,error:[e.t0.message]}));case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){return n||w?I(b(b({},_),{},{orders:(null==n?void 0:n.lenght)>0?n:w||[],loading:!1})):R(),function(){M.orders&&M.orders.cancel()}}),[A]),(0,u.useEffect)((function(){if(!_.loading){var e=function(e){var t=[];_.orders.find((function(t){return t.id===e.id}))?t=_.orders.filter((function(t){t.id===e.id&&(delete e.total,delete e.subtotal,Object.assign(t,e));var r=0===l.length||l.includes(parseInt(t.status));return r||(k.total--,C(b({},k))),r})):(t=[].concat(y(_.orders),[e]),k.total++,C(b({},k))),I(b(b({},_),{},{orders:t}))};return x.on("update_order",e),function(){x.off("update_order",e)}}}),[_.orders,k,x]),(0,u.useEffect)((function(){var e;if(A.user)return x.join("orders_".concat(null==A||null===(e=A.user)||void 0===e?void 0:e.id)),function(){var e;x.leave("orders_".concat(null==A||null===(e=A.user)||void 0===e?void 0:e.id))}}),[x,A]);var U=function(){var e=g(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(b(b({},_),{},{loading:!0})),e.prev=1,e.next=4,D(k.currentPage+1);case 4:t=e.sent,I({loading:!1,orders:t.content.error?_.orders:_.orders.concat(t.content.result),error:t.content.error?t.content.result:null}),t.content.error||C({currentPage:t.content.pagination.current_page,pageSize:t.content.pagination.page_size,totalPages:t.content.pagination.total_pages,total:t.content.pagination.total,from:t.content.pagination.from,to:t.content.pagination.to}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),"Cancel"!==e.t0.constructor.name&&I(b(b({},_),{},{loading:!1,error:[e.t0.message]}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=g(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(b(b({},_),{},{loading:!0})),e.prev=1,e.next=4,D(t);case 4:r=e.sent,I({loading:!1,orders:r.content.error?[]:r.content.result,error:r.content.error?r.content.result:null}),r.content.error||C({currentPage:r.content.pagination.current_page,pageSize:r.content.pagination.page_size,totalPages:r.content.pagination.total_pages,total:r.content.pagination.total,from:r.content.pagination.from,to:r.content.pagination.to}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),"Cancel"!==e.t0.constructor.name&&I(b(b({},_),{},{loading:!1,error:[e.t0.message]}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return u.default.createElement(u.default.Fragment,null,r&&u.default.createElement(r,p({},e,{orderList:_,pagination:k,loadMoreOrders:U,goToPage:L})))};t.OrderList=P,P.propTypes={UIComponent:i.default.elementType,onOrderClick:i.default.func,useDefualtSessionManager:i.default.bool,accessToken:function(e,t){return void 0!==e[t]&&"string"!=typeof e[t]?new Error("Invalid prop `".concat(t,"` of type `").concat(d(e[t]),"` supplied to `UserProfile`, expected `object`.")):void 0!==e[t]||e.useDefualtSessionManager?void 0:new Error("Invalid prop `".concat(t,"` is required when `useDefualtSessionManager` is false."))},orders:i.default.arrayOf(i.object),orderIds:i.default.arrayOf(i.number),orderStatus:i.default.arrayOf(i.number),orderBy:i.default.string,orderDirection:i.default.oneOf(["asc","desc"]),paginationSettings:i.default.exact({initialPage:i.default.number,pageSize:i.default.number,controlType:i.default.oneOf(["infinity","pages"])}),beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},P.defaultProps={orderBy:"id",orderDirection:"desc",paginationSettings:{initialPage:1,pageSize:10,controlType:"infinity"},beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var S=P;t.default=S},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.OrderTypeControl=void 0;var o=s(r(0)),u=s(r(3)),i=r(17);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}return r.default=e,t&&t.set(e,r),r}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e){var t=e.UIComponent,r=l((0,i.useOrder)(),2),n=r[0],u=r[1].changeType,a=l((0,o.useState)(null),2),s=a[0],f=a[1];return(0,o.useEffect)((function(){f(n.options.type)}),[n.options.type]),o.default.createElement(o.default.Fragment,null,t&&o.default.createElement(t,c({},e,{typeSelected:s||n.options.type,handleChangeOrderType:e.handleChangeOrderType||function(e){f(e),u(e)}})))};t.OrderTypeControl=d,d.propTypes={UIComponent:u.default.elementType,orderTypes:u.default.arrayOf(u.object),handleChangeOrderType:u.default.func,beforeComponents:u.default.arrayOf(u.default.elementType),afterComponents:u.default.arrayOf(u.default.elementType),beforeElements:u.default.arrayOf(u.default.element),afterElements:u.default.arrayOf(u.default.element)},d.defaultProps={orderTypes:[1,2,3,4,5],beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var p=d;t.default=p},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PaymentOptions=void 0;var o=l(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=l(r(3)),a=r(17),s=r(11);l(r(147));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=["stripe","stripe_direct","stripe_connect","paypal"],g=["paypal_express","authorize"],O=["cash","card_delivery"],w=function(e){var t,r,n=e.isLoading,i=e.paymethods,c=e.businessId,l=e.isCustomerMode,p=e.onPaymentChange,v=e.UIComponent,m=b((0,s.useApi)(),1)[0],w=(null===(t=b((0,a.useOrder)(),1)[0].carts)||void 0===t||null===(r=t["businessId:".concat(c)])||void 0===r?void 0:r.total)||0,j=b((0,u.useState)({paymethods:[],loading:!0,error:null}),2),P=j[0],S=j[1],_=b((0,u.useState)(null),2),I=_[0],E=_[1],k=b((0,u.useState)({}),2),C=k[0],A=k[1],x=function(e){return e&&e.filter((function(e){var t,r,n;return l?!g.includes(null==e||null===(t=e.paymethod)||void 0===t?void 0:t.gateway)&&O.includes(null==e||null===(r=e.paymethod)||void 0===r?void 0:r.gateway):!g.includes(null==e||null===(n=e.paymethod)||void 0===n?void 0:n.gateway)})).map((function(e){return y(y({},null==e?void 0:e.paymethod),{},{sandbox:null==e?void 0:e.sandbox,credentials:null==e?void 0:e.data})}))},T=function(){var e,t=(e=o.default.mark((function e(){var t,r,n,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.businesses(c).get();case 3:t=e.sent,r=t.content,n=r.error,u=r.result,n||(P.paymethods=x(u.paymethods)),S(y(y({},P),{},{error:n?u:null,loading:!1,paymethods:n?[]:x(u.paymethods)})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),S(y(y({},P),{},{loading:!1,error:[e.t0.message]}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){d(u,n,o,i,a,"next",e)}function a(e){d(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),M=function(e){A(e),I?p&&p({paymethodId:I.id,gateway:I.gateway,paymethod:I,data:e}):p&&p(null)};return(0,u.useEffect)((function(){!I||!["card_delivery","cash","stripe_redirect"].includes(null==I?void 0:I.gateway)&&h.includes(null==I?void 0:I.gateway)?null===I&&p&&p(null):p&&p({paymethodId:I.id,gateway:I.gateway,paymethod:I,data:{}})}),[I]),(0,u.useEffect)((function(){n||(i?S(y(y({},P),{},{loading:!1,paymethods:x(i)})):c?T():S(y(y({},P),{},{loading:!1})))}),[n]),u.default.createElement(u.default.Fragment,null,v&&u.default.createElement(v,f({},e,{orderTotal:w,paymethodsList:P,paymethodSelected:I,paymethodData:C,handlePaymethodClick:function(e){E(e),M({})},handlePaymethodDataChange:M})))};t.PaymentOptions=w,w.propTypes={UIComponent:i.default.elementType,paymethods:i.default.array,businessId:i.default.number,onPaymentChange:i.default.func,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},w.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var j=w;t.default=j},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Popup=void 0;var o,u=c(r(0)),i=c(r(3)),a=(o=r(148))&&o.__esModule?o:{default:o};function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}return r.default=e,t&&t.set(e,r),r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e){var t=e.UIComponent,r=e.open,n=e.backdropClassName,o=e.closeOnBackdrop,i=e.onClose,s=(0,u.useRef)(null),c=l((0,u.useState)(),2),f=c[0],d=c[1],p=l((0,u.useState)(),2),y=p[0],v=p[1],b=l((0,u.useState)(!1),2),m=b[0],h=b[1],g=function(){var e=document.querySelectorAll(".popup-component");if(!r&&e.length>1&&e.length>1&&e[e.length-1].focus(),m){var t=window.document.getElementById("app-modals");t&&t.remove(),window.document.body.style.overflow=y}};(0,u.useEffect)((function(){if(r){var e=window.document.getElementById("app-modals");e?d(e):((e=window.document.createElement("div")).id="app-modals",e.className="popup-component-backdrop popup-backdrop"+(n?" ".concat(n):""),document.body.append(e),d(e),h(!0),v(window.document.body.style.overflow)),s.current&&s.current.focus()}return g}),[r,m,y]);return u.default.createElement(u.default.Fragment,null,r&&f&&a.default.createPortal(u.default.createElement("div",{className:"popup-component",style:{position:"fixed",top:0,left:0,bottom:0,right:0,zIndex:2001,outline:"none"},onClick:function(e){o&&e.target.classList.contains("popup-component")&&i&&i()},onKeyDown:function(e){27===e.keyCode&&e.target.classList.contains("popup-component")&&i&&i()},tabIndex:-1,autoFocus:!0,ref:s},t&&u.default.createElement(t,e)),f))};t.Popup=d,d.propTypes={UIComponent:i.default.elementType,open:i.default.bool,closeOnBackdrop:i.default.bool,closeWithKeyboard:i.default.bool,title:i.default.string,content:i.default.oneOfType([i.default.string,i.default.arrayOf(i.string),i.default.elementType,i.default.element]),onAccept:i.default.func,onCancel:i.default.func,onClose:i.default.func},d.defaultProps={open:!1,closeOnBackdrop:!0,closeWithKeyboard:!0};var p=d;t.default=p},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductComponent=void 0;var o,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=(o=r(3))&&o.__esModule?o:{default:o},a=r(417);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=function(e){var t=e.product,r=e.UIComponent,n=f((0,a.useProduct)(),2),o=n[0].ingredients,i=n[1],s=f((0,a.useProduct)(),2),d=s[0].options,p=s[1],y=f((0,u.useState)(1),2),v=y[0],b=y[1],m=f((0,u.useState)(t.price),2),h=m[0],g=m[1],O=f((0,u.useState)(""),2),w=O[0],j=O[1],P=function(e,t){for(var r=0;r<e.length;r++)for(var n=e[r].suboptions,o=0;o<n.length;o++)if(n[o].id==t)return n[o].isChecked;return!1};(0,u.useEffect)((function(){!function(){for(var e=t.ingredients,r=0;r<e.length;r++)e[r].isChecked=!0;i({type:a.PRODUCT_ACTIONS.CHANGE_INGREDIENTS,ingredients:e})}(),function(){for(var e=[],r=t.extras,n=0;n<r.length;n++)e.push.apply(e,l(r[n].options));for(var o=0;o<e.length;o++){var u=e[o];if(u.isDisplay=!0,u.conditioned){var i=u.respect_to;void 0!==i&&""!==i&&"null"!=i||(u.isDisplay=!1),P(e,i)||(u.isDisplay=!1)}for(var s=u.suboptions,c=0;c<s.length;c++)s[c].isChecked=!1}p({type:a.PRODUCT_ACTIONS.CHANGE_OPTIONS,options:e})}()}),[]);var S=function(e,r){for(var n=0,o=0;o<r.length;o++)if(0!=r[o].isDisplay)for(var u=r[o].suboptions,i=0;i<u.length;i++)u[i].isChecked&&(n+=parseFloat(u[i].price));var a=(parseFloat(t.price)+n)*e;g(a)};return u.default.createElement(u.default.Fragment,null,r&&u.default.createElement(r,c({},e,{onShare:function(){e.onShare&&e.onShare(t)},onClose:function(){e.onClose&&e.onClose()},productName:t.name,productLogo:t.images,productCount:v,productPrice:h,ingredients:o,options:d,note:w,onChangedIngredient:function(e){o[e].isChecked=!o[e].isChecked,i({type:a.PRODUCT_ACTIONS.CHANGE_INGREDIENTS,ingredients:o})},onChangedOption:function(e,t,r){if(r){for(var n=0;n<d[e].suboptions.length;n++)d[e].suboptions[n].isChecked=!1;d[e].suboptions[t].isChecked=!0}else d[e].suboptions[t].isChecked=!d[e].suboptions[t].isChecked;for(var o=0;o<d.length;o++){var u=d[o];if(u.isDisplay=!0,u.conditioned){var i=u.respect_to;void 0!==i&&""!==i&&"null"!=i||(u.isDisplay=!1),P(d,i)||(u.isDisplay=!1)}}S(v,d),p({type:a.PRODUCT_ACTIONS.CHANGE_OPTIONS,options:d})},onChangedNote:function(e){j(e.target.value)},onClickedButtonPlus:function(){b(v+1),S(v+1,d)},onClickedButtonMinus:function(){v>1&&(b(v-1),S(v-1,d))},onClickedButtonAdd:function(){e.onClickedButtonAdd&&(t.ingredients=o,t.options=d,t.note=w,t.quantity=v,e.onAdd(t))}})))};t.ProductComponent=y,y.propTypes={UIComponent:i.default.elementType,onShare:i.default.func,onClose:i.default.func,productName:i.default.string,productLogo:i.default.string,productCount:i.default.number,productPrice:i.default.number,ingredients:i.default.array,options:i.default.array,note:i.default.array,onChangedIngredient:i.default.func,onChangedOption:i.default.func,onChangedNote:i.default.func,onClickedButtonPlus:i.default.func,onClickedButtonMinues:i.default.func,onClickedButtonAdd:i.default.func,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},y.defaultProps={productName:""};var v=y;t.default=v},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.useProduct=t.ProductProvider=t.ProductContext=t.PRODUCT_ACTIONS=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={CHANGE_INGREDIENTS:"change_ingredients",CHANGE_OPTIONS:"change_options"};t.PRODUCT_ACTIONS=c;var l=(0,o.createContext)();t.ProductContext=l;var f={ingredients:[],options:[]},d=function(e,t){switch(t.type){case c.CHANGE_INGREDIENTS:return window.localStorage.setItem("ingredients",JSON.stringify(t.ingredients)),a(a({},e),{},{ingredients:t.ingredients});case c.CHANGE_OPTIONS:return window.localStorage.setItem("options",JSON.stringify(t.options)),a(a({},e),{},{options:t.options});default:return e}};t.ProductProvider=function(e){var t=e.reducer,r=void 0===t?d:t,n=e.initialState,u=void 0===n?f:n,i=e.children;return o.default.createElement(l.Provider,{value:(0,o.useReducer)(r,u)},i)};t.useProduct=function(){return(0,o.useContext)(l)||[{},function(){}]}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductForm=void 0;var o=f(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=f(r(3)),a=r(17),s=r(33),c=r(11);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function f(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function y(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){p(u,n,o,i,a,"next",e)}function a(e){p(u,n,o,i,a,"throw",e)}i(void 0)}))}}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var O=function(e){var t,r,n,i,l,f,p,v,m=e.UIComponent,g=e.useOrderContext,O=e.onSave,w=e.handleCustomSave,j={},P=h((0,c.useApi)(),1)[0],S=h((0,u.useState)({product:e.product,loading:!1,error:null}),2),_=S[0],I=S[1],E=h((0,u.useState)({ingredients:{},options:{}}),2),k=E[0],C=E[1],A=h((0,u.useState)({}),2),x=A[0],T=A[1],M=h((0,u.useState)(null),2),D=M[0],R=M[1],U=void 0!==(null===(t=e.productCart)||void 0===t?void 0:t.code),L=h((0,a.useOrder)(),2),B=L[0],F=L[1],Y=F.addProduct,q=F.updateProduct,N=U?e.productCart.quantity:0,W=null===(r=B.carts)||void 0===r?void 0:r["businessId:".concat(e.businessId)],H=_.product&&(null==W||null===(n=W.products)||void 0===n?void 0:n.find((function(e){return e.id===_.product.id}))),G=((null==H?void 0:H.quantity)||0)-N,z=((null==W||null===(i=W.products)||void 0===i?void 0:i.reduce((function(e,t){return e+(_.product&&t.id===_.product.id?t.quantity:0)}),0))||0)-N,$=h((0,s.useConfig)(),1)[0],V=($.configs.max_product_amount?parseInt($.configs.max_product_amount):100)-G,J=((null===(l=_.product)||void 0===l?void 0:l.inventoried)?null===(f=_.product)||void 0===f?void 0:f.quantity:void 0)-z,K=(null===(p=_.product)||void 0===p?void 0:p.inventoried)&&0===(null===(v=_.product)||void 0===v?void 0:v.quantity);J=isNaN(J)?V:J;var X=Math.min(V,J),Z=function(e){for(var t,r=0,n=0;n<(null===(o=_.product)||void 0===o||null===(u=o.extras)||void 0===u?void 0:u.length);n++)for(var o,u,i,a=null===(i=_.product)||void 0===i?void 0:i.extras[n],s=0;s<(null===(c=a.options)||void 0===c?void 0:c.length);s++)for(var c,l=a.options[s],f=0;f<(null===(d=l.suboptions)||void 0===d?void 0:d.length);f++){var d,p,y,v=l.suboptions[f];if(null===(p=e.options["id:".concat(l.id)])||void 0===p||null===(y=p.suboptions["id:".concat(v.id)])||void 0===y?void 0:y.selected){var b=e.options["id:".concat(l.id)].suboptions["id:".concat(v.id)],m=l.allow_suboption_quantity?b.quantity:1;r+=(l.with_half_option&&v.half_price&&"whole"!==b.position?v.half_price:v.price)*m}}return(null===(t=_.product)||void 0===t?void 0:t.price)+r},Q=function(){var t=y(o.default.mark((function t(){var r,n,u;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,I(b(b({},_),{},{loading:!0})),r={},j.product=r,t.next=6,P.businesses(e.businessId).categories(e.categoryId).products(e.productId).get({cancelToken:r});case 6:n=t.sent,u=n.content.result,I(b(b({},_),{},{loading:!1,product:u})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),I(b(b({},_),{},{loading:!1,error:[t.t0.message]}));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),ee=function e(t,r){_.product.extras.forEach((function(n){n.options.forEach((function(n){if(n.respect_to===r){var o,u=null===(o=t.options["id:".concat(n.id)])||void 0===o?void 0:o.suboptions;u&&Object.keys(u).map((function(r){return e(t,parseInt(r.split(":")[1]))})),t.options["id:".concat(n.id)]&&(t.options["id:".concat(n.id)].suboptions={})}}))}))},te=function(e,t,r){var n=JSON.parse(JSON.stringify(k));if(n.options||(n.options={}),n.options["id:".concat(r.id)]||(n.options["id:".concat(r.id)]={id:r.id,name:r.name,suboptions:{}}),e.selected){if(r.min===r.max&&1===r.min){var o=n.options["id:".concat(r.id)].suboptions;o&&Object.keys(o).map((function(e){return ee(n,parseInt(e.split(":")[1]))})),n.options["id:".concat(r.id)]&&(n.options["id:".concat(r.id)].suboptions={})}n.options["id:".concat(r.id)].suboptions["id:".concat(t.id)]=e}else delete n.options["id:".concat(r.id)].suboptions["id:".concat(t.id)],ee(n,t.id);var u=Object.keys(n.options["id:".concat(r.id)].suboptions).length;r.limit_suboptions_by_max&&(u=Object.values(n.options["id:".concat(r.id)].suboptions).reduce((function(e,t){return e+t.quantity}),0)),u<=r.max&&(n.options["id:".concat(r.id)].balance=u,n.unitTotal=Z(n),n.total=n.unitTotal*n.quantity,C(n))},re=function(){var e={};return _.product?(_.product.extras.forEach((function(t){t.options.map((function(t){var r,n=null===(r=k.options["id:".concat(t.id)])||void 0===r?void 0:r.suboptions,o=n?Object.keys(n).length:0,u=!1;if(t.respect_to&&k.options){var i=k.options;for(var a in i){var s;if(null===(s=i[a].suboptions["id:".concat(t.respect_to)])||void 0===s?void 0:s.selected){u=!0;break}}}(!t.respect_to||u)&&(t.min>o||t.max<o)&&(e["id:".concat(t.id)]=!0)}))})),T(e),e):e},ne=function(){var t=y(o.default.mark((function t(){var r,n,u,i;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w&&w&&w(),r=re(),0!==Object.keys(r).length){t.next=16;break}if(n=!0,!g){t.next=15;break}if(n=!1,null===(u=e.productCart)||void 0===u?void 0:u.code){t.next=12;break}return t.next=9,Y(k,W||{business_id:e.businessId});case 9:n=t.sent,t.next=15;break;case 12:return t.next=14,q(k,W||{business_id:e.businessId});case 14:n=t.sent;case 15:n&&O(k,!(null===(i=e.productCart)||void 0===i?void 0:i.code));case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,u.useEffect)((function(){_.product&&function(t){var r,n,o,u,i={};for(var a in t.ingredients){var s=t.ingredients[a];i["id:".concat(s.id)]={selected:!0}}var c=b(b({},e.productCart),{},{id:t.id,price:t.price,name:t.name,businessId:e.businessId,categoryId:t.category_id,inventoried:t.inventoried,stock:t.quantity,ingredients:(null===(r=e.productCart)||void 0===r?void 0:r.ingredients)||i,options:(null===(n=e.productCart)||void 0===n?void 0:n.options)||{},comment:(null===(o=e.productCart)||void 0===o?void 0:o.comment)||null,quantity:(null===(u=e.productCart)||void 0===u?void 0:u.quantity)||1});c.unitTotal=Z(c),c.total=c.unitTotal*c.quantity,C(c)}(_.product)}),[_.product,e.productCart]),(0,u.useEffect)((function(){re()}),[k]),(0,u.useEffect)((function(){I(b(b({},_),{},{product:e.product}))}),[e.product]),(0,u.useEffect)((function(){if((null==_?void 0:_.product)&&Object.keys(null==_?void 0:_.product).length){var e=_.product.extras.map((function(e){return e.options.find((function(e){return 1===e.min&&1===e.max&&1===e.suboptions.length}))}))[0];if(!e)return;var t=e.suboptions[0],r=e.with_half_option&&t.half_price&&"whole"!==(null==t?void 0:t.position)?t.half_price:t.price,n={id:t.id,name:t.name,position:t.position||"whole",price:r,quantity:1,selected:!0,total:r};R({state:n,suboption:t,option:e})}}),[_.product]),(0,u.useEffect)((function(){if(D){var e=D.state,t=D.suboption,r=D.option;te(e,t,r)}}),[D]),(0,u.useEffect)((function(){if(!(e.product||e.businessId&&e.categoryId&&e.productId))throw new Error("`businessId` && `categoryId` && `productId` are required if `product` was not provided.");return!e.product&&e.businessId&&e.categoryId&&e.productId&&Q(),function(){j.product&&j.product.cancel()}}),[]),u.default.createElement(u.default.Fragment,null,m&&u.default.createElement(m,d({},e,{productObject:_,productCart:k,errors:x,editMode:U,isSoldOut:K,maxProductQuantity:X,increment:function(){X<=0||k.quantity>=X||(k.quantity++,k.unitTotal=Z(k),k.total=k.unitTotal*k.quantity,C(b({},k)))},decrement:function(){0!==k.quantity&&(k.quantity--,k.unitTotal=Z(k),k.total=k.unitTotal*k.quantity,C(b({},k)))},handleSave:ne,showOption:function(e){var t=!0;if(e.respect_to&&(t=!1,k.options)){var r=k.options;for(var n in r){var o;if(null===(o=r[n].suboptions["id:".concat(e.respect_to)])||void 0===o?void 0:o.selected){t=!0;break}}}return t},handleChangeIngredientState:function(e,t){k.ingredients["id:".concat(t.id)]=e,C(b(b({},k),{},{ingredients:k.ingredients}))},handleChangeSuboptionState:te,handleChangeCommentState:function(e){var t=e.target.value;k.comment=t,C(b(b({},k),{},{comment:k.comment}))}})))};t.ProductForm=O,O.propTypes={UIComponent:i.default.elementType,businessId:i.default.number.isRequired,categoryId:i.default.number,productId:i.default.number,product:i.default.object,productCart:i.default.object,useOrderContext:i.default.bool,onSave:i.default.func},O.defaultProps={productCart:{},useOrderContext:!0,balance:0};var w=O;t.default=w},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductShare=void 0;var o,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=(o=r(3))&&o.__esModule?o:{default:o};function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=function(e){var t=e.UIComponent,r=e.slug,n=e.categoryId,o=e.productId,i=e.defaultUrl,a=c((0,u.useState)(!1),2),l=a[0],f=a[1],d=i||"".concat(window.location.origin,"/store/").concat(r,"?category=").concat(n,"&product=").concat(o);(0,u.useEffect)((function(){var e;window.document.getElementById("addthis_widget")||((e=document.createElement("script")).type="text/javascript",e.src="https://static.addtoany.com/menu/page.js",e.async=!0,e.defer=!0,e.id="addthis_widget",document.body.appendChild(e))}),[]);return u.default.createElement(u.default.Fragment,null,t&&u.default.createElement(t,s({},e,{updateShowValue:function(e){f(e),e&&window.a2a&&window.a2a.init()},showShareButton:l,urlToShare:d})))};t.ProductShare=f,f.propTypes={UIComponent:i.default.elementType,slug:i.default.string,categoryId:i.default.number,productId:i.default.number,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element)},f.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var d=f;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductImages=void 0;var n=u(r(0)),o=u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var a=function(e){var t=e.hero,r=e.gallery,o=e.UIComponent;return n.default.createElement(n.default.Fragment,null,o&&n.default.createElement(o,i({},e,{hero:t,gallery:r})))};t.ProductImages=a,a.propTypes={UIComponent:o.default.elementType,hero:o.default.string,gallery:o.default.arrayOf(o.default.string),beforeComponents:o.default.arrayOf(o.default.elementType),afterComponents:o.default.arrayOf(o.default.elementType),beforeElements:o.default.arrayOf(o.default.element),afterElements:o.default.arrayOf(o.default.element)},a.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var s=a;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductIngredient=void 0;var n=u(r(0)),o=u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var a=function(e){var t=e.UIComponent,r=e.ingredient,o=e.onChange,u={id:r.id,name:r.name,selected:e.state.selected};return n.default.createElement(n.default.Fragment,null,t&&n.default.createElement(t,i({},e,{state:u,toggleSelect:function(){var e;e={selected:!u.selected},o&&o(e,r)}})))};t.ProductIngredient=a,a.propTypes={UIComponent:o.default.elementType,ingredient:o.default.object.isRequired,state:o.default.shape({selected:o.default.bool}).isRequired,onChange:o.default.func},a.defaultProps={state:{}};var s=a;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductOptionSuboption=void 0;var n=u(r(0)),o=u(r(3));u(r(149));function u(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(e){var t=e.UIComponent,r=e.balance,o=e.option,u=e.suboption,a=e.onChange,c=e.state.selected||e.state.quantity>0,l=0;c&&e.state.quantity&&e.state.quantity>0?l=e.state.quantity:c&&(l=1);var f=e.state.position||"whole",d=o.with_half_option&&u.half_price&&"whole"!==f?u.half_price:u.price,p={id:u.id,name:u.name,price:d,selected:c,quantity:l,position:f,total:d*l},y=function(e){a&&a(e,u,o)};return n.default.createElement(n.default.Fragment,null,t&&n.default.createElement(t,i({},e,{state:p,increment:function(){o.limit_suboptions_by_max&&r===o.max||(o.limit_suboptions_by_max||p.quantity!==u.max)&&y(s(s({},p),{},{selected:0===p.quantity||p.selected,quantity:p.quantity+1,total:p.price*(p.quantity+1)}))},decrement:function(){0!==p.quantity&&y(s(s({},p),{},{selected:1!==p.quantity&&p.selected,quantity:p.quantity-1,total:p.price*(p.quantity-1)}))},changePosition:function(e){var t=o.with_half_option&&u.half_price&&"whole"!==e?u.half_price:u.price;y(s(s({},p),{},{position:e,price:t,total:t*p.quantity}))},toggleSelect:function(){!p.selected&&o.limit_suboptions_by_max&&r===o.max||y(s(s({},p),{},{quantity:p.selected?0:1,selected:!p.selected}))}})))};t.ProductOptionSuboption=l,l.propTypes={UIComponent:o.default.elementType,balance:o.default.number.isRequired,option:o.default.object.isRequired,suboption:o.default.object.isRequired,state:o.default.shape({selected:o.default.bool,quantity:o.default.number,position:o.default.string}).isRequired,onChange:o.default.func},l.defaultProps={state:{},balance:0};var f=l;t.default=f},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductsListing=void 0;var o=l(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=l(r(3)),a=r(11),s=r(17);r(288),l(r(150));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){v(u,n,o,i,a,"next",e)}function a(e){v(u,n,o,i,a,"throw",e)}i(void 0)}))}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=function(e){var t=e.isSearchByName,r=e.isSearchByDescription,n=e.businessId,i=e.UIComponent,c=m((0,a.useApi)(),1)[0],l=m((0,s.useOrder)(),1)[0],d=m((0,u.useState)(null),2),y=d[0],v=d[1],h=m((0,u.useState)(null),2),g=h[0],O=h[1],w=m((0,u.useState)({products:[],loading:!0,error:!1}),2),j=w[0],P=w[1],S=m((0,u.useState)([]),2),_=S[0],I=S[1],E=function(){var e=b(o.default.mark((function e(){var u,i,a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(p(p({},j),{},{loading:!0})),e.next=4,c.businesses(n).products().parameters({type:(null===(u=l.options)||void 0===u?void 0:u.type)||1}).get();case 4:i=e.sent,a=i.content.result,s=y||g?a.filter((function(e){return o=e.name,u=e.description,(!y||o.toLowerCase().includes(y.toLowerCase())&&t||u.toLowerCase().includes(y.toLowerCase())&&r)&&(n=e.category_id,!g||Number(n)===Number(g));var n,o,u})):a,P(p(p({},j),{},{loading:!1,products:s})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),P(p(p({},j),{},{loading:!1,error:e.t0}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=b(o.default.mark((function e(){var t,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.businesses(n).categories().get();case 2:t=e.sent,r=t.content.result,I(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){E()}),[y,g]),(0,u.useEffect)((function(){k()}),[]),u.default.createElement(u.default.Fragment,null,i&&u.default.createElement(i,f({},e,{categoryValue:!!g,categories:_,productsList:j,handlerClickCategory:function(e){return O(e)},handlerChangeSearch:function(e){return v(e)}})))};t.ProductsListing=g,g.propTypes={UIComponent:i.default.elementType,businessId:i.default.number,isSearchByName:i.default.bool,isSearchByDescription:i.default.bool,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},g.defaultProps={isSearchByName:!0,isSearchByDescription:!0,beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var O=g;t.default=O},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Messages=void 0;var o=l(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=l(r(3)),a=r(16),s=r(11);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var O=function(e){var t=e.UIComponent,r=e.orderId,n=e.customHandleSend,i=e.messages,c=e.setMessages,l=m((0,s.useApi)(),1)[0],p=m((0,a.useSession)(),1)[0].token,v=e.accessToken||p,h=m((0,u.useState)({business:!0,administrator:!0,driver:!0}),2),g=h[0],O=h[1],w=m((0,u.useState)(""),2),j=w[0],P=w[1],S=m((0,u.useState)({loading:!1,error:null}),2),_=S[0],I=S[1],E=m((0,u.useState)(null),2),k=E[0],C=E[1],A=function(){var e,t=(e=o.default.mark((function e(){var t,u,a,s,f,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=2;break}return e.abrupt("return",n(j));case 2:return e.prev=2,I({loading:!0,error:null}),t=[3],g.administrator&&t.push(0),g.business&&t.push(2),g.driver&&t.push(4),u={comment:j,type:2,can_see:t.join(",")},k&&(u.type=3,u.file=k),e.next=12,fetch("".concat(l.root,"/orders/").concat(r,"/messages"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)},body:JSON.stringify(u)});case 12:return a=e.sent,e.next=15,a.json();case 15:s=e.sent,f=s.error,p=s.result,f||c(y(y({},i),{},{messages:[].concat(d(i.messages),[p])})),I({loading:!1,error:f?p:null}),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(2),I({loading:!1,error:[e.t0.Messages]});case 25:case"end":return e.stop()}}),e,null,[[2,22]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){b(u,n,o,i,a,"next",e)}function a(e){b(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return u.default.createElement(u.default.Fragment,null,t&&u.default.createElement(t,f({},e,{messages:i,image:k,canRead:g,handleSend:A,message:j,setMessage:P,setCanRead:O,sendMessage:_,setImage:C})))};t.Messages=O,O.propTypes={UIComponent:i.default.elementType,handleClickSetDefault:i.default.func,customHandleSend:i.default.func,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},O.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var w=O;t.default=w},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SearchOptions=void 0;var o,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=(o=r(3))&&o.__esModule?o:{default:o},a=r(17);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e){var t=e.UIComponent,r=l((0,u.useState)(null),2),n=r[0],o=r[1],i=l((0,a.useOrder)(null),1)[0];return u.default.createElement(u.default.Fragment,null,t&&u.default.createElement(t,c({},e,{orderState:i,optionSelected:n,handleClickOption:function(e){o(e===n?null:e)}})))};t.SearchOptions=d,d.propTypes={UIComponent:i.default.elementType,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},d.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var p=d;t.default=p},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SignupForm=void 0;var o=f(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=f(r(3)),a=r(11),s=r(59),c=r(16);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function f(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){b(u,n,o,i,a,"next",e)}function a(e){b(u,n,o,i,a,"throw",e)}i(void 0)}))}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var O=function(e){var t=e.UIComponent,r=e.useChekoutFileds,n=e.handleButtonSignupClick,i=e.handleSuccessSignup,l=e.externalPhoneNumber,f=e.handleCustomSignup,p={},b=h((0,a.useApi)(),1)[0],g=h((0,c.useSession)(),2)[1].login,O=h((0,s.useValidationFields)(),1)[0],w=h((0,u.useState)({loading:!1,result:{error:!1}}),2),j=w[0],P=w[1],S=h((0,u.useState)({email:"",cellphone:l||"",password:""}),2),_=S[0],I=S[1],E=h((0,u.useState)({loading:!1,result:{error:!1}}),2),k=E[0],C=E[1],A=h((0,u.useState)({loading:!1,result:{error:!1}}),2),x=A[0],T=A[1],M=function(){var e=m(o.default.mark((function e(t){var r,n,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=3;break}return f(t||_),e.abrupt("return");case 3:return e.prev=3,P(y(y({},j),{},{loading:!0})),r={},p.signup=r,n=t||_,e.next=10,b.users().save(n,{cancelToken:r});case 10:u=e.sent,P({result:u.content,loading:!1}),u.content.error||i&&i(u.content.result),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),"Cancel"!==e.t0.constructor.name&&P({result:{error:!0,result:e.t0.message},loading:!1});case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=m(o.default.mark((function e(t){var r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(y(y({},k),{},{loading:!0})),e.next=4,fetch("".concat(b.root,"/auth/sms/twilio/verify"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y(y({},t),{},{cellphone:t.cellphone,country_phone_code:"+".concat(t.country_phone_code)}))});case 4:return r=e.sent,e.next=7,r.json();case 7:n=e.sent,C(y(y({},k),{},{loading:!1,result:n})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),C(y(y({},k),{},{loading:!1,result:{error:e.t0.message}}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=m(o.default.mark((function e(t){var r,n,u,a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T(y(y({},x),{},{loading:!0})),e.next=4,fetch("".concat(b.root,"/auth/sms/twilio"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return n=e.sent,e.next=7,n.json();case 7:!(null==(u=e.sent)?void 0:u.error)&&(null==u||null===(r=u.result)||void 0===r?void 0:r.id)&&(g({user:null==u?void 0:u.result,token:null==u||null===(a=u.result)||void 0===a||null===(s=a.session)||void 0===s?void 0:s.access_token}),i&&i(null==u?void 0:u.result)),T(y(y({},x),{},{loading:!1,result:u})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),T(y(y({},x),{},{loading:!1,result:{error:e.t0.message}}));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){return function(){p.signup&&p.signup.cancel()}}),[]),u.default.createElement(u.default.Fragment,null,t&&u.default.createElement(t,d({},e,{formState:j,validationFields:O,signupData:_,showField:function(e){var t,n,o;return!r||!O.loading&&!(null===(t=O.fields)||void 0===t?void 0:t.checkout[e])||!O.loading&&(null===(n=O.fields)||void 0===n?void 0:n.checkout[e])&&(null===(o=O.fields)||void 0===o?void 0:o.checkout[e].enabled)},isRequiredField:function(e){var t,n,o,u,i,a,s,c;return"password"===e||r&&!O.loading&&(null===(t=O.fields)||void 0===t||null===(n=t.checkout)||void 0===n?void 0:n[e])&&(null===(o=O.fields)||void 0===o||null===(u=o.checkout)||void 0===u||null===(i=u[e])||void 0===i?void 0:i.enabled)&&(null===(a=O.fields)||void 0===a||null===(s=a.checkout)||void 0===s||null===(c=s[e])||void 0===c?void 0:c.required)},verifyPhoneState:k,checkPhoneCodeState:x,setCheckPhoneCodeState:function(e){T(e||{loading:!1,result:{error:!1}})},handleChangeInput:function(e,t){var r={};t?Object.values(e).map((function(e){r=y(y({},r),{},v({},e.name,e.value))})):r=v({},e.target.name,e.target.value),I(y(y({},_),r))},handleButtonSignupClick:n||M,handleSendVerifyCode:D,handleCheckPhoneCode:R})))};t.SignupForm=O,O.propTypes={UIComponent:i.default.elementType,handleButtonSignupClick:i.default.func,handleSuccessSignup:i.default.func,handleContinueAsGuest:i.default.func,useChekoutFileds:i.default.bool,handleCustomSignup:i.default.func,handleCustomSendReview:i.default.func,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element),linkToLogin:i.default.string,elementLinkToLogin:i.default.element},O.defaultProps={useChekoutFileds:!1,beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var w=O;t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SingleBusinessCard=void 0;var n=u(r(0)),o=u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.UIComponent;return n.default.createElement(n.default.Fragment,null,t&&n.default.createElement(t,e))};t.SingleBusinessCard=i,i.propTypes={UIComponent:o.default.elementType,name:o.default.string,minimun:o.default.number,delivery_price:o.default.number,description:o.default.string,distance:o.default.number,delivery_time:o.default.string,pickup_time:o.default.string,beforeComponents:o.default.arrayOf(o.default.elementType),afterComponents:o.default.arrayOf(o.default.elementType),beforeElements:o.default.arrayOf(o.default.element),afterElements:o.default.arrayOf(o.default.element)},i.defaultProps={id:0,name:"",minimun:0,delivery_price:0,description:"",distance:0,delivery_time:""};var a=i;t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SingleOrderCard=void 0;var n=u(r(0)),o=u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.UIComponent;return n.default.createElement(n.default.Fragment,null,t&&n.default.createElement(t,e))};t.SingleOrderCard=i,i.propTypes={UIComponent:o.default.elementType,order:o.default.object.isRequired,orderType:o.default.string.isRequired,beforeComponents:o.default.arrayOf(o.default.elementType),afterComponents:o.default.arrayOf(o.default.elementType),beforeElements:o.default.arrayOf(o.default.element),afterElements:o.default.arrayOf(o.default.element)},i.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var a=i;t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SingleProductCard=void 0;var n=u(r(0)),o=u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.UIComponent;return n.default.createElement(n.default.Fragment,null,t&&n.default.createElement(t,e))};t.SingleProductCard=i,i.propTypes={UIComponent:o.default.elementType,isSoldOut:o.default.bool,images:o.default.string,name:o.default.string,description:o.default.string,price:o.default.number,beforeComponents:o.default.arrayOf(o.default.elementType),afterComponents:o.default.arrayOf(o.default.elementType),beforeElements:o.default.arrayOf(o.default.element),afterElements:o.default.arrayOf(o.default.element)},i.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var a=i;t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UserFormDetails=void 0;var n=f(r(8)),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=f(r(3)),i=r(16),a=r(11),s=r(60),c=r(59);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function f(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function v(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w=function(e){var t=e.UIComponent,r=e.useSessionUser,u=e.refreshSessionUser,l=e.useDefualtSessionManager,f=e.userId,d=e.user,b=e.useValidationFields,O=e.handleButtonUpdateClick,w=e.handleSuccessUpdate,j=e.isCustomerMode,P=g((0,a.useApi)(),1)[0],S=g((0,i.useSession)(),2),_=S[0],I=S[1].changeUser,E=g((0,s.useCustomer)(),2),k=E[0],C=E[1].setUserCustomer,A=g((0,c.useValidationFields)(),1)[0],x=g((0,o.useState)(!1),2),T=x[0],M=x[1],D=g((0,o.useState)({loading:!1,result:{error:!1}}),2),R=D[0],U=D[1],L=g((0,o.useState)({loading:!1,changes:{},result:{error:!1}}),2),B=L[0],F=L[1],Y={},q=l?_.token:e.accessToken;(0,o.useEffect)((function(){if(!(f||r&&u)||_.loading||e.userData)U({loading:!1,result:{error:!1,result:r&&!u?_.user:d}});else{U(m(m({},R),{},{loading:!0}));var t={};Y.user=t,P.setAccessToken(q).users(r&&u?_.user.id:f).get({cancelToken:t}).then((function(e){U({loading:!1,result:e.content}),e.content.result&&(j?C(m(m({},k.user),e.content.result),!0):I(m(m({},_.user),e.content.result)))})).catch((function(e){"Cancel"!==e.constructor.name&&U({loading:!1,result:{error:!0,result:e.message}})}))}return function(){Y.user&&Y.user.cancel()}}),[_.loading]);var N=function(){var t,r=(t=n.default.mark((function t(r,o,u){var i,a,s,c,l;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!O){t.next=2;break}return t.abrupt("return",O(R.result.result,B.changes));case 2:if(t.prev=2,F(m(m({},B),{},{loading:!0})),r&&(B.changes=m(m({},B.changes),r)),!o){t.next=13;break}return t.next=8,P.users((null==e||null===(a=e.userData)||void 0===a?void 0:a.id)||R.result.result.id).save({photo:u||B.changes.photo},{accessToken:q});case 8:i=t.sent,(s=B.changes).photo,c=y(s,["photo"]),F(m(m({},B),{},{changes:i.content.error?B.changes:c,result:i.content,loading:!1})),t.next=17;break;case 13:return t.next=15,P.users((null==e||null===(l=e.userData)||void 0===l?void 0:l.id)||R.result.result.id).save(B.changes,{accessToken:q});case 15:i=t.sent,F(m(m({},B),{},{changes:i.content.error?B.changes:{},result:i.content,loading:!1}));case 17:i.content.error||(U(m(m({},R),{},{result:m(m({},R.result),i.content)})),j?C(m(m({},k.user),i.content.result),!0):I(m(m({},_.user),i.content.result)),w&&w(i.content.result),u||M(!T)),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(2),F(m(m({},B),{},{result:{error:!0,result:t.t0.message},loading:!1}));case 23:case"end":return t.stop()}}),t,null,[[2,20]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var u=t.apply(e,r);function i(e){v(u,n,o,i,a,"next",e)}function a(e){v(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(e,t,n){return r.apply(this,arguments)}}();return o.default.createElement(o.default.Fragment,null,t&&o.default.createElement(t,p({},e,{isEdit:T,cleanFormState:function(e){return F(m(m({},B),e))},formState:B,userState:R,validationFields:A,showField:function(e){var t,r,n;return!b||!A.loading&&!(null===(t=A.fields)||void 0===t?void 0:t.checkout[e])||!A.loading&&(null===(r=A.fields)||void 0===r?void 0:r.checkout[e])&&(null===(n=A.fields)||void 0===n?void 0:n.checkout[e].enabled)},setFormState:F,isRequiredField:function(e){var t,r,n,o,u,i,a,s;return b&&!A.loading&&(null===(t=A.fields)||void 0===t||null===(r=t.checkout)||void 0===r?void 0:r[e])&&(null===(n=A.fields)||void 0===n||null===(o=n.checkout)||void 0===o||null===(u=o[e])||void 0===u?void 0:u.enabled)&&(null===(i=A.fields)||void 0===i||null===(a=i.checkout)||void 0===a||null===(s=a[e])||void 0===s?void 0:s.required)},handleChangeInput:function(e,t){var r={};t?Object.values(e).map((function(e){r=m(m({},r),{},h({},e.name,e.value))})):r=h({},e.target.name,e.target.value),F(m(m({},B),{},{changes:m(m({},B.changes),r)}))},handleButtonUpdateClick:N,handlechangeImage:function(e){var t=new window.FileReader;t.readAsDataURL(e),t.onload=function(){F(m(m({},B),{},{changes:m(m({},B.changes),{},{photo:t.result})}))},t.onerror=function(e){return console.log(e)}},toggleIsEdit:function(){return M(!T)}})))};t.UserFormDetails=w,w.propTypes={UIComponent:u.default.elementType,useSessionUser:function(e,t){return void 0!==e[t]&&"boolean"!=typeof e[t]?new Error("Invalid prop `".concat(t,"` of type `").concat(d(e[t]),"` supplied to `UserFormDetails`, expected `boolean`.")):void 0!==e.user||void 0!==e.userId||e[t]?!e[t]||void 0===e.user&&void 0===e.userId?void 0:new Error("Invalid prop `".concat(t,"` must be without `userId` and `user`.")):new Error("Invalid prop `".concat(t,"` must be true when `user` and `userId` is not present."))},refreshSessionUser:u.default.bool,userId:function(e,t){return void 0!==e[t]&&"number"!=typeof e[t]?new Error("Invalid prop `".concat(t,"` of type `").concat(d(e[t]),"` supplied to `UserFormDetails`, expected `number`.")):void 0!==e.user||e.useSessionUser||e[t]?e[t]&&(e.useSessionUser||void 0!==e.user)?new Error("Invalid prop `".concat(t,"` must be without `useSessionUser` and `user`.")):void 0:new Error("Invalid prop `".concat(t,"` must be true when `user` and `useSessionUser` is not present."))},user:function(e,t){return void 0!==e[t]&&"object"!==d(e[t])?new Error("Invalid prop `".concat(t,"` of type `").concat(d(e[t]),"` supplied to `UserFormDetails`, expected `object`.")):void 0!==e.userId||e.useSessionUser||e[t]?e[t]&&(e.useSessionUser||void 0!==e.userId)?new Error("Invalid prop `".concat(t,"` must be without `useSessionUser` and `userId`.")):void 0:new Error("Invalid prop `".concat(t,"` must be true when `useSessionUser` and `userId` is not present."))},handleButtonUpdateClick:u.default.func,handleSuccessUpdate:u.default.func,useValidationFields:u.default.bool,validationFieldsType:u.default.string,useDefualtSessionManager:u.default.bool,accessToken:function(e,t){return void 0!==e[t]&&"string"!=typeof e[t]?new Error("Invalid prop `".concat(t,"` of type `").concat(d(e[t]),"` supplied to `UserFormDetails`, expected `object`.")):void 0!==e[t]||e.useDefualtSessionManager?void 0:new Error("Invalid prop `".concat(t,"` is required when `useDefualtSessionManager` is false."))},beforeComponents:u.default.arrayOf(u.default.elementType),afterComponents:u.default.arrayOf(u.default.elementType),beforeElements:u.default.arrayOf(u.default.element),afterElements:u.default.arrayOf(u.default.element),linkToLogin:u.default.string,elementLinkToLogin:u.default.element},w.defaultProps={useValidationFields:!1,validationFieldsType:"checkout",useDefualtSessionManager:!0,beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var j=w;t.default=j},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UpsellingPage=void 0;var o=l(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=l(r(3)),a=r(11),s=r(17);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e){var t=e.UIComponent,r=e.businessId,n=e.products,i=e.cartProducts,c=e.onSave,l=b((0,u.useState)({products:[],loading:!0,error:!1}),2),p=l[0],v=l[1],m=b((0,u.useState)([]),2),h=m[0],g=m[1],O=b((0,a.useApi)(),1)[0],w=b((0,s.useOrder)(),1)[0];(0,u.useEffect)((function(){(null==n?void 0:n.length)||r?(null==n?void 0:n.length)?P(n):j():v(y(y({},p),{},{error:!0,message:"BusinessId is required when products is not defined"}))}),[]),(0,u.useEffect)((function(){p.loading||P(h)}),[w.loading]);var j=function(){var e,t=(e=o.default.mark((function e(){var t,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.businesses(r).products().parameters({type:1,params:"upsellings"}).get();case 3:t=e.sent,n=t.content.result,g(n),P(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),v(y(y({},p),{},{loading:!1,error:e.t0}));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){d(u,n,o,i,a,"next",e)}function a(e){d(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),P=function(e){var t=e.filter((function(e){return e.upselling})),r=i.filter((function(e){return t.find((function(t){return t.id===e.id}))}));r.length?v(y(y({},p),{},{loading:!1,products:t.filter((function(e){return!e.inventoried&&!r.find((function(t){return t.id===e.id}))}))})):v(y(y({},p),{},{loading:!1,products:t}))};return u.default.createElement(t,f({},e,{upsellingProducts:p,handleFormProduct:function(e){c(e)}}))};t.UpsellingPage=h,h.propTypes={UIComponent:i.default.elementType,upsellingProducts:i.default.array,businessId:i.default.number,onSave:i.default.func};var g=h;t.default=g},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.OrderDetails=void 0;var o=f(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=f(r(3)),a=r(16),s=r(11),c=r(57);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function f(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){m(u,n,o,i,a,"next",e)}function a(e){m(u,n,o,i,a,"throw",e)}i(void 0)}))}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var j=function(e){var t,r,n,i,l,f,y=e.orderId,b=e.hashKey,m=e.UIComponent,O=e.userCustomerId,w=e.sendCustomMessage,j=g((0,a.useSession)(),1)[0],P=j.user,S=j.token,_=j.loading,I=e.accessToken||S,E=g((0,s.useApi)(),1)[0],k=g((0,u.useState)({order:null,businessData:{},loading:!e.order,error:null}),2),C=k[0],A=k[1],x=g((0,u.useState)({status:null,loading:!1,error:null}),2),T=x[0],M=x[1],D=g((0,u.useState)({loading:!0,error:null,messages:[]}),2),R=D[0],U=D[1],L=(0,c.useWebsocket)(),B=g((0,u.useState)((null===(t=e.order)||void 0===t||null===(r=t.driver)||void 0===r?void 0:r.location)||(null===(n=C.order)||void 0===n||null===(i=n.driver)||void 0===i?void 0:i.location)||null),2),F=B[0],Y=B[1],q=g((0,u.useState)(!1),2),N=q[0],W=q[1],H=["header","slug"],G=function(){var e=h(o.default.mark((function e(){var t,r,n,u,i,a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,U(v(v({},R),{},{loading:!0})),n=O?"".concat(E.root,"/orders/").concat(null===(t=C.order)||void 0===t?void 0:t.id,"/messages?mode=dashboard"):"".concat(E.root,"/orders/").concat(null===(r=C.order)||void 0===r?void 0:r.id,"/messages"),e.next=5,fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(I)}});case 5:return u=e.sent,e.next=8,u.json();case 8:i=e.sent,a=i.error,s=i.result,U(a?v(v({},R),{},{loading:!1,error:s}):{messages:s,loading:!1,error:null}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),U(v(v({},R),{},{loading:!1,error:[e.t0.Messages]}));case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=h(o.default.mark((function e(t){var r,n,u,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=2;break}return e.abrupt("return",w(t));case 2:return e.prev=2,M(v(v({},T),{},{loading:!0})),e.next=6,fetch("".concat(E.root,"/orders/").concat(null===(r=C.order)||void 0===r?void 0:r.id,"/messages"),{method:"post",headers:{Authorization:"Bearer ".concat(S),"Content-Type":"application/json"},body:JSON.stringify({can_see:"0,2,3",comment:"I am on the parking number: ".concat(t),order_id:null===(n=C.order)||void 0===n?void 0:n.id,type:2})});case 6:u=e.sent,i=u.status,M(v(v({},T),{},{loading:!1,status:i})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),M(v(v({},T),{},{loading:!1,error:[e.t0.message]}));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=h(o.default.mark((function e(){var t,r,n,u,i,a,s,c,l,f,d;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},b&&(t.headers={"X-uuid-access-X":b}),O&&(t.query={mode:"dashboard"}),e.prev=3,e.next=6,E.setAccessToken(S).orders(y).get(t);case 6:return r=e.sent,n=r.content,u=n.error,i=n.result,a=u?null:i,s=u?i:null,c=null,e.prev=13,e.next=16,E.setAccessToken(S).businesses(a.business_id).select(H).get();case 16:l=e.sent,f=l.content,c=f.result,f.error&&s.push(f.result[0]),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(13),s.push(e.t0.message);case 25:A(v(v({},C),{},{loading:!1,order:a,businessData:c,error:s})),e.next=31;break;case 28:e.prev=28,e.t1=e.catch(3),A(v(v({},C),{},{loading:!1,error:e.t1.message?null===(d=C.error)||void 0===d?void 0:d.push(null===e.t1||void 0===e.t1?void 0:e.t1.message):["ERROR"]}));case 31:case"end":return e.stop()}}),e,null,[[3,28],[13,22]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=h(o.default.mark((function e(){var t,r,n,u,i,a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null==R||null===(t=R.messages[(null==R||null===(r=R.messages)||void 0===r?void 0:r.length)-1])||void 0===t?void 0:t.id,e.prev=1,e.next=4,fetch("".concat(E.root,"/orders/").concat(null===(u=C.order)||void 0===u?void 0:u.id,"/messages/").concat(n,"/read"),{method:"GET",headers:{Authorization:"Bearer ".concat(S),"Content-Type":"application/json"}});case 4:return i=e.sent,e.next=7,i.json();case 7:a=e.sent,s=a.result,W(s),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){!C.loading&&G()}),[y,null==C||null===(l=C.order)||void 0===l?void 0:l.status,C.loading]),(0,u.useEffect)((function(){e.order?A(v(v({},C),{},{order:e.order})):$()}),[]),(0,u.useEffect)((function(){var e;if(!C.loading&&!_){var t=function(e){var t;(null==e?void 0:e.id)===(null===(t=C.order)||void 0===t?void 0:t.id)&&(delete e.total,delete e.subtotal,A(v(v({},C),{},{order:Object.assign(C.order,e)})),G())},r=function(e){var t=e.location;Y(null!=t?t:{lat:-37.9722342,lng:144.7729561})};return L.join("orders_".concat(null==P?void 0:P.id)),L.join("drivers_".concat(null===(e=C.order)||void 0===e?void 0:e.driver_id)),L.on("tracking_driver",r),L.on("update_order",t),function(){var e;L.leave("orders_".concat(null==P?void 0:P.id)),L.leave("drivers_".concat(null===(e=C.order)||void 0===e?void 0:e.driver_id)),L.off("update_order",t),L.off("tracking_driver",r)}}}),[C.order,L,_]),(0,u.useEffect)((function(){if(!R.loading){var e=function(e){R.messages.find((function(t){return t.id===e.id}))||U(v(v({},R),{},{messages:[].concat(p(R.messages),[e])}))};return L.on("message",e),function(){L.off("message",e)}}}),[R,L,null===(f=C.order)||void 0===f?void 0:f.status]),(0,u.useEffect)((function(){return L.join("messages_orders_".concat(null==P?void 0:P.id)),function(){L.leave("messages_orders_".concat(null==P?void 0:P.id))}}),[L]),u.default.createElement(u.default.Fragment,null,m&&u.default.createElement(m,d({},e,{order:C,driverLocation:F,messageErrors:T,formatPrice:function(e){return e&&"$ ".concat(e.toFixed(2))},handlerSubmit:function(e){var t=e.spot;z(t)},messages:R,setMessages:U,readMessages:V,messagesReadList:N})))};t.OrderDetails=j,j.propTypes={UIComponent:i.default.elementType,orderId:i.default.oneOfType([i.default.number,i.default.string]),order:i.default.object,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},j.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var P=j;t.default=P},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.OrderReview=void 0;var o=l(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=r(16),a=l(r(3)),s=r(11);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e){var t=e.UIComponent,r=e.order,n=e.onSaveReview,a=e.handleCustomSendReview,c=b((0,s.useApi)(),1)[0],l=b((0,i.useSession)(),1)[0],d=b((0,u.useState)({quality:1,punctiality:1,service:1,packaging:1,comments:""}),2),m=d[0],h=d[1],g=b((0,u.useState)({loading:!1,result:{error:!1}}),2),O=g[0],w=g[1],j=function(){var e,t=(e=o.default.mark((function e(){var t,u,i,s,f,d;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a&&a&&a(m),w(p(p({},O),{},{loading:!0})),e.prev=2,u={order_id:r.id,quality:m.quality,delivery:m.punctiality,service:m.service,package:m.packaging,comment:m.comments,user_id:null==l||null===(t=l.user)||void 0===t?void 0:t.id,business_id:r.business_id},e.next=6,fetch("".concat(c.root,"/business/").concat(r.business_id,"/reviews"),{method:"POST",headers:{Authorization:"Bearer ".concat(l.token),"Content-Type":"application/json"},body:JSON.stringify(u)});case 6:return i=e.sent,e.next=9,i.json();case 9:s=e.sent,f=s.result,d=s.error,n&&n(i),w({loading:!1,result:f,error:d}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),w({result:{error:!0,result:e.t0.message},loading:!1});case 19:case"end":return e.stop()}}),e,null,[[2,16]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){v(u,n,o,i,a,"next",e)}function a(e){v(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return u.default.createElement(u.default.Fragment,null,t&&u.default.createElement(t,f({},e,{stars:m,order:r,formState:O,handleSendReview:j,handleChangeInput:function(e){h(p(p({},m),{},{comments:e.target.value}))},handleChangeRating:function(e){h(p(p({},m),{},y({},e.target.name,parseInt(e.target.value))))}})))};t.OrderReview=h,h.propTypes={UIComponent:a.default.elementType,order:a.default.object,onSaveReview:a.default.func,handleSendReview:a.default.func,handleCustomSendReview:a.default.func},h.defaultProps={order:{},beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var g=h;t.default=g},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CmsContent=void 0;var o=c(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=c(r(3)),a=r(11);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=function(e){var t=e.UIComponent,r=e.pageSlug,n=e.onNotFound,i=v((0,u.useState)({body:null,loading:!1,error:null}),2),s=i[0],c=i[1],f=v((0,a.useApi)(),1)[0],p={},b=function(){var e,t=(e=o.default.mark((function e(t){var u,i,a,l,y;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(d(d({},s),{},{loading:!0})),e.prev=1,u={},p.page=u,e.next=6,f.pages(t).get({cancelToken:u});case 6:i=e.sent,a=i.content,l=a.error,y=a.result,c(d(d({},s),{},{loading:!1})),l?(c(d(d({},s),{},{error:y})),n&&n(r)):c(d(d({},s),{},{body:y.body})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),"Cancel"!==e.t0.constructor.name&&c(d(d({},s),{},{loading:!1,error:[e.t0.message]}));case 17:case"end":return e.stop()}}),e,null,[[1,14]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){y(u,n,o,i,a,"next",e)}function a(e){y(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,u.useEffect)((function(){return b(r),function(){p.page&&p.page.cancel()}}),[]),u.default.createElement(u.default.Fragment,null,t&&u.default.createElement(t,l({},e,{cmsState:s})))};t.CmsContent=m,m.propTypes={UIComponent:i.default.elementType,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},m.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var h=m;t.default=h},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PhoneAutocomplete=void 0;var o=f(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=f(r(3)),a=r(26),s=r(11),c=r(16);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function f(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){b(u,n,o,i,a,"next",e)}function a(e){b(u,n,o,i,a,"throw",e)}i(void 0)}))}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var O=function(e){var t=e.UIComponent,r=h((0,a.useLanguage)(),2)[1],n=h((0,s.useApi)(),1)[0],i=h((0,c.useSession)(),1)[0].token,l=h((0,u.useState)(""),2),f=l[0],p=l[1],v=h((0,u.useState)({customer:!1,signup:!1}),2),b=v[0],g=v[1],O=h((0,u.useState)({loading:!1,result:{error:!1}}),2),w=O[0],j=O[1],P=h((0,u.useState)({users:[],loading:!0,error:null}),2),S=P[0],_=P[1],I=function(){var e=m(o.default.mark((function e(t,r){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.filter((function(e){return(null==e?void 0:e.cellphone)===r})))[0]?(j({loading:!1,result:n[0]}),g(y(y({},b),{},{customer:!0}))):j({loading:!1,result:{error:!1}});case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),E=function(){var e=m(o.default.mark((function e(){var t,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(y(y({},S),{},{loading:!0})),e.prev=1,e.next=4,n.setAccessToken(i).users().get();case 4:t=e.sent,r=t.content.result,_(y(y({},S),{},{users:r,loading:!1})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),_(y(y({},S),{},{loading:!1,error:e.t0.message}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),k=function(e,t,n,o,u,i,a){var s,c;var l=document.createElement("DIV");for((l=document.createElement("DIV")).setAttribute("id",a.id+"autocomplete-list"),l.setAttribute("class","autocomplete-items"),a.parentNode.appendChild(l),c=0;c<(null==n?void 0:n.length);c++){var d,v,m;if((null===(d=n[c])||void 0===d||null===(v=d.cellphone)||void 0===v||null===(m=v.substr(0,null==o?void 0:o.length))||void 0===m?void 0:m.toUpperCase())===(null==o?void 0:o.toUpperCase())){var h,O,w=null===(h=n[c])||void 0===h?void 0:h.cellphone;(s=document.createElement("DIV")).innerHTML="<strong>"+(null==w?void 0:w.substr(0,null==o?void 0:o.length))+"</strong>",s.innerHTML+=null==w?void 0:w.substr(null==o?void 0:o.length),s.innerHTML+=" ("+(null===(O=n[c])||void 0===O?void 0:O.name)+")",s.innerHTML+="<input type='hidden' value='"+w+"'>",s.addEventListener("click",(function(e){t.value=this.getElementsByTagName("input")[0].value,p(this.getElementsByTagName("input")[0].value),I(n,this.getElementsByTagName("input")[0].value),i()})),l.appendChild(s)}}(s=document.createElement("DIV")).innerHTML="<strong>"+r("CREATE_CUSTOMER","Create new customer")+"</strong>",s.innerHTML+="<input type='hidden' value='"+r("CREATE_CUSTOMER","Create new customer")+"'>",s.addEventListener("click",(function(e){10===u.target.value.length||10===f.length?g(y(y({},b),{},{signup:!0})):_(y(y({},S),{},{error:r("ERROR_MIN_CHARACTERS_PHONE","The Phone / Mobile must be 10 characters")})),i()})),l.appendChild(s)};return(0,u.useEffect)((function(){!function(e,t,r){var n;function o(e){if(!e)return!1;!function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}(e),n>=e.length&&(n=0),n<0&&(n=e.length-1),e[n].classList.add("autocomplete-active")}function u(t){for(var r=document.getElementsByClassName("autocomplete-items"),n=0;n<r.length;n++)t!==r[n]&&t!==e&&r[n].parentNode.removeChild(r[n])}e.addEventListener("input",(function(r){var n=this.value;if(u(),!n)return!1;k(0,e,t,n,r,u,this)})),r&&r.addEventListener("click",(function(r){var n=e.value;if(u(),!n)return!1;k(0,e,t,n,r,u,e)})),e.addEventListener("keydown",(function(e){var t=document.getElementById(this.id+"autocomplete-list");t&&(t=t.getElementsByTagName("div")),40===e.keyCode?(n++,o(t)):38===e.keyCode?(n--,o(t)):13===e.keyCode&&(e.preventDefault(),n>-1&&t&&t[n].click())})),document.addEventListener("click",(function(e){e.target.classList.contains("phone-button")||u(e.target)}))}(document.getElementById("phone-input"),S.users,document.getElementById("phone-button"))})),(0,u.useEffect)((function(){E()}),[]),u.default.createElement(u.default.Fragment,null,t&&u.default.createElement(t,d({},e,{phone:f,customerState:w,customersPhones:S,setCustomersPhones:_,onChangeNumber:function(e){var t,r,n;p((null===(t=e.target)||void 0===t||null===(r=t.validity)||void 0===r?void 0:r.valid)?null===(n=e.target)||void 0===n?void 0:n.value:f)},openModal:b,setOpenModal:g,setCustomerState:j})))};t.PhoneAutocomplete=O,O.propTypes={UIComponent:i.default.elementType,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},O.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var w=O;t.default=w},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BusinessesMap=void 0;var o,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=(o=r(3))&&o.__esModule?o:{default:o},a=r(42);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e){var t=e.UIComponent,r=e.businessList,n=e.userLocation,o=e.setErrors,i=e.onBusinessCustomClick,s=l((0,a.useEvent)(),1)[0],f=l((0,u.useState)([]),2),d=f[0],p=f[1];return(0,u.useEffect)((function(){p(r.map((function(e){return{lat:e.location.lat,lng:e.location.lng,icon:e.logo,slug:e.slug}})))}),[r]),u.default.createElement(u.default.Fragment,null,t&&u.default.createElement(t,c({},e,{businessLocations:d,userLocation:n,onBusinessClick:function(e){if(i)return i(e);s.emit("go_to_page",{page:"business",params:{store:e}})},setErrors:o})))};t.BusinessesMap=d,d.propTypes={UIComponent:i.default.elementType,businessList:i.default.array.isRequired,userLocation:i.default.object,setErrors:i.default.func,onBusinessCustomClick:i.default.func,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},d.defaultProps={businessList:[],beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var p=d;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PaymentOptionCash=void 0;var n=u(r(0)),o=u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var a=function(e){var t=e.UIComponent,r=e.orderTotal;return n.default.createElement(n.default.Fragment,null,t&&n.default.createElement(t,i({},e,{total:r})))};t.PaymentOptionCash=a,a.propTypes={UIComponent:o.default.elementType,useOrderContext:o.default.bool,businessId:o.default.number,orderTotal:o.default.number,handlerSubmit:o.default.func,beforeComponents:o.default.arrayOf(o.default.elementType),afterComponents:o.default.arrayOf(o.default.elementType),beforeElements:o.default.arrayOf(o.default.element),afterElements:o.default.arrayOf(o.default.element)},a.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var s=a;t.default=s},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PaymentOptionStripe=void 0;var o=l(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=l(r(3)),a=r(16),s=r(11);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){v(u,n,o,i,a,"next",e)}function a(e){v(u,n,o,i,a,"throw",e)}i(void 0)}))}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=function(e){var t=e.businessId,r=e.UIComponent,n=m((0,a.useSession)(),1)[0],i=n.token,c=n.user,l=m((0,s.useApi)(),1)[0],d=m((0,u.useState)({cards:[],loading:!0,error:null}),2),y=d[0],v=d[1],h=m((0,u.useState)(e.publicKey),2),g=h[0],O=h[1],w=m((0,u.useState)(null),2),j=w[0],P=w[1],S=m((0,u.useState)(null),2),_=S[0],I=S[1],E=m((0,u.useState)({loading:!1,error:null}),2),k=E[0],C=E[1],A={},x=function(){var e=b(o.default.mark((function e(){var r,n,u,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(p(p({},y),{},{loading:!0})),e.prev=1,r={},A.paymentCards=r,e.next=6,l.setAccessToken(i).paymentCards(t,c.id).get({cancelToken:r});case 6:n=e.sent,u=n.content.result,(a=null==u?void 0:u.find((function(e){return e.default})))&&I({id:a.id,type:"card",card:{brand:a.brand,last4:a.last4}}),v(p(p({},y),{},{loading:!1,cards:u})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),v(p(p({},y),{},{loading:!1,error:e.t0}));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=b(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.paymentCards(-1,c.id,t.id).delete();case 3:r=e.sent,r.content.error||(y.cards=y.cards.filter((function(e){return e.id!==t.id})),v(p({},y))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=b(o.default.mark((function e(r){var n,u,a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(p(p({},k),{},{loading:!0})),n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)},body:JSON.stringify({business_id:t,user_id:c.id,card_id:r.id})},u="".concat(l.root,"/payments/stripe/cards/default"),e.next=6,fetch(u,n);case 6:return a=e.sent,e.next=9,a.json();case 9:(s=e.sent).error?C({loading:!1,error:s.result}):(I({id:r.id,type:"card",card:{brand:r.brand,last4:r.last4}}),C({loading:!1,error:null})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),C({loading:!1,error:e.t0});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=b(o.default.mark((function e(){var t,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.setAccessToken(i).paymentCards().getCredentials();case 3:t=e.sent,r=t.content.result,O(r.publishable),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),R=function(e){P({id:e.id,type:"card",card:{brand:e.brand,last4:e.last4}})};return(0,u.useEffect)((function(){return i&&(x(),e.publicKey||D()),function(){A.paymentCards&&A.paymentCards.cancel()}}),[i]),u.default.createElement(u.default.Fragment,null,r&&u.default.createElement(r,f({},e,{cardSelected:j,cardDefault:_,cardsList:y,handleCardClick:R,publicKey:g,handleNewCard:function(e){y.cards.push(e),v(p({},y)),R(e)},deleteCard:T,setDefaultCard:M,defaultCardSetActionStatus:k})))};t.PaymentOptionStripe=g,g.propTypes={UIComponent:i.default.elementType,businessId:i.default.number.isRequired,userId:i.default.number,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},g.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var O=g;t.default=O},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PaymentOptionStripeDirect=void 0;var o=l(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=l(r(3)),a=r(16),s=r(11);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){d(u,n,o,i,a,"next",e)}function a(e){d(u,n,o,i,a,"throw",e)}i(void 0)}))}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b=function(e){var t=e.UIComponent,r=y((0,s.useApi)(),1)[0],n=y((0,a.useSession)(),1)[0].token,i=y((0,u.useState)(null),2),c=i[0],l=i[1],d=y((0,u.useState)(null),2),v=d[0],b=d[1],m=function(){var e=p(o.default.mark((function e(){var t,u,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(r.root,"/payments/stripe/credentials"),{headers:{Authorization:"Bearer ".concat(n)}});case 2:return t=e.sent,e.next=5,t.json();case 5:u=e.sent,i=u.result.publishable,l(i);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=p(o.default.mark((function e(){var t,u,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(r.root,"/payments/stripe/requirements?type=add_card"),{headers:{Authorization:"Bearer ".concat(n)}});case 2:return t=e.sent,e.next=5,t.json();case 5:u=e.sent,i=u.result,b(i);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){n&&(m(),h())}),[n]),u.default.createElement(u.default.Fragment,null,t&&u.default.createElement(t,f({},e,{stripeKey:c,clientSecret:v})))};t.PaymentOptionStripeDirect=b,b.propTypes={UIComponent:i.default.elementType,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},b.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var m=b;t.default=m},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PaymentOptionStripeRedirect=void 0;var o=l(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=l(r(3)),a=r(16),s=r(11);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=function(e){var t,r=e.paymentMethods,n=e.UIComponent,i=p((0,a.useSession)(),1)[0].token,c=p((0,s.useApi)(),1)[0],l=p((0,u.useState)(null),2),y=l[0],v=l[1],b=function(){var e,t=(e=o.default.mark((function e(){var t,r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c.root,"/payments/stripe/credentials"),{headers:{Authorization:"Bearer ".concat(i)}});case 2:return t=e.sent,e.next=5,t.json();case 5:r=e.sent,n=r.result.publishable,v(n);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){d(u,n,o,i,a,"next",e)}function a(e){d(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,u.useEffect)((function(){b()}),[]),u.default.createElement(u.default.Fragment,null,n&&y&&u.default.createElement(n,f({},e,{stripePK:y,modalName:(t="",r.map((function(e,n){n===r.length-1?t+="".concat(e.name):t+="".concat(e.name,", ")})),t)})))};t.PaymentOptionStripeRedirect=v,v.propTypes={UIComponent:i.default.elementType,businessId:i.default.number.isRequired,currency:i.default.string.isRequired,paymentMethods:i.default.arrayOf(i.default.object).isRequired,handlerStripeSource:i.default.func,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},v.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var b=v;t.default=b},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StripeElementsForm=void 0;var o=l(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=l(r(3)),a=r(11),s=r(16);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=function(e){var t=e.UIComponent,r=e.toSave,n=p((0,a.useApi)(),1)[0],i=p((0,s.useSession)(),1)[0].token,c=p((0,u.useState)(),2),l=c[0],y=c[1],v=function(){var e,t=(e=o.default.mark((function e(){var t,r,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(n.root,"/payments/stripe/requirements?type=add_card"),{headers:{Authorization:"Bearer ".concat(i)}});case 2:return t=e.sent,e.next=5,t.json();case 5:r=e.sent,u=r.result,y(u);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){d(u,n,o,i,a,"next",e)}function a(e){d(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,u.useEffect)((function(){i&&r&&v()}),[i]),u.default.createElement(t,f({},e,{requirements:l}))};t.StripeElementsForm=v,v.propTypes={UIComponent:i.default.elementType,businessId:i.default.number,toSave:i.default.bool,publicKey:i.default.string,clientSecret:i.default.string,handleSource:i.default.func};var b=v;t.default=b},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CardForm=void 0;var o=d(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=d(r(3)),a=r(63),s=r(16),c=r(11),l=r(26);function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function d(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){y(u,n,o,i,a,"next",e)}function a(e){y(u,n,o,i,a,"throw",e)}i(void 0)}))}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e){var t=e.UIComponent,r=e.requirements,n=e.toSave,i=e.handleSource,f=e.onNewCard,d=e.handleCustomSubmit,y=b((0,s.useSession)(),1)[0].user,m=b((0,c.useApi)(),1)[0],h=(0,a.useStripe)(),g=(0,a.useElements)(),O=b((0,u.useState)(null),2),w=O[0],j=O[1],P=b((0,u.useState)(!1),2),S=P[0],_=P[1],I=b((0,l.useLanguage)(),2)[1],E=function(){var e=v(o.default.mark((function e(t,r,n){var u,i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m.root,"/payments/stripe/cards"),{method:"POST",headers:{Authorization:"Bearer ".concat(null==r||null===(u=r.session)||void 0===u?void 0:u.access_token),"Content-Type":"application/json"},body:JSON.stringify({business_id:n,gateway:"stripe",token_id:t,user_id:null==r?void 0:r.id})});case 2:return i=e.sent,e.next=5,i.json();case 5:a=e.sent,f&&f(a.result);case 7:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),k=function(){var t=v(o.default.mark((function t(u){var s,c,l,f;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!d){t.next=3;break}return s=null==g?void 0:g.getElement(a.CardElement),t.abrupt("return",d(s));case 3:if(_(!0),u.preventDefault(),c=null==g?void 0:g.getElement(a.CardElement),r){t.next=16;break}if(h){t.next=10;break}return j(I("STRIPE_LOAD_ERROR","Failed to load Stripe properly")),t.abrupt("return");case 10:return t.next=12,h.createPaymentMethod({type:"card",card:c,billing_details:{name:"".concat(y.name," ").concat(y.lastname),email:y.email,address:y.address}});case 12:(l=t.sent).error?(_(!1),j(l.error.message)):(_(!1),j(null),i&&i({id:null==l?void 0:l.paymentMethod.id,type:"card",card:{brand:null==l?void 0:l.paymentMethod.card.brand,last4:null==l?void 0:l.paymentMethod.card.last4}})),t.next=23;break;case 16:if(h){t.next=19;break}return j(I("STRIPE_LOAD_ERROR","Faile to load Stripe properly")),t.abrupt("return");case 19:return t.next=21,h.confirmCardSetup(r,{payment_method:{card:c,billing_details:{name:"".concat(y.name," ").concat(y.lastname),email:y.email,address:y.address}}});case 21:(f=t.sent).error?(_(!1),j(f.error.message)):(_(!1),j(null),n&&E(f.setupIntent.payment_method,y,e.businessId));case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return u.default.createElement(t,p({},e,{handleSubmit:k,error:w,loading:S,handleChange:function(e){e.error?j(e.error.message):j(null)}}))};t.CardForm=h,h.propTypes={UIComponent:i.default.elementType,businessId:i.default.number,clientSecret:i.default.string,autosave:i.default.bool,handlerToken:i.default.func,handleCustomSubmit:i.default.func},h.defaultProps={autosave:!0};var g=h;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StripeRedirectForm=void 0;var n=i(r(8)),o=i(r(0)),u=i(r(3));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}var c=function(e){var t=e.UIComponent,r=e.handleStripeRedirect,u=function(){var e,t=(e=n.default.mark((function e(t){var o,u,i;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t.type,u=t.name,i=t.email,r&&r({type:o,owner:{name:u,email:i}});case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){s(u,n,o,i,a,"next",e)}function a(e){s(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return o.default.createElement(o.default.Fragment,null,t&&o.default.createElement(t,a({},e,{handleSubmitPaymentMethod:u})))};t.StripeRedirectForm=c,c.propTypes={UIComponent:u.default.elementType,beforeComponents:u.default.arrayOf(u.default.elementType),afterComponents:u.default.arrayOf(u.default.elementType),beforeElements:u.default.arrayOf(u.default.element),afterElements:u.default.arrayOf(u.default.element)},c.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var l=c;t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FloatingButton=void 0;var n=u(r(0)),o=u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var a=function(e){var t=e.handleClick,r=e.btnText,o=e.btnValue,u=e.UIComponent;return n.default.createElement(n.default.Fragment,null,u&&n.default.createElement(u,i({},e,{handleButtonClick:t,btnText:r,btnValue:o})))};t.FloatingButton=a,a.propTypes={UIComponent:o.default.elementType,btnText:o.default.string.isRequired,btnValue:o.default.number,handleClick:o.default.func,beforeComponents:o.default.arrayOf(o.default.elementType),afterComponents:o.default.arrayOf(o.default.elementType),beforeElements:o.default.arrayOf(o.default.element),afterElements:o.default.arrayOf(o.default.element)},a.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var s=a;t.default=s},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ResetPassword=void 0;var o=c(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=c(r(3)),a=r(11);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=function(e){var t=e.UIComponent,r=e.code,n=e.random,i=e.handleSuccessResetPassword,s=e.handleCustomResetPassword,c=v((0,u.useState)({loading:!1,result:{error:!1}}),2),f=c[0],b=c[1],m=v((0,u.useState)({code:r,random:n,password:""}),2),h=m[0],g=m[1],O=v((0,a.useApi)(),1)[0],w=function(){var e,t=(e=o.default.mark((function e(){var t,r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=2;break}return e.abrupt("return",s(h));case 2:return e.prev=2,b(d(d({},f),{},{loading:!0})),e.next=6,O.users().resetPassword(h);case 6:t=e.sent,r=t.response,n=r.data,b({result:n,loading:!1}),n.error||i&&i(n.result),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),"Cancel"!==e.t0.constructor.name&&b({result:{error:!0,result:e.t0.message},loading:!1});case 16:case"end":return e.stop()}}),e,null,[[2,13]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){y(u,n,o,i,a,"next",e)}function a(e){y(u,n,o,i,a,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return u.default.createElement(u.default.Fragment,null,t&&u.default.createElement(t,l({},e,{handleResetPassword:w,handleChangeInput:function(e){g(d(d({},h),{},p({},e.target.name,e.target.value)))},resetPasswordData:h,formState:f})))};t.ResetPassword=m,m.propTypes={UIComponent:i.default.elementType,code:i.default.string,random:i.default.string,handleCustomResetPassword:i.default.func,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},m.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var h=m;t.default=h},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Analytics=void 0;var o,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=r(42),a=(o=r(3))&&o.__esModule?o:{default:o};function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=function(e){var t=e.trackId,r=e.children,n=c((0,i.useEvent)(),1)[0],o=c((0,u.useState)(!1),2),a=o[0],s=o[1];(0,u.useEffect)((function(){var e;if(t){if(!window.document.getElementById("google-analytics-sdk")){var r=window.document.createElement("script");return r.id="google-analytics-sdk",r.async=!0,r.defer=!0,r.src="https://www.google-analytics.com/analytics.js",r.onload=(null===(e=window)||void 0===e?void 0:e.ga)&&function(){s(!0),window.ga("create",t),window.ga("require","ec"),window.ga("set","page",window.location.pathname),window.ga("send","pageview")},window.document.body.appendChild(r),function(){r.onload=null}}"undefined"!=typeof ga&&s(!0)}}),[t]);var l=function(e){window.ga("set","page",null==e?void 0:e.page),window.ga("send","pageview")},f=function(e){window.ga("ec:addProduct",{id:e.id,name:e.name,category:e.category_id,price:e.price}),window.ga("ec:setAction","click"),window.ga("send","event","UI","click","add to cart")},d=function(e){window.ga("ec:addProduct",{id:e.id,name:e.name,category:e.category_id,price:e.price,quantity:e.quantity}),window.ga("ec:setAction","add"),window.ga("send","event","UI","click","add to cart")},p=function(e){window.ga("set","userId",e.id)},y=function(e){var t;window.ga("ec:setAction","purchase",{id:e.id,affiliation:null===(t=e.business)||void 0===t?void 0:t.name,revenue:e.total,tax:e.tax_total,shipping:e.delivery_zone_price})};return(0,u.useEffect)((function(){return console.log("Analytic Ready"),a&&window.ga&&(n.on("change_view",l),n.on("userLogin",p),n.on("product_clicked",f),n.on("product_added",d),n.on("order_placed",y)),function(){a&&window.ga&&(n.off("change_view",l),n.off("userLogin",p),n.off("product_clicked",f),n.off("product_added",d),n.off("order_placed",y))}}),[a]),u.default.createElement(u.default.Fragment,null,r)};t.Analytics=f,f.propTypes={trackId:a.default.string.isRequired},f.defaultProps={};var d=f;t.default=d},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AppleLogin=void 0;var o=l(r(8)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=l(r(3)),a=r(11),s=r(33);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){v(u,n,o,i,a,"next",e)}function a(e){v(u,n,o,i,a,"throw",e)}i(void 0)}))}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=function(e){var t,r=e.UIComponent,n=e.onSuccess,i=e.onFailure,c=e.initParams,l=e.handleButtonAppleLoginClick,d=m((0,a.useApi)(),1)[0],y=m((0,u.useState)({loading:!1,result:{error:!1}}),2),v=y[0],h=y[1],g=m((0,s.useConfig)(),1)[0].configs,O=c||{clientId:null==g||null===(t=g.apple_login_client_id)||void 0===t?void 0:t.value,redirectURI:window.location.origin.includes("localhost")?"https://example-app.com/redirect":window.location.href,response_mode:"form_post",response_type:"code",state:"state",scope:"name email",nonce:"nonce",usePopup:!1};(0,u.useEffect)((function(){return window.addEventListener("AppleIDSignInOnSuccess",(function(e){n(e)})),window.addEventListener("AppleIDSignInOnFailure",(function(e){i(e)})),w(),function(){document.removeEventListener("AppleIDSignInOnSuccess"),document.removeEventListener("AppleIDSignInOnFailure")}}),[]);var w=function(){if(!window.document.getElementById("apple-login")){var e=window.document.createElement("script");e.id="apple-login",e.src="https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js",e.async=!0,e.defer=!0,window.document.body.appendChild(e)}},j=function(){var e=b(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=3;break}return l(t),e.abrupt("return");case 3:return e.prev=3,h(p(p({},v),{},{loading:!0})),e.next=7,fetch("".concat(d.root,"/auth/apple"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t.code})});case 7:r=e.sent,h({result:r.content,loading:!1}),r.content.error?i&&i(r.content.result):n&&n(r.content.result),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),h({result:{error:!0,result:e.t0.message},loading:!1});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=b(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.AppleID.auth.signIn();case 3:t=e.sent,console.log(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return u.default.createElement(u.default.Fragment,null,r&&u.default.createElement(r,f({},e,{initLoginApple:function(){window.AppleID.auth.init(O),P()},handleAppleLoginClick:j})))};t.AppleLogin=g,g.propTypes={UIComponent:i.default.elementType,createScriptApple:i.default.func,initLoginApple:i.default.func,handleLoginApple:i.default.func,beforeComponents:i.default.arrayOf(i.default.elementType),afterComponents:i.default.arrayOf(i.default.elementType),beforeElements:i.default.arrayOf(i.default.element),afterElements:i.default.arrayOf(i.default.element)},g.defaultProps={beforeComponents:[],afterComponents:[],beforeElements:[],afterElements:[]};var O=g;t.default=O},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.OrderingProvider=t.OrderingContext=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(33),i=r(16),a=r(57),s=r(17),c=r(151),l=r(26),f=r(11),d=r(42),p=r(58),y=r(59),v=r(60),b=r(449);function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}var h=(0,o.createContext)();t.OrderingContext=h;t.OrderingProvider=function(e){var t=e.Alert,r=e.settings,n=e.children,m=new b.WebStrategy;return o.default.createElement(h.Provider,null,o.default.createElement(d.EventProvider,null,o.default.createElement(f.ApiProvider,{settings:Object.assign(r.api,{project:r.project,appId:r.app_id})},o.default.createElement(l.LanguageProvider,{strategy:m},o.default.createElement(u.ConfigProvider,null,o.default.createElement(p.UtilsProviders,null,o.default.createElement(y.ValidationFieldsProvider,null,o.default.createElement(i.SessionProvider,{strategy:m},o.default.createElement(a.WebsocketProvider,{settings:Object.assign(r.socket,{project:r.project,appId:r.app_id})},o.default.createElement(s.OrderProvider,{strategy:m,Alert:t},o.default.createElement(c.BusinessProvider,null,o.default.createElement(v.CustomerProvider,{strategy:m},n))))))))))))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebStrategy=void 0;var n,o=(n=r(8))&&n.__esModule?n:{default:n};function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,r,n,o,u,i){try{var a=e[u](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function a(e){i(u,n,o,a,s,"next",e)}function s(e){i(u,n,o,a,s,"throw",e)}a(void 0)}))}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n,i,c,l;return t=e,(r=[{key:"getItem",value:(l=a(o.default.mark((function e(t,r){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.getItem(t);case 2:if(n=e.sent,!r||"object"===u(n)){e.next=5;break}return e.abrupt("return",JSON.parse(n));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),function(e,t){return l.apply(this,arguments)})},{key:"setItem",value:(c=a(o.default.mark((function e(t,r,n){var u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=n?JSON.stringify(r):r,e.next=3,window.localStorage.setItem(t,u);case 3:case"end":return e.stop()}}),e)}))),function(e,t,r){return c.apply(this,arguments)})},{key:"removeItem",value:(i=a(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.removeItem(t);case 2:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})}])&&s(t.prototype,r),n&&s(t,n),e}();t.WebStrategy=c}]]);